(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Gh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Al={exports:{}},Xs={},Il={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function Rm(){if(eh)return we;eh=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),g=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=g&&T[g]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function k(T,z,Y){this.props=T,this.context=z,this.refs=P,this.updater=Y||b}k.prototype.isReactComponent={},k.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},k.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=k.prototype;function U(T,z,Y){this.props=T,this.context=z,this.refs=P,this.updater=Y||b}var j=U.prototype=new A;j.constructor=U,C(j,k.prototype),j.isPureReactComponent=!0;var N=Array.isArray,F=Object.prototype.hasOwnProperty,$={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function K(T,z,Y){var ne,ae={},fe=null,_e=null;if(z!=null)for(ne in z.ref!==void 0&&(_e=z.ref),z.key!==void 0&&(fe=""+z.key),z)F.call(z,ne)&&!D.hasOwnProperty(ne)&&(ae[ne]=z[ne]);var oe=arguments.length-2;if(oe===1)ae.children=Y;else if(1<oe){for(var Ee=Array(oe),Qe=0;Qe<oe;Qe++)Ee[Qe]=arguments[Qe+2];ae.children=Ee}if(T&&T.defaultProps)for(ne in oe=T.defaultProps,oe)ae[ne]===void 0&&(ae[ne]=oe[ne]);return{$$typeof:s,type:T,key:fe,ref:_e,props:ae,_owner:$.current}}function G(T,z){return{$$typeof:s,type:T.type,key:z,ref:T.ref,props:T.props,_owner:T._owner}}function ie(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function ye(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Y){return z[Y]})}var Se=/\/+/g;function xe(T,z){return typeof T=="object"&&T!==null&&T.key!=null?ye(""+T.key):z.toString(36)}function He(T,z,Y,ne,ae){var fe=typeof T;(fe==="undefined"||fe==="boolean")&&(T=null);var _e=!1;if(T===null)_e=!0;else switch(fe){case"string":case"number":_e=!0;break;case"object":switch(T.$$typeof){case s:case r:_e=!0}}if(_e)return _e=T,ae=ae(_e),T=ne===""?"."+xe(_e,0):ne,N(ae)?(Y="",T!=null&&(Y=T.replace(Se,"$&/")+"/"),He(ae,z,Y,"",function(Qe){return Qe})):ae!=null&&(ie(ae)&&(ae=G(ae,Y+(!ae.key||_e&&_e.key===ae.key?"":(""+ae.key).replace(Se,"$&/")+"/")+T)),z.push(ae)),1;if(_e=0,ne=ne===""?".":ne+":",N(T))for(var oe=0;oe<T.length;oe++){fe=T[oe];var Ee=ne+xe(fe,oe);_e+=He(fe,z,Y,Ee,ae)}else if(Ee=_(T),typeof Ee=="function")for(T=Ee.call(T),oe=0;!(fe=T.next()).done;)fe=fe.value,Ee=ne+xe(fe,oe++),_e+=He(fe,z,Y,Ee,ae);else if(fe==="object")throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return _e}function Je(T,z,Y){if(T==null)return T;var ne=[],ae=0;return He(T,ne,"","",function(fe){return z.call(Y,fe,ae++)}),ne}function ge(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(Y){(T._status===0||T._status===-1)&&(T._status=1,T._result=Y)},function(Y){(T._status===0||T._status===-1)&&(T._status=2,T._result=Y)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var pe={current:null},J={transition:null},O={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:J,ReactCurrentOwner:$};function B(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Je,forEach:function(T,z,Y){Je(T,function(){z.apply(this,arguments)},Y)},count:function(T){var z=0;return Je(T,function(){z++}),z},toArray:function(T){return Je(T,function(z){return z})||[]},only:function(T){if(!ie(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},we.Component=k,we.Fragment=n,we.Profiler=l,we.PureComponent=U,we.StrictMode=a,we.Suspense=m,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,we.act=B,we.cloneElement=function(T,z,Y){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ne=C({},T.props),ae=T.key,fe=T.ref,_e=T._owner;if(z!=null){if(z.ref!==void 0&&(fe=z.ref,_e=$.current),z.key!==void 0&&(ae=""+z.key),T.type&&T.type.defaultProps)var oe=T.type.defaultProps;for(Ee in z)F.call(z,Ee)&&!D.hasOwnProperty(Ee)&&(ne[Ee]=z[Ee]===void 0&&oe!==void 0?oe[Ee]:z[Ee])}var Ee=arguments.length-2;if(Ee===1)ne.children=Y;else if(1<Ee){oe=Array(Ee);for(var Qe=0;Qe<Ee;Qe++)oe[Qe]=arguments[Qe+2];ne.children=oe}return{$$typeof:s,type:T.type,key:ae,ref:fe,props:ne,_owner:_e}},we.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:u,_context:T},T.Consumer=T},we.createElement=K,we.createFactory=function(T){var z=K.bind(null,T);return z.type=T,z},we.createRef=function(){return{current:null}},we.forwardRef=function(T){return{$$typeof:p,render:T}},we.isValidElement=ie,we.lazy=function(T){return{$$typeof:w,_payload:{_status:-1,_result:T},_init:ge}},we.memo=function(T,z){return{$$typeof:y,type:T,compare:z===void 0?null:z}},we.startTransition=function(T){var z=J.transition;J.transition={};try{T()}finally{J.transition=z}},we.unstable_act=B,we.useCallback=function(T,z){return pe.current.useCallback(T,z)},we.useContext=function(T){return pe.current.useContext(T)},we.useDebugValue=function(){},we.useDeferredValue=function(T){return pe.current.useDeferredValue(T)},we.useEffect=function(T,z){return pe.current.useEffect(T,z)},we.useId=function(){return pe.current.useId()},we.useImperativeHandle=function(T,z,Y){return pe.current.useImperativeHandle(T,z,Y)},we.useInsertionEffect=function(T,z){return pe.current.useInsertionEffect(T,z)},we.useLayoutEffect=function(T,z){return pe.current.useLayoutEffect(T,z)},we.useMemo=function(T,z){return pe.current.useMemo(T,z)},we.useReducer=function(T,z,Y){return pe.current.useReducer(T,z,Y)},we.useRef=function(T){return pe.current.useRef(T)},we.useState=function(T){return pe.current.useState(T)},we.useSyncExternalStore=function(T,z,Y){return pe.current.useSyncExternalStore(T,z,Y)},we.useTransition=function(){return pe.current.useTransition()},we.version="18.3.1",we}var th;function du(){return th||(th=1,Il.exports=Rm()),Il.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function Pm(){if(rh)return Xs;rh=1;var s=du(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,y){var w,g={},_=null,b=null;y!==void 0&&(_=""+y),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(b=m.ref);for(w in m)a.call(m,w)&&!u.hasOwnProperty(w)&&(g[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)g[w]===void 0&&(g[w]=m[w]);return{$$typeof:r,type:p,key:_,ref:b,props:g,_owner:l.current}}return Xs.Fragment=n,Xs.jsx=d,Xs.jsxs=d,Xs}var nh;function Om(){return nh||(nh=1,Al.exports=Pm()),Al.exports}var f=Om(),Na={},Ll={exports:{}},wt={},$l={exports:{}},Dl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function Am(){return sh||(sh=1,(function(s){function r(J,O){var B=J.length;J.push(O);e:for(;0<B;){var T=B-1>>>1,z=J[T];if(0<l(z,O))J[T]=O,J[B]=z,B=T;else break e}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var O=J[0],B=J.pop();if(B!==O){J[0]=B;e:for(var T=0,z=J.length,Y=z>>>1;T<Y;){var ne=2*(T+1)-1,ae=J[ne],fe=ne+1,_e=J[fe];if(0>l(ae,B))fe<z&&0>l(_e,ae)?(J[T]=_e,J[fe]=B,T=fe):(J[T]=ae,J[ne]=B,T=ne);else if(fe<z&&0>l(_e,B))J[T]=_e,J[fe]=B,T=fe;else break e}}return O}function l(J,O){var B=J.sortIndex-O.sortIndex;return B!==0?B:J.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var m=[],y=[],w=1,g=null,_=3,b=!1,C=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(J){for(var O=n(y);O!==null;){if(O.callback===null)a(y);else if(O.startTime<=J)a(y),O.sortIndex=O.expirationTime,r(m,O);else break;O=n(y)}}function N(J){if(P=!1,j(J),!C)if(n(m)!==null)C=!0,ge(F);else{var O=n(y);O!==null&&pe(N,O.startTime-J)}}function F(J,O){C=!1,P&&(P=!1,A(K),K=-1),b=!0;var B=_;try{for(j(O),g=n(m);g!==null&&(!(g.expirationTime>O)||J&&!ye());){var T=g.callback;if(typeof T=="function"){g.callback=null,_=g.priorityLevel;var z=T(g.expirationTime<=O);O=s.unstable_now(),typeof z=="function"?g.callback=z:g===n(m)&&a(m),j(O)}else a(m);g=n(m)}if(g!==null)var Y=!0;else{var ne=n(y);ne!==null&&pe(N,ne.startTime-O),Y=!1}return Y}finally{g=null,_=B,b=!1}}var $=!1,D=null,K=-1,G=5,ie=-1;function ye(){return!(s.unstable_now()-ie<G)}function Se(){if(D!==null){var J=s.unstable_now();ie=J;var O=!0;try{O=D(!0,J)}finally{O?xe():($=!1,D=null)}}else $=!1}var xe;if(typeof U=="function")xe=function(){U(Se)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Je=He.port2;He.port1.onmessage=Se,xe=function(){Je.postMessage(null)}}else xe=function(){k(Se,0)};function ge(J){D=J,$||($=!0,xe())}function pe(J,O){K=k(function(){J(s.unstable_now())},O)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){C||b||(C=!0,ge(F))},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(J){switch(_){case 1:case 2:case 3:var O=3;break;default:O=_}var B=_;_=O;try{return J()}finally{_=B}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,O){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var B=_;_=J;try{return O()}finally{_=B}},s.unstable_scheduleCallback=function(J,O,B){var T=s.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?T+B:T):B=T,J){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=B+z,J={id:w++,callback:O,priorityLevel:J,startTime:B,expirationTime:z,sortIndex:-1},B>T?(J.sortIndex=B,r(y,J),n(m)===null&&J===n(y)&&(P?(A(K),K=-1):P=!0,pe(N,B-T))):(J.sortIndex=z,r(m,J),C||b||(C=!0,ge(F))),J},s.unstable_shouldYield=ye,s.unstable_wrapCallback=function(J){var O=_;return function(){var B=_;_=O;try{return J.apply(this,arguments)}finally{_=B}}}})(Dl)),Dl}var ih;function Im(){return ih||(ih=1,$l.exports=Am()),$l.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function Lm(){if(ah)return wt;ah=1;var s=du(),r=Im();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},g={};function _(e){return m.call(g,e)?!0:m.call(w,e)?!1:y.test(e)?g[e]=!0:(w[e]=!0,!1)}function b(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,i,o){if(t===null||typeof t>"u"||b(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,i,o,c,h,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=v}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A,U);k[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A,U);k[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A,U);k[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function j(e,t,i,o){var c=k.hasOwnProperty(t)?k[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,i,c,o)&&(i=null),o||c===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,o=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var N=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),$=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),ye=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Je=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),J=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,T;function z(e){if(T===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var Y=!1;function ne(e,t){if(!e||Y)return"";Y=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(M){var o=M}Reflect.construct(e,[],t)}else{try{t.call()}catch(M){o=M}e.call(t.prototype)}else{try{throw Error()}catch(M){o=M}e()}}catch(M){if(M&&o&&typeof M.stack=="string"){for(var c=M.stack.split(`
`),h=o.stack.split(`
`),v=c.length-1,x=h.length-1;1<=v&&0<=x&&c[v]!==h[x];)x--;for(;1<=v&&0<=x;v--,x--)if(c[v]!==h[x]){if(v!==1||x!==1)do if(v--,x--,0>x||c[v]!==h[x]){var S=`
`+c[v].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=v&&0<=x);break}}}finally{Y=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?z(e):""}function ae(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case $:return"Portal";case G:return"Profiler";case K:return"StrictMode";case xe:return"Suspense";case He:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ye:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Je:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(t);case 8:return t===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qe(e){var t=Ee(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(v){o=""+v,h.call(this,v)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ir(e){e._valueTracker||(e._valueTracker=Qe(e))}function ar(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Ee(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function En(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zr(e,t){var i=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function gi(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=oe(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hs(e,t){t=t.checked,t!=null&&j(e,"checked",t,!1)}function or(e,t){hs(e,t);var i=oe(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bt(e,t.type,i):t.hasOwnProperty("defaultValue")&&bt(e,t.type,oe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fs(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function bt(e,t,i){(t!=="number"||En(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var en=Array.isArray;function br(e,t,i,o){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+oe(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function tt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lr(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(en(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:oe(i)}}function yi(e,t){var i=oe(t.value),o=oe(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function vi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ps(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rn,jn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rn=rn||document.createElement("div"),rn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pt(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sr=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(e){Sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kr[t]=kr[e]})});function wi(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||kr.hasOwnProperty(e)&&kr[e]?(""+t).trim():t+"px"}function xi(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,c=wi(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,c):e[i]=c}}var _i=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(e,t){if(t){if(_i[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function ms(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nn=null;function Ot(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,Er=null,ur=null;function ys(e){if(e=Ds(e)){if(typeof gs!="function")throw Error(n(280));var t=e.stateNode;t&&(t=zi(t),gs(e.stateNode,e.type,t))}}function me(e){Er?ur?ur.push(e):ur=[e]:Er=e}function Ue(){if(Er){var e=Er,t=ur;if(ur=Er=null,ys(e),t)for(e=0;e<t.length;e++)ys(t[e])}}function We(e,t){return e(t)}function ot(){}var jr=!1;function Fe(e,t,i){if(jr)return e(t,i);jr=!0;try{return We(e,t,i)}finally{jr=!1,(Er!==null||ur!==null)&&(ot(),Ue())}}function Ye(e,t){var i=e.stateNode;if(i===null)return null;var o=zi(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var Nr=!1;if(p)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Nr=!1}function kt(e,t,i,o,c,h,v,x,S){var M=Array.prototype.slice.call(arguments,3);try{t.apply(i,M)}catch(H){this.onError(H)}}var Cr=!1,At=null,vs=!1,Ya=null,Df={onError:function(e){Cr=!0,At=e}};function Uf(e,t,i,o,c,h,v,x,S){Cr=!1,At=null,kt.apply(Df,arguments)}function Mf(e,t,i,o,c,h,v,x,S){if(Uf.apply(this,arguments),Cr){if(Cr){var M=At;Cr=!1,At=null}else throw Error(n(198));vs||(vs=!0,Ya=M)}}function sn(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function ku(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Su(e){if(sn(e)!==e)throw Error(n(188))}function Bf(e){var t=e.alternate;if(!t){if(t=sn(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,o=t;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return Su(c),e;if(h===o)return Su(c),t;h=h.sibling}throw Error(n(188))}if(i.return!==o.return)i=c,o=h;else{for(var v=!1,x=c.child;x;){if(x===i){v=!0,i=c,o=h;break}if(x===o){v=!0,o=c,i=h;break}x=x.sibling}if(!v){for(x=h.child;x;){if(x===i){v=!0,i=h,o=c;break}if(x===o){v=!0,o=h,i=c;break}x=x.sibling}if(!v)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Eu(e){return e=Bf(e),e!==null?ju(e):null}function ju(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ju(e);if(t!==null)return t;e=e.sibling}return null}var Nu=r.unstable_scheduleCallback,Cu=r.unstable_cancelCallback,Ff=r.unstable_shouldYield,zf=r.unstable_requestPaint,Me=r.unstable_now,qf=r.unstable_getCurrentPriorityLevel,Xa=r.unstable_ImmediatePriority,Tu=r.unstable_UserBlockingPriority,bi=r.unstable_NormalPriority,Hf=r.unstable_LowPriority,Ru=r.unstable_IdlePriority,ki=null,Zt=null;function Wf(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ki,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Gf,Vf=Math.log,Kf=Math.LN2;function Gf(e){return e>>>=0,e===0?32:31-(Vf(e)/Kf|0)|0}var Si=64,Ei=4194304;function ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ji(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes,v=i&268435455;if(v!==0){var x=v&~c;x!==0?o=ws(x):(h&=v,h!==0&&(o=ws(h)))}else v=i&~c,v!==0?o=ws(v):h!==0&&(o=ws(h));if(o===0)return 0;if(t!==0&&t!==o&&(t&c)===0&&(c=o&-o,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Ft(t),c=1<<i,o|=e[i],t&=~c;return o}function Jf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var v=31-Ft(h),x=1<<v,S=c[v];S===-1?((x&i)===0||(x&o)!==0)&&(c[v]=Jf(x,t)):S<=t&&(e.expiredLanes|=x),h&=~x}}function Za(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pu(){var e=Si;return Si<<=1,(Si&4194240)===0&&(Si=64),e}function eo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function xs(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=i}function Yf(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Ft(i),h=1<<c;t[c]=0,o[c]=-1,e[c]=-1,i&=~h}}function to(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ft(i),c=1<<o;c&t|e[o]&t&&(e[o]|=t),i&=~c}}var je=0;function Ou(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Au,ro,Iu,Lu,$u,no=!1,Ni=[],Tr=null,Rr=null,Pr=null,_s=new Map,bs=new Map,Or=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Du(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function ks(e,t,i,o,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Ds(t),t!==null&&ro(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Zf(e,t,i,o,c){switch(t){case"focusin":return Tr=ks(Tr,e,t,i,o,c),!0;case"dragenter":return Rr=ks(Rr,e,t,i,o,c),!0;case"mouseover":return Pr=ks(Pr,e,t,i,o,c),!0;case"pointerover":var h=c.pointerId;return _s.set(h,ks(_s.get(h)||null,e,t,i,o,c)),!0;case"gotpointercapture":return h=c.pointerId,bs.set(h,ks(bs.get(h)||null,e,t,i,o,c)),!0}return!1}function Uu(e){var t=an(e.target);if(t!==null){var i=sn(t);if(i!==null){if(t=i.tag,t===13){if(t=ku(i),t!==null){e.blockedOn=t,$u(e.priority,function(){Iu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);nn=o,i.target.dispatchEvent(o),nn=null}else return t=Ds(i),t!==null&&ro(t),e.blockedOn=i,!1;t.shift()}return!0}function Mu(e,t,i){Ci(e)&&i.delete(t)}function ep(){no=!1,Tr!==null&&Ci(Tr)&&(Tr=null),Rr!==null&&Ci(Rr)&&(Rr=null),Pr!==null&&Ci(Pr)&&(Pr=null),_s.forEach(Mu),bs.forEach(Mu)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,no||(no=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ep)))}function Es(e){function t(c){return Ss(c,e)}if(0<Ni.length){Ss(Ni[0],e);for(var i=1;i<Ni.length;i++){var o=Ni[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Tr!==null&&Ss(Tr,e),Rr!==null&&Ss(Rr,e),Pr!==null&&Ss(Pr,e),_s.forEach(t),bs.forEach(t),i=0;i<Or.length;i++)o=Or[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Or.length&&(i=Or[0],i.blockedOn===null);)Uu(i),i.blockedOn===null&&Or.shift()}var Cn=N.ReactCurrentBatchConfig,Ti=!0;function tp(e,t,i,o){var c=je,h=Cn.transition;Cn.transition=null;try{je=1,so(e,t,i,o)}finally{je=c,Cn.transition=h}}function rp(e,t,i,o){var c=je,h=Cn.transition;Cn.transition=null;try{je=4,so(e,t,i,o)}finally{je=c,Cn.transition=h}}function so(e,t,i,o){if(Ti){var c=io(e,t,i,o);if(c===null)ko(e,t,o,Ri,i),Du(e,o);else if(Zf(c,e,t,i,o))o.stopPropagation();else if(Du(e,o),t&4&&-1<Xf.indexOf(e)){for(;c!==null;){var h=Ds(c);if(h!==null&&Au(h),h=io(e,t,i,o),h===null&&ko(e,t,o,Ri,i),h===c)break;c=h}c!==null&&o.stopPropagation()}else ko(e,t,o,null,i)}}var Ri=null;function io(e,t,i,o){if(Ri=null,e=Ot(o),e=an(e),e!==null)if(t=sn(e),t===null)e=null;else if(i=t.tag,i===13){if(e=ku(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ri=e,null}function Bu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qf()){case Xa:return 1;case Tu:return 4;case bi:case Hf:return 16;case Ru:return 536870912;default:return 16}default:return 16}}var Ar=null,ao=null,Pi=null;function Fu(){if(Pi)return Pi;var e,t=ao,i=t.length,o,c="value"in Ar?Ar.value:Ar.textContent,h=c.length;for(e=0;e<i&&t[e]===c[e];e++);var v=i-e;for(o=1;o<=v&&t[i-o]===c[h-o];o++);return Pi=c.slice(e,1<o?1-o:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function zu(){return!1}function St(e){function t(i,o,c,h,v){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ai:zu,this.isPropagationStopped=zu,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=St(Tn),js=B({},Tn,{view:0,detail:0}),np=St(js),lo,uo,Ns,Ii=B({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(lo=e.screenX-Ns.screenX,uo=e.screenY-Ns.screenY):uo=lo=0,Ns=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),qu=St(Ii),sp=B({},Ii,{dataTransfer:0}),ip=St(sp),ap=B({},js,{relatedTarget:0}),co=St(ap),op=B({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),lp=St(op),up=B({},Tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cp=St(up),dp=B({},Tn,{data:0}),Hu=St(dp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pp[e])?!!t[e]:!1}function ho(){return mp}var gp=B({},js,{key:function(e){if(e.key){var t=hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yp=St(gp),vp=B({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=St(vp),wp=B({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),xp=St(wp),_p=B({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),bp=St(_p),kp=B({},Ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sp=St(kp),Ep=[9,13,27,32],fo=p&&"CompositionEvent"in window,Cs=null;p&&"documentMode"in document&&(Cs=document.documentMode);var jp=p&&"TextEvent"in window&&!Cs,Vu=p&&(!fo||Cs&&8<Cs&&11>=Cs),Ku=" ",Gu=!1;function Ju(e,t){switch(e){case"keyup":return Ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function Np(e,t){switch(e){case"compositionend":return Qu(t);case"keypress":return t.which!==32?null:(Gu=!0,Ku);case"textInput":return e=t.data,e===Ku&&Gu?null:e;default:return null}}function Cp(e,t){if(Rn)return e==="compositionend"||!fo&&Ju(e,t)?(e=Fu(),Pi=ao=Ar=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vu&&t.locale!=="ko"?null:t.data;default:return null}}var Tp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tp[e.type]:t==="textarea"}function Xu(e,t,i,o){me(o),t=Mi(t,"onChange"),0<t.length&&(i=new oo("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Ts=null,Rs=null;function Rp(e){gc(e,0)}function Li(e){var t=Ln(e);if(ar(t))return e}function Pp(e,t){if(e==="change")return t}var Zu=!1;if(p){var po;if(p){var mo="oninput"in document;if(!mo){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),mo=typeof ec.oninput=="function"}po=mo}else po=!1;Zu=po&&(!document.documentMode||9<document.documentMode)}function tc(){Ts&&(Ts.detachEvent("onpropertychange",rc),Rs=Ts=null)}function rc(e){if(e.propertyName==="value"&&Li(Rs)){var t=[];Xu(t,Rs,e,Ot(e)),Fe(Rp,t)}}function Op(e,t,i){e==="focusin"?(tc(),Ts=t,Rs=i,Ts.attachEvent("onpropertychange",rc)):e==="focusout"&&tc()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Li(Rs)}function Ip(e,t){if(e==="click")return Li(t)}function Lp(e,t){if(e==="input"||e==="change")return Li(t)}function $p(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:$p;function Ps(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!m.call(t,c)||!zt(e[c],t[c]))return!1}return!0}function nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var i=nc(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=nc(i)}}function ic(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ic(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ac(){for(var e=window,t=En();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=En(e.document)}return t}function go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dp(e){var t=ac(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&ic(i.ownerDocument.documentElement,i)){if(o!==null&&go(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,h=Math.min(o.start,c);o=o.end===void 0?h:Math.min(o.end,c),!e.extend&&h>o&&(c=o,o=h,h=c),c=sc(i,h);var v=sc(i,o);c&&v&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>o?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Up=p&&"documentMode"in document&&11>=document.documentMode,Pn=null,yo=null,Os=null,vo=!1;function oc(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;vo||Pn==null||Pn!==En(o)||(o=Pn,"selectionStart"in o&&go(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Os&&Ps(Os,o)||(Os=o,o=Mi(yo,"onSelect"),0<o.length&&(t=new oo("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Pn)))}function $i(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var On={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},wo={},lc={};p&&(lc=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function Di(e){if(wo[e])return wo[e];if(!On[e])return e;var t=On[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in lc)return wo[e]=t[i];return e}var uc=Di("animationend"),cc=Di("animationiteration"),dc=Di("animationstart"),hc=Di("transitionend"),fc=new Map,pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){fc.set(e,t),u(t,[e])}for(var xo=0;xo<pc.length;xo++){var _o=pc[xo],Mp=_o.toLowerCase(),Bp=_o[0].toUpperCase()+_o.slice(1);Ir(Mp,"on"+Bp)}Ir(uc,"onAnimationEnd"),Ir(cc,"onAnimationIteration"),Ir(dc,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(hc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function mc(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,Mf(o,t,void 0,e),e.currentTarget=null}function gc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var v=o.length-1;0<=v;v--){var x=o[v],S=x.instance,M=x.currentTarget;if(x=x.listener,S!==h&&c.isPropagationStopped())break e;mc(c,x,M),h=S}else for(v=0;v<o.length;v++){if(x=o[v],S=x.instance,M=x.currentTarget,x=x.listener,S!==h&&c.isPropagationStopped())break e;mc(c,x,M),h=S}}}if(vs)throw e=Ya,vs=!1,Ya=null,e}function Te(e,t){var i=t[To];i===void 0&&(i=t[To]=new Set);var o=e+"__bubble";i.has(o)||(yc(t,e,2,!1),i.add(o))}function bo(e,t,i){var o=0;t&&(o|=4),yc(i,e,o,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Is(e){if(!e[Ui]){e[Ui]=!0,a.forEach(function(i){i!=="selectionchange"&&(Fp.has(i)||bo(i,!1,e),bo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ui]||(t[Ui]=!0,bo("selectionchange",!1,t))}}function yc(e,t,i,o){switch(Bu(t)){case 1:var c=tp;break;case 4:c=rp;break;default:c=so}i=c.bind(null,t,i,e),c=void 0,!Nr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function ko(e,t,i,o,c){var h=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var x=o.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(v===4)for(v=o.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;v=v.return}for(;x!==null;){if(v=an(x),v===null)return;if(S=v.tag,S===5||S===6){o=h=v;continue e}x=x.parentNode}}o=o.return}Fe(function(){var M=h,H=Ot(i),W=[];e:{var q=fc.get(e);if(q!==void 0){var X=oo,ee=e;switch(e){case"keypress":if(Oi(i)===0)break e;case"keydown":case"keyup":X=yp;break;case"focusin":ee="focus",X=co;break;case"focusout":ee="blur",X=co;break;case"beforeblur":case"afterblur":X=co;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=xp;break;case uc:case cc:case dc:X=lp;break;case hc:X=bp;break;case"scroll":X=np;break;case"wheel":X=Sp;break;case"copy":case"cut":case"paste":X=cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wu}var te=(t&4)!==0,Be=!te&&e==="scroll",I=te?q!==null?q+"Capture":null:q;te=[];for(var E=M,L;E!==null;){L=E;var V=L.stateNode;if(L.tag===5&&V!==null&&(L=V,I!==null&&(V=Ye(E,I),V!=null&&te.push(Ls(E,V,L)))),Be)break;E=E.return}0<te.length&&(q=new X(q,ee,null,i,H),W.push({event:q,listeners:te}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",q&&i!==nn&&(ee=i.relatedTarget||i.fromElement)&&(an(ee)||ee[cr]))break e;if((X||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,X?(ee=i.relatedTarget||i.toElement,X=M,ee=ee?an(ee):null,ee!==null&&(Be=sn(ee),ee!==Be||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(X=null,ee=M),X!==ee)){if(te=qu,V="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(te=Wu,V="onPointerLeave",I="onPointerEnter",E="pointer"),Be=X==null?q:Ln(X),L=ee==null?q:Ln(ee),q=new te(V,E+"leave",X,i,H),q.target=Be,q.relatedTarget=L,V=null,an(H)===M&&(te=new te(I,E+"enter",ee,i,H),te.target=L,te.relatedTarget=Be,V=te),Be=V,X&&ee)t:{for(te=X,I=ee,E=0,L=te;L;L=An(L))E++;for(L=0,V=I;V;V=An(V))L++;for(;0<E-L;)te=An(te),E--;for(;0<L-E;)I=An(I),L--;for(;E--;){if(te===I||I!==null&&te===I.alternate)break t;te=An(te),I=An(I)}te=null}else te=null;X!==null&&vc(W,q,X,te,!1),ee!==null&&Be!==null&&vc(W,Be,ee,te,!0)}}e:{if(q=M?Ln(M):window,X=q.nodeName&&q.nodeName.toLowerCase(),X==="select"||X==="input"&&q.type==="file")var re=Pp;else if(Yu(q))if(Zu)re=Lp;else{re=Ap;var le=Op}else(X=q.nodeName)&&X.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(re=Ip);if(re&&(re=re(e,M))){Xu(W,re,i,H);break e}le&&le(e,q,M),e==="focusout"&&(le=q._wrapperState)&&le.controlled&&q.type==="number"&&bt(q,"number",q.value)}switch(le=M?Ln(M):window,e){case"focusin":(Yu(le)||le.contentEditable==="true")&&(Pn=le,yo=M,Os=null);break;case"focusout":Os=yo=Pn=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,oc(W,i,H);break;case"selectionchange":if(Up)break;case"keydown":case"keyup":oc(W,i,H)}var ue;if(fo)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Rn?Ju(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(Vu&&i.locale!=="ko"&&(Rn||he!=="onCompositionStart"?he==="onCompositionEnd"&&Rn&&(ue=Fu()):(Ar=H,ao="value"in Ar?Ar.value:Ar.textContent,Rn=!0)),le=Mi(M,he),0<le.length&&(he=new Hu(he,e,null,i,H),W.push({event:he,listeners:le}),ue?he.data=ue:(ue=Qu(i),ue!==null&&(he.data=ue)))),(ue=jp?Np(e,i):Cp(e,i))&&(M=Mi(M,"onBeforeInput"),0<M.length&&(H=new Hu("onBeforeInput","beforeinput",null,i,H),W.push({event:H,listeners:M}),H.data=ue))}gc(W,t)})}function Ls(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Mi(e,t){for(var i=t+"Capture",o=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Ye(e,i),h!=null&&o.unshift(Ls(e,h,c)),h=Ye(e,t),h!=null&&o.push(Ls(e,h,c))),e=e.return}return o}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vc(e,t,i,o,c){for(var h=t._reactName,v=[];i!==null&&i!==o;){var x=i,S=x.alternate,M=x.stateNode;if(S!==null&&S===o)break;x.tag===5&&M!==null&&(x=M,c?(S=Ye(i,h),S!=null&&v.unshift(Ls(i,S,x))):c||(S=Ye(i,h),S!=null&&v.push(Ls(i,S,x)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var zp=/\r\n?/g,qp=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(zp,`
`).replace(qp,"")}function Bi(e,t,i){if(t=wc(t),wc(e)!==t&&i)throw Error(n(425))}function Fi(){}var So=null,Eo=null;function jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var No=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(e){return xc.resolve(null).then(e).catch(Vp)}:No;function Vp(e){setTimeout(function(){throw e})}function Co(e,t){var i=t,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(o===0){e.removeChild(c),Es(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=c}while(i);Es(t)}function Lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var In=Math.random().toString(36).slice(2),er="__reactFiber$"+In,$s="__reactProps$"+In,cr="__reactContainer$"+In,To="__reactEvents$"+In,Kp="__reactListeners$"+In,Gp="__reactHandles$"+In;function an(e){var t=e[er];if(t)return t;for(var i=e.parentNode;i;){if(t=i[cr]||i[er]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=_c(e);e!==null;){if(i=e[er])return i;e=_c(e)}return t}e=i,i=e.parentNode}return null}function Ds(e){return e=e[er]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function zi(e){return e[$s]||null}var Ro=[],$n=-1;function $r(e){return{current:e}}function Re(e){0>$n||(e.current=Ro[$n],Ro[$n]=null,$n--)}function Ne(e,t){$n++,Ro[$n]=e.current,e.current=t}var Dr={},lt=$r(Dr),pt=$r(!1),on=Dr;function Dn(e,t){var i=e.type.contextTypes;if(!i)return Dr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in i)c[h]=t[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function mt(e){return e=e.childContextTypes,e!=null}function qi(){Re(pt),Re(lt)}function bc(e,t,i){if(lt.current!==Dr)throw Error(n(168));Ne(lt,t),Ne(pt,i)}function kc(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(n(108,_e(e)||"Unknown",c));return B({},i,o)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dr,on=lt.current,Ne(lt,e),Ne(pt,pt.current),!0}function Sc(e,t,i){var o=e.stateNode;if(!o)throw Error(n(169));i?(e=kc(e,t,on),o.__reactInternalMemoizedMergedChildContext=e,Re(pt),Re(lt),Ne(lt,e)):Re(pt),Ne(pt,i)}var dr=null,Wi=!1,Po=!1;function Ec(e){dr===null?dr=[e]:dr.push(e)}function Jp(e){Wi=!0,Ec(e)}function Ur(){if(!Po&&dr!==null){Po=!0;var e=0,t=je;try{var i=dr;for(je=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}dr=null,Wi=!1}catch(c){throw dr!==null&&(dr=dr.slice(e+1)),Nu(Xa,Ur),c}finally{je=t,Po=!1}}return null}var Un=[],Mn=0,Vi=null,Ki=0,It=[],Lt=0,ln=null,hr=1,fr="";function un(e,t){Un[Mn++]=Ki,Un[Mn++]=Vi,Vi=e,Ki=t}function jc(e,t,i){It[Lt++]=hr,It[Lt++]=fr,It[Lt++]=ln,ln=e;var o=hr;e=fr;var c=32-Ft(o)-1;o&=~(1<<c),i+=1;var h=32-Ft(t)+c;if(30<h){var v=c-c%5;h=(o&(1<<v)-1).toString(32),o>>=v,c-=v,hr=1<<32-Ft(t)+c|i<<c|o,fr=h+e}else hr=1<<h|i<<c|o,fr=e}function Oo(e){e.return!==null&&(un(e,1),jc(e,1,0))}function Ao(e){for(;e===Vi;)Vi=Un[--Mn],Un[Mn]=null,Ki=Un[--Mn],Un[Mn]=null;for(;e===ln;)ln=It[--Lt],It[Lt]=null,fr=It[--Lt],It[Lt]=null,hr=It[--Lt],It[Lt]=null}var Et=null,jt=null,Oe=!1,qt=null;function Nc(e,t){var i=Mt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Cc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,jt=Lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=ln!==null?{id:hr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Mt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Et=e,jt=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(Oe){var t=jt;if(t){var i=t;if(!Cc(e,t)){if(Io(e))throw Error(n(418));t=Lr(i.nextSibling);var o=Et;t&&Cc(e,t)?Nc(o,i):(e.flags=e.flags&-4097|2,Oe=!1,Et=e)}}else{if(Io(e))throw Error(n(418));e.flags=e.flags&-4097|2,Oe=!1,Et=e}}}function Tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Gi(e){if(e!==Et)return!1;if(!Oe)return Tc(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jo(e.type,e.memoizedProps)),t&&(t=jt)){if(Io(e))throw Rc(),Error(n(418));for(;t;)Nc(e,t),t=Lr(t.nextSibling)}if(Tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){jt=Lr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Et?Lr(e.stateNode.nextSibling):null;return!0}function Rc(){for(var e=jt;e;)e=Lr(e.nextSibling)}function Bn(){jt=Et=null,Oe=!1}function $o(e){qt===null?qt=[e]:qt.push(e)}var Qp=N.ReactCurrentBatchConfig;function Us(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,e));var c=o,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(v){var x=c.refs;v===null?delete x[h]:x[h]=v},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pc(e){var t=e._init;return t(e._payload)}function Oc(e){function t(I,E){if(e){var L=I.deletions;L===null?(I.deletions=[E],I.flags|=16):L.push(E)}}function i(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function o(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function c(I,E){return I=Vr(I,E),I.index=0,I.sibling=null,I}function h(I,E,L){return I.index=L,e?(L=I.alternate,L!==null?(L=L.index,L<E?(I.flags|=2,E):L):(I.flags|=2,E)):(I.flags|=1048576,E)}function v(I){return e&&I.alternate===null&&(I.flags|=2),I}function x(I,E,L,V){return E===null||E.tag!==6?(E=Nl(L,I.mode,V),E.return=I,E):(E=c(E,L),E.return=I,E)}function S(I,E,L,V){var re=L.type;return re===D?H(I,E,L.props.children,V,L.key):E!==null&&(E.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ge&&Pc(re)===E.type)?(V=c(E,L.props),V.ref=Us(I,E,L),V.return=I,V):(V=wa(L.type,L.key,L.props,null,I.mode,V),V.ref=Us(I,E,L),V.return=I,V)}function M(I,E,L,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==L.containerInfo||E.stateNode.implementation!==L.implementation?(E=Cl(L,I.mode,V),E.return=I,E):(E=c(E,L.children||[]),E.return=I,E)}function H(I,E,L,V,re){return E===null||E.tag!==7?(E=yn(L,I.mode,V,re),E.return=I,E):(E=c(E,L),E.return=I,E)}function W(I,E,L){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Nl(""+E,I.mode,L),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case F:return L=wa(E.type,E.key,E.props,null,I.mode,L),L.ref=Us(I,null,E),L.return=I,L;case $:return E=Cl(E,I.mode,L),E.return=I,E;case ge:var V=E._init;return W(I,V(E._payload),L)}if(en(E)||O(E))return E=yn(E,I.mode,L,null),E.return=I,E;Ji(I,E)}return null}function q(I,E,L,V){var re=E!==null?E.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return re!==null?null:x(I,E,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===re?S(I,E,L,V):null;case $:return L.key===re?M(I,E,L,V):null;case ge:return re=L._init,q(I,E,re(L._payload),V)}if(en(L)||O(L))return re!==null?null:H(I,E,L,V,null);Ji(I,L)}return null}function X(I,E,L,V,re){if(typeof V=="string"&&V!==""||typeof V=="number")return I=I.get(L)||null,x(E,I,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case F:return I=I.get(V.key===null?L:V.key)||null,S(E,I,V,re);case $:return I=I.get(V.key===null?L:V.key)||null,M(E,I,V,re);case ge:var le=V._init;return X(I,E,L,le(V._payload),re)}if(en(V)||O(V))return I=I.get(L)||null,H(E,I,V,re,null);Ji(E,V)}return null}function ee(I,E,L,V){for(var re=null,le=null,ue=E,he=E=0,et=null;ue!==null&&he<L.length;he++){ue.index>he?(et=ue,ue=null):et=ue.sibling;var ke=q(I,ue,L[he],V);if(ke===null){ue===null&&(ue=et);break}e&&ue&&ke.alternate===null&&t(I,ue),E=h(ke,E,he),le===null?re=ke:le.sibling=ke,le=ke,ue=et}if(he===L.length)return i(I,ue),Oe&&un(I,he),re;if(ue===null){for(;he<L.length;he++)ue=W(I,L[he],V),ue!==null&&(E=h(ue,E,he),le===null?re=ue:le.sibling=ue,le=ue);return Oe&&un(I,he),re}for(ue=o(I,ue);he<L.length;he++)et=X(ue,I,he,L[he],V),et!==null&&(e&&et.alternate!==null&&ue.delete(et.key===null?he:et.key),E=h(et,E,he),le===null?re=et:le.sibling=et,le=et);return e&&ue.forEach(function(Kr){return t(I,Kr)}),Oe&&un(I,he),re}function te(I,E,L,V){var re=O(L);if(typeof re!="function")throw Error(n(150));if(L=re.call(L),L==null)throw Error(n(151));for(var le=re=null,ue=E,he=E=0,et=null,ke=L.next();ue!==null&&!ke.done;he++,ke=L.next()){ue.index>he?(et=ue,ue=null):et=ue.sibling;var Kr=q(I,ue,ke.value,V);if(Kr===null){ue===null&&(ue=et);break}e&&ue&&Kr.alternate===null&&t(I,ue),E=h(Kr,E,he),le===null?re=Kr:le.sibling=Kr,le=Kr,ue=et}if(ke.done)return i(I,ue),Oe&&un(I,he),re;if(ue===null){for(;!ke.done;he++,ke=L.next())ke=W(I,ke.value,V),ke!==null&&(E=h(ke,E,he),le===null?re=ke:le.sibling=ke,le=ke);return Oe&&un(I,he),re}for(ue=o(I,ue);!ke.done;he++,ke=L.next())ke=X(ue,I,he,ke.value,V),ke!==null&&(e&&ke.alternate!==null&&ue.delete(ke.key===null?he:ke.key),E=h(ke,E,he),le===null?re=ke:le.sibling=ke,le=ke);return e&&ue.forEach(function(Tm){return t(I,Tm)}),Oe&&un(I,he),re}function Be(I,E,L,V){if(typeof L=="object"&&L!==null&&L.type===D&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var re=L.key,le=E;le!==null;){if(le.key===re){if(re=L.type,re===D){if(le.tag===7){i(I,le.sibling),E=c(le,L.props.children),E.return=I,I=E;break e}}else if(le.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ge&&Pc(re)===le.type){i(I,le.sibling),E=c(le,L.props),E.ref=Us(I,le,L),E.return=I,I=E;break e}i(I,le);break}else t(I,le);le=le.sibling}L.type===D?(E=yn(L.props.children,I.mode,V,L.key),E.return=I,I=E):(V=wa(L.type,L.key,L.props,null,I.mode,V),V.ref=Us(I,E,L),V.return=I,I=V)}return v(I);case $:e:{for(le=L.key;E!==null;){if(E.key===le)if(E.tag===4&&E.stateNode.containerInfo===L.containerInfo&&E.stateNode.implementation===L.implementation){i(I,E.sibling),E=c(E,L.children||[]),E.return=I,I=E;break e}else{i(I,E);break}else t(I,E);E=E.sibling}E=Cl(L,I.mode,V),E.return=I,I=E}return v(I);case ge:return le=L._init,Be(I,E,le(L._payload),V)}if(en(L))return ee(I,E,L,V);if(O(L))return te(I,E,L,V);Ji(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,E!==null&&E.tag===6?(i(I,E.sibling),E=c(E,L),E.return=I,I=E):(i(I,E),E=Nl(L,I.mode,V),E.return=I,I=E),v(I)):i(I,E)}return Be}var Fn=Oc(!0),Ac=Oc(!1),Qi=$r(null),Yi=null,zn=null,Do=null;function Uo(){Do=zn=Yi=null}function Mo(e){var t=Qi.current;Re(Qi),e._currentValue=t}function Bo(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function qn(e,t){Yi=e,Do=zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:t,next:null},zn===null){if(Yi===null)throw Error(n(308));zn=e,Yi.dependencies={lanes:0,firstContext:e}}else zn=zn.next=e;return t}var cn=null;function Fo(e){cn===null?cn=[e]:cn.push(e)}function Ic(e,t,i,o){var c=t.interleaved;return c===null?(i.next=i,Fo(t)):(i.next=c.next,c.next=i),t.interleaved=i,pr(e,o)}function pr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Mr=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(be&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,pr(e,i)}return c=o.interleaved,c===null?(t.next=t,Fo(o)):(t.next=c.next,c.next=t),o.interleaved=t,pr(e,i)}function Xi(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,to(e,i)}}function $c(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?c=h=v:h=h.next=v,i=i.next}while(i!==null);h===null?c=h=t:h=h.next=t}else c=h=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Zi(e,t,i,o){var c=e.updateQueue;Mr=!1;var h=c.firstBaseUpdate,v=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var S=x,M=S.next;S.next=null,v===null?h=M:v.next=M,v=S;var H=e.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==v&&(x===null?H.firstBaseUpdate=M:x.next=M,H.lastBaseUpdate=S))}if(h!==null){var W=c.baseState;v=0,H=M=S=null,x=h;do{var q=x.lane,X=x.eventTime;if((o&q)===q){H!==null&&(H=H.next={eventTime:X,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ee=e,te=x;switch(q=t,X=i,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){W=ee.call(X,W,q);break e}W=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,q=typeof ee=="function"?ee.call(X,W,q):ee,q==null)break e;W=B({},W,q);break e;case 2:Mr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,q=c.effects,q===null?c.effects=[x]:q.push(x))}else X={eventTime:X,lane:q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(M=H=X,S=W):H=H.next=X,v|=q;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;q=x,x=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);if(H===null&&(S=W),c.baseState=S,c.firstBaseUpdate=M,c.lastBaseUpdate=H,t=c.shared.interleaved,t!==null){c=t;do v|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);fn|=v,e.lanes=v,e.memoizedState=W}}function Dc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=i,typeof c!="function")throw Error(n(191,c));c.call(o)}}}var Ms={},tr=$r(Ms),Bs=$r(Ms),Fs=$r(Ms);function dn(e){if(e===Ms)throw Error(n(174));return e}function qo(e,t){switch(Ne(Fs,t),Ne(Bs,e),Ne(tr,Ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ps(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ps(t,e)}Re(tr),Ne(tr,t)}function Hn(){Re(tr),Re(Bs),Re(Fs)}function Uc(e){dn(Fs.current);var t=dn(tr.current),i=ps(t,e.type);t!==i&&(Ne(Bs,e),Ne(tr,i))}function Ho(e){Bs.current===e&&(Re(tr),Re(Bs))}var Ie=$r(0);function ea(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=[];function Vo(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var ta=N.ReactCurrentDispatcher,Ko=N.ReactCurrentBatchConfig,hn=0,Le=null,Ve=null,Xe=null,ra=!1,zs=!1,qs=0,Yp=0;function ut(){throw Error(n(321))}function Go(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!zt(e[i],t[i]))return!1;return!0}function Jo(e,t,i,o,c,h){if(hn=h,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=e===null||e.memoizedState===null?tm:rm,e=i(o,c),zs){h=0;do{if(zs=!1,qs=0,25<=h)throw Error(n(301));h+=1,Xe=Ve=null,t.updateQueue=null,ta.current=nm,e=i(o,c)}while(zs)}if(ta.current=ia,t=Ve!==null&&Ve.next!==null,hn=0,Xe=Ve=Le=null,ra=!1,t)throw Error(n(300));return e}function Qo(){var e=qs!==0;return qs=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Le.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Dt(){if(Ve===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Xe===null?Le.memoizedState:Xe.next;if(t!==null)Xe=t,Ve=e;else{if(e===null)throw Error(n(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Xe===null?Le.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Hs(e,t){return typeof t=="function"?t(e):t}function Yo(e){var t=Dt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=Ve,c=o.baseQueue,h=i.pending;if(h!==null){if(c!==null){var v=c.next;c.next=h.next,h.next=v}o.baseQueue=c=h,i.pending=null}if(c!==null){h=c.next,o=o.baseState;var x=v=null,S=null,M=h;do{var H=M.lane;if((hn&H)===H)S!==null&&(S=S.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),o=M.hasEagerState?M.eagerState:e(o,M.action);else{var W={lane:H,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};S===null?(x=S=W,v=o):S=S.next=W,Le.lanes|=H,fn|=H}M=M.next}while(M!==null&&M!==h);S===null?v=o:S.next=x,zt(o,t.memoizedState)||(gt=!0),t.memoizedState=o,t.baseState=v,t.baseQueue=S,i.lastRenderedState=o}if(e=i.interleaved,e!==null){c=e;do h=c.lane,Le.lanes|=h,fn|=h,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Xo(e){var t=Dt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,h=t.memoizedState;if(c!==null){i.pending=null;var v=c=c.next;do h=e(h,v.action),v=v.next;while(v!==c);zt(h,t.memoizedState)||(gt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,o]}function Mc(){}function Bc(e,t){var i=Le,o=Dt(),c=t(),h=!zt(o.memoizedState,c);if(h&&(o.memoizedState=c,gt=!0),o=o.queue,Zo(qc.bind(null,i,o,e),[e]),o.getSnapshot!==t||h||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,Ws(9,zc.bind(null,i,o,c,t),void 0,null),Ze===null)throw Error(n(349));(hn&30)!==0||Fc(i,t,c)}return c}function Fc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function zc(e,t,i,o){t.value=i,t.getSnapshot=o,Hc(t)&&Wc(e)}function qc(e,t,i){return i(function(){Hc(t)&&Wc(e)})}function Hc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!zt(e,i)}catch{return!0}}function Wc(e){var t=pr(e,1);t!==null&&Kt(t,e,1,-1)}function Vc(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t.queue=e,e=e.dispatch=em.bind(null,Le,e),[t.memoizedState,e]}function Ws(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Kc(){return Dt().memoizedState}function na(e,t,i,o){var c=rr();Le.flags|=e,c.memoizedState=Ws(1|t,i,void 0,o===void 0?null:o)}function sa(e,t,i,o){var c=Dt();o=o===void 0?null:o;var h=void 0;if(Ve!==null){var v=Ve.memoizedState;if(h=v.destroy,o!==null&&Go(o,v.deps)){c.memoizedState=Ws(t,i,h,o);return}}Le.flags|=e,c.memoizedState=Ws(1|t,i,h,o)}function Gc(e,t){return na(8390656,8,e,t)}function Zo(e,t){return sa(2048,8,e,t)}function Jc(e,t){return sa(4,2,e,t)}function Qc(e,t){return sa(4,4,e,t)}function Yc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xc(e,t,i){return i=i!=null?i.concat([e]):null,sa(4,4,Yc.bind(null,t,e),i)}function el(){}function Zc(e,t){var i=Dt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Go(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function ed(e,t){var i=Dt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Go(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function td(e,t,i){return(hn&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=i):(zt(i,t)||(i=Pu(),Le.lanes|=i,fn|=i,e.baseState=!0),t)}function Xp(e,t){var i=je;je=i!==0&&4>i?i:4,e(!0);var o=Ko.transition;Ko.transition={};try{e(!1),t()}finally{je=i,Ko.transition=o}}function rd(){return Dt().memoizedState}function Zp(e,t,i){var o=Hr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},nd(e))sd(t,i);else if(i=Ic(e,t,i,o),i!==null){var c=ft();Kt(i,e,o,c),id(i,t,o)}}function em(e,t,i){var o=Hr(e),c={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(nd(e))sd(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var v=t.lastRenderedState,x=h(v,i);if(c.hasEagerState=!0,c.eagerState=x,zt(x,v)){var S=t.interleaved;S===null?(c.next=c,Fo(t)):(c.next=S.next,S.next=c),t.interleaved=c;return}}catch{}finally{}i=Ic(e,t,c,o),i!==null&&(c=ft(),Kt(i,e,o,c),id(i,t,o))}}function nd(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function sd(e,t){zs=ra=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function id(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,to(e,i)}}var ia={readContext:$t,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},tm={readContext:$t,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Gc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,na(4194308,4,Yc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return na(4194308,4,e,t)},useInsertionEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var i=rr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=rr();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Zp.bind(null,Le,e),[o.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:el,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=Xp.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Le,c=rr();if(Oe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),Ze===null)throw Error(n(349));(hn&30)!==0||Fc(o,t,i)}c.memoizedState=i;var h={value:i,getSnapshot:t};return c.queue=h,Gc(qc.bind(null,o,h,e),[e]),o.flags|=2048,Ws(9,zc.bind(null,o,h,i,t),void 0,null),i},useId:function(){var e=rr(),t=Ze.identifierPrefix;if(Oe){var i=fr,o=hr;i=(o&~(1<<32-Ft(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=qs++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Yp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rm={readContext:$t,useCallback:Zc,useContext:$t,useEffect:Zo,useImperativeHandle:Xc,useInsertionEffect:Jc,useLayoutEffect:Qc,useMemo:ed,useReducer:Yo,useRef:Kc,useState:function(){return Yo(Hs)},useDebugValue:el,useDeferredValue:function(e){var t=Dt();return td(t,Ve.memoizedState,e)},useTransition:function(){var e=Yo(Hs)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Mc,useSyncExternalStore:Bc,useId:rd,unstable_isNewReconciler:!1},nm={readContext:$t,useCallback:Zc,useContext:$t,useEffect:Zo,useImperativeHandle:Xc,useInsertionEffect:Jc,useLayoutEffect:Qc,useMemo:ed,useReducer:Xo,useRef:Kc,useState:function(){return Xo(Hs)},useDebugValue:el,useDeferredValue:function(e){var t=Dt();return Ve===null?t.memoizedState=e:td(t,Ve.memoizedState,e)},useTransition:function(){var e=Xo(Hs)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Mc,useSyncExternalStore:Bc,useId:rd,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=B({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function tl(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:B({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var aa={isMounted:function(e){return(e=e._reactInternals)?sn(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=ft(),c=Hr(e),h=mr(o,c);h.payload=t,i!=null&&(h.callback=i),t=Br(e,h,c),t!==null&&(Kt(t,e,c,o),Xi(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=ft(),c=Hr(e),h=mr(o,c);h.tag=1,h.payload=t,i!=null&&(h.callback=i),t=Br(e,h,c),t!==null&&(Kt(t,e,c,o),Xi(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ft(),o=Hr(e),c=mr(i,o);c.tag=2,t!=null&&(c.callback=t),t=Br(e,c,o),t!==null&&(Kt(t,e,o,i),Xi(t,e,o))}};function ad(e,t,i,o,c,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,v):t.prototype&&t.prototype.isPureReactComponent?!Ps(i,o)||!Ps(c,h):!0}function od(e,t,i){var o=!1,c=Dr,h=t.contextType;return typeof h=="object"&&h!==null?h=$t(h):(c=mt(t)?on:lt.current,o=t.contextTypes,h=(o=o!=null)?Dn(e,c):Dr),t=new t(i,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function ld(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function rl(e,t,i,o){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},zo(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=$t(h):(h=mt(t)?on:lt.current,c.context=Dn(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(tl(e,t,h,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&aa.enqueueReplaceState(c,c.state,null),Zi(e,i,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var i="",o=t;do i+=ae(o),o=o.return;while(o);var c=i}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function nl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function sl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var sm=typeof WeakMap=="function"?WeakMap:Map;function ud(e,t,i){i=mr(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){fa||(fa=!0,wl=o),sl(e,t)},i}function cd(e,t,i){i=mr(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;i.payload=function(){return o(c)},i.callback=function(){sl(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){sl(e,t),typeof o!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),i}function dd(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new sm;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(c.add(i),e=vm.bind(null,e,t,i),t.then(e,e))}function hd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fd(e,t,i,o,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=mr(-1,1),t.tag=2,Br(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var im=N.ReactCurrentOwner,gt=!1;function ht(e,t,i,o){t.child=e===null?Ac(t,null,i,o):Fn(t,e.child,i,o)}function pd(e,t,i,o,c){i=i.render;var h=t.ref;return qn(t,c),o=Jo(e,t,i,o,h,c),i=Qo(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,gr(e,t,c)):(Oe&&i&&Oo(t),t.flags|=1,ht(e,t,o,c),t.child)}function md(e,t,i,o,c){if(e===null){var h=i.type;return typeof h=="function"&&!jl(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=h,gd(e,t,h,o,c)):(e=wa(i.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var v=h.memoizedProps;if(i=i.compare,i=i!==null?i:Ps,i(v,o)&&e.ref===t.ref)return gr(e,t,c)}return t.flags|=1,e=Vr(h,o),e.ref=t.ref,e.return=t,t.child=e}function gd(e,t,i,o,c){if(e!==null){var h=e.memoizedProps;if(Ps(h,o)&&e.ref===t.ref)if(gt=!1,t.pendingProps=o=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,gr(e,t,c)}return il(e,t,i,o,c)}function yd(e,t,i){var o=t.pendingProps,c=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Kn,Nt),Nt|=i;else{if((i&1073741824)===0)return e=h!==null?h.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Kn,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:i,Ne(Kn,Nt),Nt|=o}else h!==null?(o=h.baseLanes|i,t.memoizedState=null):o=i,Ne(Kn,Nt),Nt|=o;return ht(e,t,c,i),t.child}function vd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function il(e,t,i,o,c){var h=mt(i)?on:lt.current;return h=Dn(t,h),qn(t,c),i=Jo(e,t,i,o,h,c),o=Qo(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,gr(e,t,c)):(Oe&&o&&Oo(t),t.flags|=1,ht(e,t,i,c),t.child)}function wd(e,t,i,o,c){if(mt(i)){var h=!0;Hi(t)}else h=!1;if(qn(t,c),t.stateNode===null)la(e,t),od(t,i,o),rl(t,i,o,c),o=!0;else if(e===null){var v=t.stateNode,x=t.memoizedProps;v.props=x;var S=v.context,M=i.contextType;typeof M=="object"&&M!==null?M=$t(M):(M=mt(i)?on:lt.current,M=Dn(t,M));var H=i.getDerivedStateFromProps,W=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function";W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==o||S!==M)&&ld(t,v,o,M),Mr=!1;var q=t.memoizedState;v.state=q,Zi(t,o,v,c),S=t.memoizedState,x!==o||q!==S||pt.current||Mr?(typeof H=="function"&&(tl(t,i,H,o),S=t.memoizedState),(x=Mr||ad(t,i,x,o,q,S,M))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=S),v.props=o,v.state=S,v.context=M,o=x):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{v=t.stateNode,Lc(e,t),x=t.memoizedProps,M=t.type===t.elementType?x:Ht(t.type,x),v.props=M,W=t.pendingProps,q=v.context,S=i.contextType,typeof S=="object"&&S!==null?S=$t(S):(S=mt(i)?on:lt.current,S=Dn(t,S));var X=i.getDerivedStateFromProps;(H=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==W||q!==S)&&ld(t,v,o,S),Mr=!1,q=t.memoizedState,v.state=q,Zi(t,o,v,c);var ee=t.memoizedState;x!==W||q!==ee||pt.current||Mr?(typeof X=="function"&&(tl(t,i,X,o),ee=t.memoizedState),(M=Mr||ad(t,i,M,o,q,ee,S)||!1)?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(o,ee,S),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(o,ee,S)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=ee),v.props=o,v.state=ee,v.context=S,o=M):(typeof v.componentDidUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),o=!1)}return al(e,t,i,o,h,c)}function al(e,t,i,o,c,h){vd(e,t);var v=(t.flags&128)!==0;if(!o&&!v)return c&&Sc(t,i,!1),gr(e,t,h);o=t.stateNode,im.current=t;var x=v&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&v?(t.child=Fn(t,e.child,null,h),t.child=Fn(t,null,x,h)):ht(e,t,x,h),t.memoizedState=o.state,c&&Sc(t,i,!0),t.child}function xd(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),qo(e,t.containerInfo)}function _d(e,t,i,o,c){return Bn(),$o(c),t.flags|=256,ht(e,t,i,o),t.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function bd(e,t,i){var o=t.pendingProps,c=Ie.current,h=!1,v=(t.flags&128)!==0,x;if((x=v)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ne(Ie,c&1),e===null)return Lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=o.children,e=o.fallback,h?(o=t.mode,h=t.child,v={mode:"hidden",children:v},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=v):h=xa(v,o,0,null),e=yn(e,o,i,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=ll(i),t.memoizedState=ol,e):ul(t,v));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return am(e,t,v,o,x,c,i);if(h){h=o.fallback,v=t.mode,c=e.child,x=c.sibling;var S={mode:"hidden",children:o.children};return(v&1)===0&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=S,t.deletions=null):(o=Vr(c,S),o.subtreeFlags=c.subtreeFlags&14680064),x!==null?h=Vr(x,h):(h=yn(h,v,i,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,v=e.child.memoizedState,v=v===null?ll(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=e.childLanes&~i,t.memoizedState=ol,o}return h=e.child,e=h.sibling,o=Vr(h,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function ul(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,i,o){return o!==null&&$o(o),Fn(t,e.child,null,i),e=ul(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function am(e,t,i,o,c,h,v){if(i)return t.flags&256?(t.flags&=-257,o=nl(Error(n(422))),oa(e,t,v,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=o.fallback,c=t.mode,o=xa({mode:"visible",children:o.children},c,0,null),h=yn(h,c,v,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,(t.mode&1)!==0&&Fn(t,e.child,null,v),t.child.memoizedState=ll(v),t.memoizedState=ol,h);if((t.mode&1)===0)return oa(e,t,v,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var x=o.dgst;return o=x,h=Error(n(419)),o=nl(h,o,void 0),oa(e,t,v,o)}if(x=(v&e.childLanes)!==0,gt||x){if(o=Ze,o!==null){switch(v&-v){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(o.suspendedLanes|v))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,pr(e,c),Kt(o,e,c,-1))}return El(),o=nl(Error(n(421))),oa(e,t,v,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=wm.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,jt=Lr(c.nextSibling),Et=t,Oe=!0,qt=null,e!==null&&(It[Lt++]=hr,It[Lt++]=fr,It[Lt++]=ln,hr=e.id,fr=e.overflow,ln=t),t=ul(t,o.children),t.flags|=4096,t)}function kd(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Bo(e.return,t,i)}function cl(e,t,i,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=i,h.tailMode=c)}function Sd(e,t,i){var o=t.pendingProps,c=o.revealOrder,h=o.tail;if(ht(e,t,o.children,i),o=Ie.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kd(e,i,t);else if(e.tag===19)kd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ne(Ie,o),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&ea(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),cl(t,!1,c,i,h);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ea(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}cl(t,!0,i,null,h);break;case"together":cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Vr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Vr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function om(e,t,i){switch(t.tag){case 3:xd(t),Bn();break;case 5:Uc(t);break;case 1:mt(t.type)&&Hi(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;Ne(Qi,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ne(Ie,Ie.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?bd(e,t,i):(Ne(Ie,Ie.current&1),e=gr(e,t,i),e!==null?e.sibling:null);Ne(Ie,Ie.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Sd(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ne(Ie,Ie.current),o)break;return null;case 22:case 23:return t.lanes=0,yd(e,t,i)}return gr(e,t,i)}var Ed,dl,jd,Nd;Ed=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},dl=function(){},jd=function(e,t,i,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,dn(tr.current);var h=null;switch(i){case"input":c=Zr(e,c),o=Zr(e,o),h=[];break;case"select":c=B({},c,{value:void 0}),o=B({},o,{value:void 0}),h=[];break;case"textarea":c=tt(e,c),o=tt(e,o),h=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Fi)}Nn(i,o);var v;i=null;for(M in c)if(!o.hasOwnProperty(M)&&c.hasOwnProperty(M)&&c[M]!=null)if(M==="style"){var x=c[M];for(v in x)x.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(l.hasOwnProperty(M)?h||(h=[]):(h=h||[]).push(M,null));for(M in o){var S=o[M];if(x=c?.[M],o.hasOwnProperty(M)&&S!==x&&(S!=null||x!=null))if(M==="style")if(x){for(v in x)!x.hasOwnProperty(v)||S&&S.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in S)S.hasOwnProperty(v)&&x[v]!==S[v]&&(i||(i={}),i[v]=S[v])}else i||(h||(h=[]),h.push(M,i)),i=S;else M==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(h=h||[]).push(M,S)):M==="children"?typeof S!="string"&&typeof S!="number"||(h=h||[]).push(M,""+S):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(l.hasOwnProperty(M)?(S!=null&&M==="onScroll"&&Te("scroll",e),h||x===S||(h=[])):(h=h||[]).push(M,S))}i&&(h=h||[]).push("style",i);var M=h;(t.updateQueue=M)&&(t.flags|=4)}},Nd=function(e,t,i,o){i!==o&&(t.flags|=4)};function Vs(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function lm(e,t,i){var o=t.pendingProps;switch(Ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return mt(t.type)&&qi(),ct(t),null;case 3:return o=t.stateNode,Hn(),Re(pt),Re(lt),Vo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qt!==null&&(bl(qt),qt=null))),dl(e,t),ct(t),null;case 5:Ho(t);var c=dn(Fs.current);if(i=t.type,e!==null&&t.stateNode!=null)jd(e,t,i,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return ct(t),null}if(e=dn(tr.current),Gi(t)){o=t.stateNode,i=t.type;var h=t.memoizedProps;switch(o[er]=t,o[$s]=h,e=(t.mode&1)!==0,i){case"dialog":Te("cancel",o),Te("close",o);break;case"iframe":case"object":case"embed":Te("load",o);break;case"video":case"audio":for(c=0;c<As.length;c++)Te(As[c],o);break;case"source":Te("error",o);break;case"img":case"image":case"link":Te("error",o),Te("load",o);break;case"details":Te("toggle",o);break;case"input":gi(o,h),Te("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Te("invalid",o);break;case"textarea":lr(o,h),Te("invalid",o)}Nn(i,h),c=null;for(var v in h)if(h.hasOwnProperty(v)){var x=h[v];v==="children"?typeof x=="string"?o.textContent!==x&&(h.suppressHydrationWarning!==!0&&Bi(o.textContent,x,e),c=["children",x]):typeof x=="number"&&o.textContent!==""+x&&(h.suppressHydrationWarning!==!0&&Bi(o.textContent,x,e),c=["children",""+x]):l.hasOwnProperty(v)&&x!=null&&v==="onScroll"&&Te("scroll",o)}switch(i){case"input":ir(o),fs(o,h,!0);break;case"textarea":ir(o),vi(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=Fi)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{v=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tn(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=v.createElement(i,{is:o.is}):(e=v.createElement(i),i==="select"&&(v=e,o.multiple?v.multiple=!0:o.size&&(v.size=o.size))):e=v.createElementNS(e,i),e[er]=t,e[$s]=o,Ed(e,t,!1,!1),t.stateNode=e;e:{switch(v=ms(i,o),i){case"dialog":Te("cancel",e),Te("close",e),c=o;break;case"iframe":case"object":case"embed":Te("load",e),c=o;break;case"video":case"audio":for(c=0;c<As.length;c++)Te(As[c],e);c=o;break;case"source":Te("error",e),c=o;break;case"img":case"image":case"link":Te("error",e),Te("load",e),c=o;break;case"details":Te("toggle",e),c=o;break;case"input":gi(e,o),c=Zr(e,o),Te("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=B({},o,{value:void 0}),Te("invalid",e);break;case"textarea":lr(e,o),c=tt(e,o),Te("invalid",e);break;default:c=o}Nn(i,c),x=c;for(h in x)if(x.hasOwnProperty(h)){var S=x[h];h==="style"?xi(e,S):h==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&jn(e,S)):h==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&Pt(e,S):typeof S=="number"&&Pt(e,""+S):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?S!=null&&h==="onScroll"&&Te("scroll",e):S!=null&&j(e,h,S,v))}switch(i){case"input":ir(e),fs(e,o,!1);break;case"textarea":ir(e),vi(e);break;case"option":o.value!=null&&e.setAttribute("value",""+oe(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?br(e,!!o.multiple,h,!1):o.defaultValue!=null&&br(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Fi)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)Nd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(i=dn(Fs.current),dn(tr.current),Gi(t)){if(o=t.stateNode,i=t.memoizedProps,o[er]=t,(h=o.nodeValue!==i)&&(e=Et,e!==null))switch(e.tag){case 3:Bi(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bi(o.nodeValue,i,(e.mode&1)!==0)}h&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[er]=t,t.stateNode=o}return ct(t),null;case 13:if(Re(Ie),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Rc(),Bn(),t.flags|=98560,h=!1;else if(h=Gi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[er]=t}else Bn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ct(t),h=!1}else qt!==null&&(bl(qt),qt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?Ke===0&&(Ke=3):El())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return Hn(),dl(e,t),e===null&&Is(t.stateNode.containerInfo),ct(t),null;case 10:return Mo(t.type._context),ct(t),null;case 17:return mt(t.type)&&qi(),ct(t),null;case 19:if(Re(Ie),h=t.memoizedState,h===null)return ct(t),null;if(o=(t.flags&128)!==0,v=h.rendering,v===null)if(o)Vs(h,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=ea(e),v!==null){for(t.flags|=128,Vs(h,!1),o=v.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)h=i,e=o,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,e=v.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ne(Ie,Ie.current&1|2),t.child}e=e.sibling}h.tail!==null&&Me()>Gn&&(t.flags|=128,o=!0,Vs(h,!1),t.lanes=4194304)}else{if(!o)if(e=ea(v),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Vs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Oe)return ct(t),null}else 2*Me()-h.renderingStartTime>Gn&&i!==1073741824&&(t.flags|=128,o=!0,Vs(h,!1),t.lanes=4194304);h.isBackwards?(v.sibling=t.child,t.child=v):(i=h.last,i!==null?i.sibling=v:t.child=v,h.last=v)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Me(),t.sibling=null,i=Ie.current,Ne(Ie,o?i&1|2:i&1),t):(ct(t),null);case 22:case 23:return Sl(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Nt&1073741824)!==0&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function um(e,t){switch(Ao(t),t.tag){case 1:return mt(t.type)&&qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),Re(pt),Re(lt),Vo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ho(t),null;case 13:if(Re(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Ie),null;case 4:return Hn(),null;case 10:return Mo(t.type._context),null;case 22:case 23:return Sl(),null;case 24:return null;default:return null}}var ua=!1,dt=!1,cm=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Vn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){$e(e,t,o)}else i.current=null}function hl(e,t,i){try{i()}catch(o){$e(e,t,o)}}var Cd=!1;function dm(e,t){if(So=Ti,e=ac(),go(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var v=0,x=-1,S=-1,M=0,H=0,W=e,q=null;t:for(;;){for(var X;W!==i||c!==0&&W.nodeType!==3||(x=v+c),W!==h||o!==0&&W.nodeType!==3||(S=v+o),W.nodeType===3&&(v+=W.nodeValue.length),(X=W.firstChild)!==null;)q=W,W=X;for(;;){if(W===e)break t;if(q===i&&++M===c&&(x=v),q===h&&++H===o&&(S=v),(X=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=X}i=x===-1||S===-1?null:{start:x,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Eo={focusedElem:e,selectionRange:i},Ti=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var ee=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Be=ee.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?te:Ht(t.type,te),Be);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(V){$e(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return ee=Cd,Cd=!1,ee}function Ks(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&hl(t,i,h)}c=c.next}while(c!==o)}}function ca(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function fl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Td(e){var t=e.alternate;t!==null&&(e.alternate=null,Td(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[$s],delete t[To],delete t[Kp],delete t[Gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rd(e){return e.tag===5||e.tag===3||e.tag===4}function Pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Fi));else if(o!==4&&(e=e.child,e!==null))for(pl(e,t,i),e=e.sibling;e!==null;)pl(e,t,i),e=e.sibling}function ml(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ml(e,t,i),e=e.sibling;e!==null;)ml(e,t,i),e=e.sibling}var nt=null,Wt=!1;function Fr(e,t,i){for(i=i.child;i!==null;)Od(e,t,i),i=i.sibling}function Od(e,t,i){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ki,i)}catch{}switch(i.tag){case 5:dt||Vn(i,t);case 6:var o=nt,c=Wt;nt=null,Fr(e,t,i),nt=o,Wt=c,nt!==null&&(Wt?(e=nt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):nt.removeChild(i.stateNode));break;case 18:nt!==null&&(Wt?(e=nt,i=i.stateNode,e.nodeType===8?Co(e.parentNode,i):e.nodeType===1&&Co(e,i),Es(e)):Co(nt,i.stateNode));break;case 4:o=nt,c=Wt,nt=i.stateNode.containerInfo,Wt=!0,Fr(e,t,i),nt=o,Wt=c;break;case 0:case 11:case 14:case 15:if(!dt&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var h=c,v=h.destroy;h=h.tag,v!==void 0&&((h&2)!==0||(h&4)!==0)&&hl(i,t,v),c=c.next}while(c!==o)}Fr(e,t,i);break;case 1:if(!dt&&(Vn(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(x){$e(i,t,x)}Fr(e,t,i);break;case 21:Fr(e,t,i);break;case 22:i.mode&1?(dt=(o=dt)||i.memoizedState!==null,Fr(e,t,i),dt=o):Fr(e,t,i);break;default:Fr(e,t,i)}}function Ad(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new cm),t.forEach(function(o){var c=xm.bind(null,e,o);i.has(o)||(i.add(o),o.then(c,c))})}}function Vt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];try{var h=e,v=t,x=v;e:for(;x!==null;){switch(x.tag){case 5:nt=x.stateNode,Wt=!1;break e;case 3:nt=x.stateNode.containerInfo,Wt=!0;break e;case 4:nt=x.stateNode.containerInfo,Wt=!0;break e}x=x.return}if(nt===null)throw Error(n(160));Od(h,v,c),nt=null,Wt=!1;var S=c.alternate;S!==null&&(S.return=null),c.return=null}catch(M){$e(c,t,M)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Id(t,e),t=t.sibling}function Id(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),nr(e),o&4){try{Ks(3,e,e.return),ca(3,e)}catch(te){$e(e,e.return,te)}try{Ks(5,e,e.return)}catch(te){$e(e,e.return,te)}}break;case 1:Vt(t,e),nr(e),o&512&&i!==null&&Vn(i,i.return);break;case 5:if(Vt(t,e),nr(e),o&512&&i!==null&&Vn(i,i.return),e.flags&32){var c=e.stateNode;try{Pt(c,"")}catch(te){$e(e,e.return,te)}}if(o&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,v=i!==null?i.memoizedProps:h,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&h.type==="radio"&&h.name!=null&&hs(c,h),ms(x,v);var M=ms(x,h);for(v=0;v<S.length;v+=2){var H=S[v],W=S[v+1];H==="style"?xi(c,W):H==="dangerouslySetInnerHTML"?jn(c,W):H==="children"?Pt(c,W):j(c,H,W,M)}switch(x){case"input":or(c,h);break;case"textarea":yi(c,h);break;case"select":var q=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var X=h.value;X!=null?br(c,!!h.multiple,X,!1):q!==!!h.multiple&&(h.defaultValue!=null?br(c,!!h.multiple,h.defaultValue,!0):br(c,!!h.multiple,h.multiple?[]:"",!1))}c[$s]=h}catch(te){$e(e,e.return,te)}}break;case 6:if(Vt(t,e),nr(e),o&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(te){$e(e,e.return,te)}}break;case 3:if(Vt(t,e),nr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(te){$e(e,e.return,te)}break;case 4:Vt(t,e),nr(e);break;case 13:Vt(t,e),nr(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(vl=Me())),o&4&&Ad(e);break;case 22:if(H=i!==null&&i.memoizedState!==null,e.mode&1?(dt=(M=dt)||H,Vt(t,e),dt=M):Vt(t,e),nr(e),o&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!H&&(e.mode&1)!==0)for(Z=e,H=e.child;H!==null;){for(W=Z=H;Z!==null;){switch(q=Z,X=q.child,q.tag){case 0:case 11:case 14:case 15:Ks(4,q,q.return);break;case 1:Vn(q,q.return);var ee=q.stateNode;if(typeof ee.componentWillUnmount=="function"){o=q,i=q.return;try{t=o,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(te){$e(o,i,te)}}break;case 5:Vn(q,q.return);break;case 22:if(q.memoizedState!==null){Dd(W);continue}}X!==null?(X.return=q,Z=X):Dd(W)}H=H.sibling}e:for(H=null,W=e;;){if(W.tag===5){if(H===null){H=W;try{c=W.stateNode,M?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(x=W.stateNode,S=W.memoizedProps.style,v=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=wi("display",v))}catch(te){$e(e,e.return,te)}}}else if(W.tag===6){if(H===null)try{W.stateNode.nodeValue=M?"":W.memoizedProps}catch(te){$e(e,e.return,te)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;H===W&&(H=null),W=W.return}H===W&&(H=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Vt(t,e),nr(e),o&4&&Ad(e);break;case 21:break;default:Vt(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Rd(i)){var o=i;break e}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(Pt(c,""),o.flags&=-33);var h=Pd(e);ml(e,h,c);break;case 3:case 4:var v=o.stateNode.containerInfo,x=Pd(e);pl(e,x,v);break;default:throw Error(n(161))}}catch(S){$e(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e,t,i){Z=e,Ld(e)}function Ld(e,t,i){for(var o=(e.mode&1)!==0;Z!==null;){var c=Z,h=c.child;if(c.tag===22&&o){var v=c.memoizedState!==null||ua;if(!v){var x=c.alternate,S=x!==null&&x.memoizedState!==null||dt;x=ua;var M=dt;if(ua=v,(dt=S)&&!M)for(Z=c;Z!==null;)v=Z,S=v.child,v.tag===22&&v.memoizedState!==null?Ud(c):S!==null?(S.return=v,Z=S):Ud(c);for(;h!==null;)Z=h,Ld(h),h=h.sibling;Z=c,ua=x,dt=M}$d(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,Z=h):$d(e)}}function $d(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:dt||ca(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!dt)if(i===null)o.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Ht(t.type,i.memoizedProps);o.componentDidUpdate(c,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Dc(t,h,o);break;case 3:var v=t.updateQueue;if(v!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Dc(t,v,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var M=t.alternate;if(M!==null){var H=M.memoizedState;if(H!==null){var W=H.dehydrated;W!==null&&Es(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dt||t.flags&512&&fl(t)}catch(q){$e(t,t.return,q)}}if(t===e){Z=null;break}if(i=t.sibling,i!==null){i.return=t.return,Z=i;break}Z=t.return}}function Dd(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Z=i;break}Z=t.return}}function Ud(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{ca(4,t)}catch(S){$e(t,i,S)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(S){$e(t,c,S)}}var h=t.return;try{fl(t)}catch(S){$e(t,h,S)}break;case 5:var v=t.return;try{fl(t)}catch(S){$e(t,v,S)}}}catch(S){$e(t,t.return,S)}if(t===e){Z=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Z=x;break}Z=t.return}}var fm=Math.ceil,da=N.ReactCurrentDispatcher,gl=N.ReactCurrentOwner,Ut=N.ReactCurrentBatchConfig,be=0,Ze=null,ze=null,st=0,Nt=0,Kn=$r(0),Ke=0,Gs=null,fn=0,ha=0,yl=0,Js=null,yt=null,vl=0,Gn=1/0,yr=null,fa=!1,wl=null,zr=null,pa=!1,qr=null,ma=0,Qs=0,xl=null,ga=-1,ya=0;function ft(){return(be&6)!==0?Me():ga!==-1?ga:ga=Me()}function Hr(e){return(e.mode&1)===0?1:(be&2)!==0&&st!==0?st&-st:Qp.transition!==null?(ya===0&&(ya=Pu()),ya):(e=je,e!==0||(e=window.event,e=e===void 0?16:Bu(e.type)),e)}function Kt(e,t,i,o){if(50<Qs)throw Qs=0,xl=null,Error(n(185));xs(e,i,o),((be&2)===0||e!==Ze)&&(e===Ze&&((be&2)===0&&(ha|=i),Ke===4&&Wr(e,st)),vt(e,o),i===1&&be===0&&(t.mode&1)===0&&(Gn=Me()+500,Wi&&Ur()))}function vt(e,t){var i=e.callbackNode;Qf(e,t);var o=ji(e,e===Ze?st:0);if(o===0)i!==null&&Cu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Cu(i),t===1)e.tag===0?Jp(Bd.bind(null,e)):Ec(Bd.bind(null,e)),Wp(function(){(be&6)===0&&Ur()}),i=null;else{switch(Ou(o)){case 1:i=Xa;break;case 4:i=Tu;break;case 16:i=bi;break;case 536870912:i=Ru;break;default:i=bi}i=Gd(i,Md.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Md(e,t){if(ga=-1,ya=0,(be&6)!==0)throw Error(n(327));var i=e.callbackNode;if(Jn()&&e.callbackNode!==i)return null;var o=ji(e,e===Ze?st:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=va(e,o);else{t=o;var c=be;be|=2;var h=zd();(Ze!==e||st!==t)&&(yr=null,Gn=Me()+500,mn(e,t));do try{gm();break}catch(x){Fd(e,x)}while(!0);Uo(),da.current=h,be=c,ze!==null?t=0:(Ze=null,st=0,t=Ke)}if(t!==0){if(t===2&&(c=Za(e),c!==0&&(o=c,t=_l(e,c))),t===1)throw i=Gs,mn(e,0),Wr(e,o),vt(e,Me()),i;if(t===6)Wr(e,o);else{if(c=e.current.alternate,(o&30)===0&&!pm(c)&&(t=va(e,o),t===2&&(h=Za(e),h!==0&&(o=h,t=_l(e,h))),t===1))throw i=Gs,mn(e,0),Wr(e,o),vt(e,Me()),i;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:gn(e,yt,yr);break;case 3:if(Wr(e,o),(o&130023424)===o&&(t=vl+500-Me(),10<t)){if(ji(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){ft(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=No(gn.bind(null,e,yt,yr),t);break}gn(e,yt,yr);break;case 4:if(Wr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var v=31-Ft(o);h=1<<v,v=t[v],v>c&&(c=v),o&=~h}if(o=c,o=Me()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*fm(o/1960))-o,10<o){e.timeoutHandle=No(gn.bind(null,e,yt,yr),o);break}gn(e,yt,yr);break;case 5:gn(e,yt,yr);break;default:throw Error(n(329))}}}return vt(e,Me()),e.callbackNode===i?Md.bind(null,e):null}function _l(e,t){var i=Js;return e.current.memoizedState.isDehydrated&&(mn(e,t).flags|=256),e=va(e,t),e!==2&&(t=yt,yt=i,t!==null&&bl(t)),e}function bl(e){yt===null?yt=e:yt.push.apply(yt,e)}function pm(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var c=i[o],h=c.getSnapshot;c=c.value;try{if(!zt(h(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wr(e,t){for(t&=~yl,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ft(t),o=1<<i;e[i]=-1,t&=~o}}function Bd(e){if((be&6)!==0)throw Error(n(327));Jn();var t=ji(e,0);if((t&1)===0)return vt(e,Me()),null;var i=va(e,t);if(e.tag!==0&&i===2){var o=Za(e);o!==0&&(t=o,i=_l(e,o))}if(i===1)throw i=Gs,mn(e,0),Wr(e,t),vt(e,Me()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,yt,yr),vt(e,Me()),null}function kl(e,t){var i=be;be|=1;try{return e(t)}finally{be=i,be===0&&(Gn=Me()+500,Wi&&Ur())}}function pn(e){qr!==null&&qr.tag===0&&(be&6)===0&&Jn();var t=be;be|=1;var i=Ut.transition,o=je;try{if(Ut.transition=null,je=1,e)return e()}finally{je=o,Ut.transition=i,be=t,(be&6)===0&&Ur()}}function Sl(){Nt=Kn.current,Re(Kn)}function mn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Hp(i)),ze!==null)for(i=ze.return;i!==null;){var o=i;switch(Ao(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&qi();break;case 3:Hn(),Re(pt),Re(lt),Vo();break;case 5:Ho(o);break;case 4:Hn();break;case 13:Re(Ie);break;case 19:Re(Ie);break;case 10:Mo(o.type._context);break;case 22:case 23:Sl()}i=i.return}if(Ze=e,ze=e=Vr(e.current,null),st=Nt=t,Ke=0,Gs=null,yl=ha=fn=0,yt=Js=null,cn!==null){for(t=0;t<cn.length;t++)if(i=cn[t],o=i.interleaved,o!==null){i.interleaved=null;var c=o.next,h=i.pending;if(h!==null){var v=h.next;h.next=c,o.next=v}i.pending=o}cn=null}return e}function Fd(e,t){do{var i=ze;try{if(Uo(),ta.current=ia,ra){for(var o=Le.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ra=!1}if(hn=0,Xe=Ve=Le=null,zs=!1,qs=0,gl.current=null,i===null||i.return===null){Ke=1,Gs=t,ze=null;break}e:{var h=e,v=i.return,x=i,S=t;if(t=st,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var M=S,H=x,W=H.tag;if((H.mode&1)===0&&(W===0||W===11||W===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var X=hd(v);if(X!==null){X.flags&=-257,fd(X,v,x,h,t),X.mode&1&&dd(h,M,t),t=X,S=M;var ee=t.updateQueue;if(ee===null){var te=new Set;te.add(S),t.updateQueue=te}else ee.add(S);break e}else{if((t&1)===0){dd(h,M,t),El();break e}S=Error(n(426))}}else if(Oe&&x.mode&1){var Be=hd(v);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),fd(Be,v,x,h,t),$o(Wn(S,x));break e}}h=S=Wn(S,x),Ke!==4&&(Ke=2),Js===null?Js=[h]:Js.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var I=ud(h,S,t);$c(h,I);break e;case 1:x=S;var E=h.type,L=h.stateNode;if((h.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(zr===null||!zr.has(L)))){h.flags|=65536,t&=-t,h.lanes|=t;var V=cd(h,x,t);$c(h,V);break e}}h=h.return}while(h!==null)}Hd(i)}catch(re){t=re,ze===i&&i!==null&&(ze=i=i.return);continue}break}while(!0)}function zd(){var e=da.current;return da.current=ia,e===null?ia:e}function El(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Ze===null||(fn&268435455)===0&&(ha&268435455)===0||Wr(Ze,st)}function va(e,t){var i=be;be|=2;var o=zd();(Ze!==e||st!==t)&&(yr=null,mn(e,t));do try{mm();break}catch(c){Fd(e,c)}while(!0);if(Uo(),be=i,da.current=o,ze!==null)throw Error(n(261));return Ze=null,st=0,Ke}function mm(){for(;ze!==null;)qd(ze)}function gm(){for(;ze!==null&&!Ff();)qd(ze)}function qd(e){var t=Kd(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?Hd(e):ze=t,gl.current=null}function Hd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=lm(i,t,Nt),i!==null){ze=i;return}}else{if(i=um(i,t),i!==null){i.flags&=32767,ze=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,ze=null;return}}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Ke===0&&(Ke=5)}function gn(e,t,i){var o=je,c=Ut.transition;try{Ut.transition=null,je=1,ym(e,t,i,o)}finally{Ut.transition=c,je=o}return null}function ym(e,t,i,o){do Jn();while(qr!==null);if((be&6)!==0)throw Error(n(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(Yf(e,h),e===Ze&&(ze=Ze=null,st=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||pa||(pa=!0,Gd(bi,function(){return Jn(),null})),h=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||h){h=Ut.transition,Ut.transition=null;var v=je;je=1;var x=be;be|=4,gl.current=null,dm(e,i),Id(i,e),Dp(Eo),Ti=!!So,Eo=So=null,e.current=i,hm(i),zf(),be=x,je=v,Ut.transition=h}else e.current=i;if(pa&&(pa=!1,qr=e,ma=c),h=e.pendingLanes,h===0&&(zr=null),Wf(i.stateNode),vt(e,Me()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],o(c.value,{componentStack:c.stack,digest:c.digest});if(fa)throw fa=!1,e=wl,wl=null,e;return(ma&1)!==0&&e.tag!==0&&Jn(),h=e.pendingLanes,(h&1)!==0?e===xl?Qs++:(Qs=0,xl=e):Qs=0,Ur(),null}function Jn(){if(qr!==null){var e=Ou(ma),t=Ut.transition,i=je;try{if(Ut.transition=null,je=16>e?16:e,qr===null)var o=!1;else{if(e=qr,qr=null,ma=0,(be&6)!==0)throw Error(n(331));var c=be;for(be|=4,Z=e.current;Z!==null;){var h=Z,v=h.child;if((Z.flags&16)!==0){var x=h.deletions;if(x!==null){for(var S=0;S<x.length;S++){var M=x[S];for(Z=M;Z!==null;){var H=Z;switch(H.tag){case 0:case 11:case 15:Ks(8,H,h)}var W=H.child;if(W!==null)W.return=H,Z=W;else for(;Z!==null;){H=Z;var q=H.sibling,X=H.return;if(Td(H),H===M){Z=null;break}if(q!==null){q.return=X,Z=q;break}Z=X}}}var ee=h.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Be=te.sibling;te.sibling=null,te=Be}while(te!==null)}}Z=h}}if((h.subtreeFlags&2064)!==0&&v!==null)v.return=h,Z=v;else e:for(;Z!==null;){if(h=Z,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Ks(9,h,h.return)}var I=h.sibling;if(I!==null){I.return=h.return,Z=I;break e}Z=h.return}}var E=e.current;for(Z=E;Z!==null;){v=Z;var L=v.child;if((v.subtreeFlags&2064)!==0&&L!==null)L.return=v,Z=L;else e:for(v=E;Z!==null;){if(x=Z,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:ca(9,x)}}catch(re){$e(x,x.return,re)}if(x===v){Z=null;break e}var V=x.sibling;if(V!==null){V.return=x.return,Z=V;break e}Z=x.return}}if(be=c,Ur(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ki,e)}catch{}o=!0}return o}finally{je=i,Ut.transition=t}}return!1}function Wd(e,t,i){t=Wn(i,t),t=ud(e,t,1),e=Br(e,t,1),t=ft(),e!==null&&(xs(e,1,t),vt(e,t))}function $e(e,t,i){if(e.tag===3)Wd(e,e,i);else for(;t!==null;){if(t.tag===3){Wd(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zr===null||!zr.has(o))){e=Wn(i,e),e=cd(t,e,1),t=Br(t,e,1),e=ft(),t!==null&&(xs(t,1,e),vt(t,e));break}}t=t.return}}function vm(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&i,Ze===e&&(st&i)===i&&(Ke===4||Ke===3&&(st&130023424)===st&&500>Me()-vl?mn(e,0):yl|=i),vt(e,t)}function Vd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ei,Ei<<=1,(Ei&130023424)===0&&(Ei=4194304)));var i=ft();e=pr(e,t),e!==null&&(xs(e,t,i),vt(e,i))}function wm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Vd(e,i)}function xm(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),Vd(e,i)}var Kd;Kd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)gt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return gt=!1,om(e,t,i);gt=(e.flags&131072)!==0}else gt=!1,Oe&&(t.flags&1048576)!==0&&jc(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;la(e,t),e=t.pendingProps;var c=Dn(t,lt.current);qn(t,i),c=Jo(null,t,o,e,c,i);var h=Qo();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(o)?(h=!0,Hi(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,zo(t),c.updater=aa,t.stateNode=c,c._reactInternals=t,rl(t,o,e,i),t=al(null,t,o,!0,h,i)):(t.tag=0,Oe&&h&&Oo(t),ht(null,t,c,i),t=t.child),t;case 16:o=t.elementType;e:{switch(la(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=bm(o),e=Ht(o,e),c){case 0:t=il(null,t,o,e,i);break e;case 1:t=wd(null,t,o,e,i);break e;case 11:t=pd(null,t,o,e,i);break e;case 14:t=md(null,t,o,Ht(o.type,e),i);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Ht(o,c),il(e,t,o,c,i);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Ht(o,c),wd(e,t,o,c,i);case 3:e:{if(xd(t),e===null)throw Error(n(387));o=t.pendingProps,h=t.memoizedState,c=h.element,Lc(e,t),Zi(t,o,null,i);var v=t.memoizedState;if(o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=Wn(Error(n(423)),t),t=_d(e,t,o,i,c);break e}else if(o!==c){c=Wn(Error(n(424)),t),t=_d(e,t,o,i,c);break e}else for(jt=Lr(t.stateNode.containerInfo.firstChild),Et=t,Oe=!0,qt=null,i=Ac(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Bn(),o===c){t=gr(e,t,i);break e}ht(e,t,o,i)}t=t.child}return t;case 5:return Uc(t),e===null&&Lo(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,v=c.children,jo(o,c)?v=null:h!==null&&jo(o,h)&&(t.flags|=32),vd(e,t),ht(e,t,v,i),t.child;case 6:return e===null&&Lo(t),null;case 13:return bd(e,t,i);case 4:return qo(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Fn(t,null,o,i):ht(e,t,o,i),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Ht(o,c),pd(e,t,o,c,i);case 7:return ht(e,t,t.pendingProps,i),t.child;case 8:return ht(e,t,t.pendingProps.children,i),t.child;case 12:return ht(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,h=t.memoizedProps,v=c.value,Ne(Qi,o._currentValue),o._currentValue=v,h!==null)if(zt(h.value,v)){if(h.children===c.children&&!pt.current){t=gr(e,t,i);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var x=h.dependencies;if(x!==null){v=h.child;for(var S=x.firstContext;S!==null;){if(S.context===o){if(h.tag===1){S=mr(-1,i&-i),S.tag=2;var M=h.updateQueue;if(M!==null){M=M.shared;var H=M.pending;H===null?S.next=S:(S.next=H.next,H.next=S),M.pending=S}}h.lanes|=i,S=h.alternate,S!==null&&(S.lanes|=i),Bo(h.return,i,t),x.lanes|=i;break}S=S.next}}else if(h.tag===10)v=h.type===t.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(n(341));v.lanes|=i,x=v.alternate,x!==null&&(x.lanes|=i),Bo(v,i,t),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}ht(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,qn(t,i),c=$t(c),o=o(c),t.flags|=1,ht(e,t,o,i),t.child;case 14:return o=t.type,c=Ht(o,t.pendingProps),c=Ht(o.type,c),md(e,t,o,c,i);case 15:return gd(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Ht(o,c),la(e,t),t.tag=1,mt(o)?(e=!0,Hi(t)):e=!1,qn(t,i),od(t,o,c),rl(t,o,c,i),al(null,t,o,!0,e,i);case 19:return Sd(e,t,i);case 22:return yd(e,t,i)}throw Error(n(156,t.tag))};function Gd(e,t){return Nu(e,t)}function _m(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,i,o){return new _m(e,t,i,o)}function jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bm(e){if(typeof e=="function")return jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Se)return 11;if(e===Je)return 14}return 2}function Vr(e,t){var i=e.alternate;return i===null?(i=Mt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function wa(e,t,i,o,c,h){var v=2;if(o=e,typeof e=="function")jl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case D:return yn(i.children,c,h,t);case K:v=8,c|=8;break;case G:return e=Mt(12,i,t,c|2),e.elementType=G,e.lanes=h,e;case xe:return e=Mt(13,i,t,c),e.elementType=xe,e.lanes=h,e;case He:return e=Mt(19,i,t,c),e.elementType=He,e.lanes=h,e;case pe:return xa(i,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:v=10;break e;case ye:v=9;break e;case Se:v=11;break e;case Je:v=14;break e;case ge:v=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Mt(v,i,t,c),t.elementType=e,t.type=o,t.lanes=h,t}function yn(e,t,i,o){return e=Mt(7,e,o,t),e.lanes=i,e}function xa(e,t,i,o){return e=Mt(22,e,o,t),e.elementType=pe,e.lanes=i,e.stateNode={isHidden:!1},e}function Nl(e,t,i){return e=Mt(6,e,null,t),e.lanes=i,e}function Cl(e,t,i){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function km(e,t,i,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Tl(e,t,i,o,c,h,v,x,S){return e=new km(e,t,i,x,S),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Mt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},zo(h),e}function Sm(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Jd(e){if(!e)return Dr;e=e._reactInternals;e:{if(sn(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(mt(i))return kc(e,i,t)}return t}function Qd(e,t,i,o,c,h,v,x,S){return e=Tl(i,o,!0,e,c,h,v,x,S),e.context=Jd(null),i=e.current,o=ft(),c=Hr(i),h=mr(o,c),h.callback=t??null,Br(i,h,c),e.current.lanes=c,xs(e,c,o),vt(e,o),e}function _a(e,t,i,o){var c=t.current,h=ft(),v=Hr(c);return i=Jd(i),t.context===null?t.context=i:t.pendingContext=i,t=mr(h,v),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Br(c,t,v),e!==null&&(Kt(e,c,v,h),Xi(e,c,v)),v}function ba(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Rl(e,t){Yd(e,t),(e=e.alternate)&&Yd(e,t)}function Em(){return null}var Xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pl(e){this._internalRoot=e}ka.prototype.render=Pl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));_a(e,t,null,null)},ka.prototype.unmount=Pl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pn(function(){_a(null,e,null,null)}),t[cr]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Or.length&&t!==0&&t<Or[i].priority;i++);Or.splice(i,0,e),i===0&&Uu(e)}};function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zd(){}function jm(e,t,i,o,c){if(c){if(typeof o=="function"){var h=o;o=function(){var M=ba(v);h.call(M)}}var v=Qd(t,o,e,0,null,!1,!1,"",Zd);return e._reactRootContainer=v,e[cr]=v.current,Is(e.nodeType===8?e.parentNode:e),pn(),v}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var x=o;o=function(){var M=ba(S);x.call(M)}}var S=Tl(e,0,!1,null,null,!1,!1,"",Zd);return e._reactRootContainer=S,e[cr]=S.current,Is(e.nodeType===8?e.parentNode:e),pn(function(){_a(t,S,i,o)}),S}function Ea(e,t,i,o,c){var h=i._reactRootContainer;if(h){var v=h;if(typeof c=="function"){var x=c;c=function(){var S=ba(v);x.call(S)}}_a(t,v,e,c)}else v=jm(i,t,e,c,o);return ba(v)}Au=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ws(t.pendingLanes);i!==0&&(to(t,i|1),vt(t,Me()),(be&6)===0&&(Gn=Me()+500,Ur()))}break;case 13:pn(function(){var o=pr(e,1);if(o!==null){var c=ft();Kt(o,e,1,c)}}),Rl(e,1)}},ro=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var i=ft();Kt(t,e,134217728,i)}Rl(e,134217728)}},Iu=function(e){if(e.tag===13){var t=Hr(e),i=pr(e,t);if(i!==null){var o=ft();Kt(i,e,t,o)}Rl(e,t)}},Lu=function(){return je},$u=function(e,t){var i=je;try{return je=e,t()}finally{je=i}},gs=function(e,t,i){switch(t){case"input":if(or(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var c=zi(o);if(!c)throw Error(n(90));ar(o),or(o,c)}}}break;case"textarea":yi(e,i);break;case"select":t=i.value,t!=null&&br(e,!!i.multiple,t,!1)}},We=kl,ot=pn;var Nm={usingClientEntryPoint:!1,Events:[Ds,Ln,zi,me,Ue,kl]},Ys={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cm={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Eu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||Em,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ja.isDisabled&&ja.supportsFiber)try{ki=ja.inject(Cm),Zt=ja}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nm,wt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ol(t))throw Error(n(200));return Sm(e,t,null,i)},wt.createRoot=function(e,t){if(!Ol(e))throw Error(n(299));var i=!1,o="",c=Xd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Tl(e,1,!1,null,null,i,!1,o,c),e[cr]=t.current,Is(e.nodeType===8?e.parentNode:e),new Pl(t)},wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Eu(t),e=e===null?null:e.stateNode,e},wt.flushSync=function(e){return pn(e)},wt.hydrate=function(e,t,i){if(!Sa(t))throw Error(n(200));return Ea(null,e,t,!0,i)},wt.hydrateRoot=function(e,t,i){if(!Ol(e))throw Error(n(405));var o=i!=null&&i.hydratedSources||null,c=!1,h="",v=Xd;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),t=Qd(t,null,e,1,i??null,c,!1,h,v),e[cr]=t.current,Is(e),o)for(e=0;e<o.length;e++)i=o[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new ka(t)},wt.render=function(e,t,i){if(!Sa(t))throw Error(n(200));return Ea(null,e,t,!1,i)},wt.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(n(40));return e._reactRootContainer?(pn(function(){Ea(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1},wt.unstable_batchedUpdates=kl,wt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Sa(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Ea(e,t,i,!1,o)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var oh;function Jh(){if(oh)return Ll.exports;oh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Ll.exports=Lm(),Ll.exports}var lh;function $m(){if(lh)return Na;lh=1;var s=Jh();return Na.createRoot=s.createRoot,Na.hydrateRoot=s.hydrateRoot,Na}var Dm=$m(),R=du();const Q=Gh(R);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uh="popstate";function Um(s={}){function r(l,u){let{pathname:d="/",search:p="",hash:m=""}=Sn(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Jl("",{pathname:d,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let d=l.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let m=l.location.href,y=m.indexOf("#");p=y===-1?m:m.slice(0,y)}return p+"#"+(typeof u=="string"?u:ii(u))}function a(l,u){Bt(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Bm(r,n,a,s)}function Ae(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Bt(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Mm(){return Math.random().toString(36).substring(2,10)}function ch(s,r){return{usr:s.state,key:s.key,idx:r}}function Jl(s,r,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?Sn(r):r,state:n,key:r&&r.key||a||Mm()}}function ii({pathname:s="/",search:r="",hash:n=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Sn(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(r.search=s.substring(a),s=s.substring(0,a)),s&&(r.pathname=s)}return r}function Bm(s,r,n,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,d=l.history,p="POP",m=null,y=w();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function w(){return(d.state||{idx:null}).idx}function g(){p="POP";let k=w(),A=k==null?null:k-y;y=k,m&&m({action:p,location:P.location,delta:A})}function _(k,A){p="PUSH";let U=Jl(P.location,k,A);n&&n(U,k),y=w()+1;let j=ch(U,y),N=P.createHref(U);try{d.pushState(j,"",N)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(N)}u&&m&&m({action:p,location:P.location,delta:1})}function b(k,A){p="REPLACE";let U=Jl(P.location,k,A);n&&n(U,k),y=w();let j=ch(U,y),N=P.createHref(U);d.replaceState(j,"",N),u&&m&&m({action:p,location:P.location,delta:0})}function C(k){return Fm(k)}let P={get action(){return p},get location(){return s(l,d)},listen(k){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(uh,g),m=k,()=>{l.removeEventListener(uh,g),m=null}},createHref(k){return r(l,k)},createURL:C,encodeLocation(k){let A=C(k);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:b,go(k){return d.go(k)}};return P}function Fm(s,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ae(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:ii(s);return a=a.replace(/ $/,"%20"),!r&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Qh(s,r,n="/"){return zm(s,r,n,!1)}function zm(s,r,n,a){let l=typeof r=="string"?Sn(r):r,u=xr(l.pathname||"/",n);if(u==null)return null;let d=Yh(s);qm(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let y=eg(u);p=Xm(d[m],y,a)}return p}function Yh(s,r=[],n=[],a="",l=!1){let u=(d,p,m=l,y)=>{let w={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(a)&&m)return;Ae(w.relativePath.startsWith(a),`Absolute route path "${w.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(a.length)}let g=wr([a,w.relativePath]),_=n.concat(w);d.children&&d.children.length>0&&(Ae(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Yh(d.children,r,_,g,m)),!(d.path==null&&!d.index)&&r.push({path:g,score:Qm(g,d.index),routesMeta:_})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let m of Xh(d.path))u(d,p,!0,m)}),r}function Xh(s){let r=s.split("/");if(r.length===0)return[];let[n,...a]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let d=Xh(a.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...d),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function qm(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:Ym(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Hm=/^:[\w-]+$/,Wm=3,Vm=2,Km=1,Gm=10,Jm=-2,dh=s=>s==="*";function Qm(s,r){let n=s.split("/"),a=n.length;return n.some(dh)&&(a+=Jm),r&&(a+=Vm),n.filter(l=>!dh(l)).reduce((l,u)=>l+(Hm.test(u)?Wm:u===""?Km:Gm),a)}function Ym(s,r){return s.length===r.length&&s.slice(0,-1).every((a,l)=>a===r[l])?s[s.length-1]-r[r.length-1]:0}function Xm(s,r,n=!1){let{routesMeta:a}=s,l={},u="/",d=[];for(let p=0;p<a.length;++p){let m=a[p],y=p===a.length-1,w=u==="/"?r:r.slice(u.length)||"/",g=Ma({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},w),_=m.route;if(!g&&y&&n&&!a[a.length-1].route.index&&(g=Ma({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!g)return null;Object.assign(l,g.params),d.push({params:l,pathname:wr([u,g.pathname]),pathnameBase:sg(wr([u,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(u=wr([u,g.pathnameBase]))}return d}function Ma(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Zm(s.path,s.caseSensitive,s.end),l=r.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((y,{paramName:w,isOptional:g},_)=>{if(w==="*"){let C=p[_]||"";d=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const b=p[_];return g&&!b?y[w]=void 0:y[w]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:s}}function Zm(s,r=!1,n=!0){Bt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),a]}function eg(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Bt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function xr(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}var tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function rg(s,r="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?Sn(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=hh(n.substring(1),"/"):u=hh(n,r)):u=r,{pathname:u,search:ig(a),hash:ag(l)}}function hh(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Ul(s,r,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ng(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function hu(s){let r=ng(s);return r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase)}function fu(s,r,n,a=!1){let l;typeof s=="string"?l=Sn(s):(l={...s},Ae(!l.pathname||!l.pathname.includes("?"),Ul("?","pathname","search",l)),Ae(!l.pathname||!l.pathname.includes("#"),Ul("#","pathname","hash",l)),Ae(!l.search||!l.search.includes("#"),Ul("#","search","hash",l)));let u=s===""||l.pathname==="",d=u?"/":l.pathname,p;if(d==null)p=n;else{let g=r.length-1;if(!a&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),g-=1;l.pathname=_.join("/")}p=g>=0?r[g]:"/"}let m=rg(l,p),y=d&&d!=="/"&&d.endsWith("/"),w=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||w)&&(m.pathname+="/"),m}var wr=s=>s.join("/").replace(/\/\/+/g,"/"),sg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ig=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ag=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,og=class{constructor(s,r,n,a=!1){this.status=s,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function ug(s){return s.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Zh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ef(s,r){let n=s;if(typeof n!="string"||!tg.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,l=!1;if(Zh)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=xr(d.pathname,r);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:l=!0}catch{Bt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tf=["POST","PUT","PATCH","DELETE"];new Set(tf);var cg=["GET",...tf];new Set(cg);var ls=R.createContext(null);ls.displayName="DataRouter";var Wa=R.createContext(null);Wa.displayName="DataRouterState";var dg=R.createContext(!1),rf=R.createContext({isTransitioning:!1});rf.displayName="ViewTransition";var hg=R.createContext(new Map);hg.displayName="Fetchers";var fg=R.createContext(null);fg.displayName="Await";var Rt=R.createContext(null);Rt.displayName="Navigation";var fi=R.createContext(null);fi.displayName="Location";var Xt=R.createContext({outlet:null,matches:[],isDataRoute:!1});Xt.displayName="Route";var pu=R.createContext(null);pu.displayName="RouteError";var nf="REACT_ROUTER_ERROR",pg="REDIRECT",mg="ROUTE_ERROR_RESPONSE";function gg(s){if(s.startsWith(`${nf}:${pg}:{`))try{let r=JSON.parse(s.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function yg(s){if(s.startsWith(`${nf}:${mg}:{`))try{let r=JSON.parse(s.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new og(r.status,r.statusText,r.data)}catch{}}function vg(s,{relative:r}={}){Ae(us(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=R.useContext(Rt),{hash:l,pathname:u,search:d}=pi(s,{relative:r}),p=u;return n!=="/"&&(p=u==="/"?n:wr([n,u])),a.createHref({pathname:p,search:d,hash:l})}function us(){return R.useContext(fi)!=null}function Yr(){return Ae(us(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(fi).location}var sf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function af(s){R.useContext(Rt).static||R.useLayoutEffect(s)}function Xr(){let{isDataRoute:s}=R.useContext(Xt);return s?Pg():wg()}function wg(){Ae(us(),"useNavigate() may be used only in the context of a <Router> component.");let s=R.useContext(ls),{basename:r,navigator:n}=R.useContext(Rt),{matches:a}=R.useContext(Xt),{pathname:l}=Yr(),u=JSON.stringify(hu(a)),d=R.useRef(!1);return af(()=>{d.current=!0}),R.useCallback((m,y={})=>{if(Bt(d.current,sf),!d.current)return;if(typeof m=="number"){n.go(m);return}let w=fu(m,JSON.parse(u),l,y.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:wr([r,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[r,n,u,l,s])}R.createContext(null);function of(){let{matches:s}=R.useContext(Xt),r=s[s.length-1];return r?r.params:{}}function pi(s,{relative:r}={}){let{matches:n}=R.useContext(Xt),{pathname:a}=Yr(),l=JSON.stringify(hu(n));return R.useMemo(()=>fu(s,JSON.parse(l),a,r==="path"),[s,l,a,r])}function xg(s,r){return lf(s,r)}function lf(s,r,n,a,l){Ae(us(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(Rt),{matches:d}=R.useContext(Xt),p=d[d.length-1],m=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",g=p&&p.route;{let U=g&&g.path||"";cf(y,!g||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let _=Yr(),b;if(r){let U=typeof r=="string"?Sn(r):r;Ae(w==="/"||U.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${U.pathname}" was given in the \`location\` prop.`),b=U}else b=_;let C=b.pathname||"/",P=C;if(w!=="/"){let U=w.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let k=Qh(s,{pathname:P});Bt(g||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Bt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Eg(k&&k.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:wr([w,u.encodeLocation?u.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?w:wr([w,u.encodeLocation?u.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),d,n,a,l);return r&&A?R.createElement(fi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function _g(){let s=Rg(),r=lg(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),n?R.createElement("pre",{style:l},n):null,d)}var bg=R.createElement(_g,null),uf=class extends R.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){this.props.onError?this.props.onError(s,r):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=yg(s.digest);n&&(s=n)}let r=s!==void 0?R.createElement(Xt.Provider,{value:this.props.routeContext},R.createElement(pu.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?R.createElement(kg,{error:s},r):r}};uf.contextType=dg;var Ml=new WeakMap;function kg({children:s,error:r}){let{basename:n}=R.useContext(Rt);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let a=gg(r.digest);if(a){let l=Ml.get(r);if(l)throw l;let u=ef(a.location,n);if(Zh&&!Ml.get(r))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Ml.set(r,d),d}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Sg({routeContext:s,match:r,children:n}){let a=R.useContext(ls);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(Xt.Provider,{value:s},n)}function Eg(s,r=[],n=null,a=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n?.errors;if(d!=null){let w=u.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);Ae(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,w+1))}let p=!1,m=-1;if(n)for(let w=0;w<u.length;w++){let g=u[w];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=w),g.route.id){let{loaderData:_,errors:b}=n,C=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||C){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let y=n&&a?(w,g)=>{a(w,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ug(n.matches),errorInfo:g})}:void 0;return u.reduceRight((w,g,_)=>{let b,C=!1,P=null,k=null;n&&(b=d&&g.route.id?d[g.route.id]:void 0,P=g.route.errorElement||bg,p&&(m<0&&_===0?(cf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):m===_&&(C=!0,k=g.route.hydrateFallbackElement||null)));let A=r.concat(u.slice(0,_+1)),U=()=>{let j;return b?j=P:C?j=k:g.route.Component?j=R.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=w,R.createElement(Sg,{match:g,routeContext:{outlet:w,matches:A,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?R.createElement(uf,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:U(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:y}):U()},null)}function mu(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jg(s){let r=R.useContext(ls);return Ae(r,mu(s)),r}function Ng(s){let r=R.useContext(Wa);return Ae(r,mu(s)),r}function Cg(s){let r=R.useContext(Xt);return Ae(r,mu(s)),r}function gu(s){let r=Cg(s),n=r.matches[r.matches.length-1];return Ae(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Tg(){return gu("useRouteId")}function Rg(){let s=R.useContext(pu),r=Ng("useRouteError"),n=gu("useRouteError");return s!==void 0?s:r.errors?.[n]}function Pg(){let{router:s}=jg("useNavigate"),r=gu("useNavigate"),n=R.useRef(!1);return af(()=>{n.current=!0}),R.useCallback(async(l,u={})=>{Bt(n.current,sf),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:r,...u}))},[s,r])}var fh={};function cf(s,r,n){!r&&!fh[s]&&(fh[s]=!0,Bt(!1,n))}R.memo(Og);function Og({routes:s,future:r,state:n,onError:a}){return lf(s,void 0,n,a,r)}function Ql({to:s,replace:r,state:n,relative:a}){Ae(us(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=R.useContext(Rt);Bt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(Xt),{pathname:d}=Yr(),p=Xr(),m=fu(s,hu(u),d,a==="path"),y=JSON.stringify(m);return R.useEffect(()=>{p(JSON.parse(y),{replace:r,state:n,relative:a})},[p,y,a,r,n]),null}function Gr(s){Ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ag({basename:s="/",children:r=null,location:n,navigationType:a="POP",navigator:l,static:u=!1,unstable_useTransitions:d}){Ae(!us(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:p,navigator:l,static:u,unstable_useTransitions:d,future:{}}),[p,l,u,d]);typeof n=="string"&&(n=Sn(n));let{pathname:y="/",search:w="",hash:g="",state:_=null,key:b="default"}=n,C=R.useMemo(()=>{let P=xr(y,p);return P==null?null:{location:{pathname:P,search:w,hash:g,state:_,key:b},navigationType:a}},[p,y,w,g,_,b,a]);return Bt(C!=null,`<Router basename="${p}"> is not able to match the URL "${y}${w}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:R.createElement(Rt.Provider,{value:m},R.createElement(fi.Provider,{children:r,value:C}))}function Ig({children:s,location:r}){return xg(Yl(s),r)}function Yl(s,r=[]){let n=[];return R.Children.forEach(s,(a,l)=>{if(!R.isValidElement(a))return;let u=[...r,l];if(a.type===R.Fragment){n.push.apply(n,Yl(a.props.children,u));return}Ae(a.type===Gr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ae(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Yl(a.props.children,u)),n.push(d)}),n}var Da="get",Ua="application/x-www-form-urlencoded";function Va(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Lg(s){return Va(s)&&s.tagName.toLowerCase()==="button"}function $g(s){return Va(s)&&s.tagName.toLowerCase()==="form"}function Dg(s){return Va(s)&&s.tagName.toLowerCase()==="input"}function Ug(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Mg(s,r){return s.button===0&&(!r||r==="_self")&&!Ug(s)}var Ca=null;function Bg(){if(Ca===null)try{new FormData(document.createElement("form"),0),Ca=!1}catch{Ca=!0}return Ca}var Fg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bl(s){return s!=null&&!Fg.has(s)?(Bt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ua}"`),null):s}function zg(s,r){let n,a,l,u,d;if($g(s)){let p=s.getAttribute("action");a=p?xr(p,r):null,n=s.getAttribute("method")||Da,l=Bl(s.getAttribute("enctype"))||Ua,u=new FormData(s)}else if(Lg(s)||Dg(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(a=m?xr(m,r):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Da,l=Bl(s.getAttribute("formenctype"))||Bl(p.getAttribute("enctype"))||Ua,u=new FormData(p,s),!Bg()){let{name:y,type:w,value:g}=s;if(w==="image"){let _=y?`${y}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else y&&u.append(y,g)}}else{if(Va(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Da,a=null,l=Ua,d=s}return u&&l==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yu(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function qg(s,r,n,a){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:r&&xr(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function Hg(s,r){if(s.id in r)return r[s.id];try{let n=await import(s.module);return r[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wg(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Vg(s,r,n){let a=await Promise.all(s.map(async l=>{let u=r.routes[l.route.id];if(u){let d=await Hg(u,n);return d.links?d.links():[]}return[]}));return Qg(a.flat(1).filter(Wg).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ph(s,r,n,a,l,u){let d=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,p=(m,y)=>n[y].pathname!==m.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==m.params["*"];return u==="assets"?r.filter((m,y)=>d(m,y)||p(m,y)):u==="data"?r.filter((m,y)=>{let w=a.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(d(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let g=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Kg(s,r,{includeHydrateFallback:n}={}){return Gg(s.map(a=>{let l=r.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Gg(s){return[...new Set(s)]}function Jg(s){let r={},n=Object.keys(s).sort();for(let a of n)r[a]=s[a];return r}function Qg(s,r){let n=new Set;return new Set(r),s.reduce((a,l)=>{let u=JSON.stringify(Jg(l));return n.has(u)||(n.add(u),a.push({key:u,link:l})),a},[])}function df(){let s=R.useContext(ls);return yu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Yg(){let s=R.useContext(Wa);return yu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var vu=R.createContext(void 0);vu.displayName="FrameworkContext";function hf(){let s=R.useContext(vu);return yu(s,"You must render this element inside a <HydratedRouter> element"),s}function Xg(s,r){let n=R.useContext(vu),[a,l]=R.useState(!1),[u,d]=R.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:w,onTouchStart:g}=r,_=R.useRef(null);R.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let P=A=>{A.forEach(U=>{d(U.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[s]),R.useEffect(()=>{if(a){let P=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(P)}}},[a]);let b=()=>{l(!0)},C=()=>{l(!1),d(!1)};return n?s!=="intent"?[u,_,{}]:[u,_,{onFocus:Zs(p,b),onBlur:Zs(m,C),onMouseEnter:Zs(y,b),onMouseLeave:Zs(w,C),onTouchStart:Zs(g,b)}]:[!1,_,{}]}function Zs(s,r){return n=>{s&&s(n),n.defaultPrevented||r(n)}}function Zg({page:s,...r}){let{router:n}=df(),a=R.useMemo(()=>Qh(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?R.createElement(ty,{page:s,matches:a,...r}):null}function ey(s){let{manifest:r,routeModules:n}=hf(),[a,l]=R.useState([]);return R.useEffect(()=>{let u=!1;return Vg(s,r,n).then(d=>{u||l(d)}),()=>{u=!0}},[s,r,n]),a}function ty({page:s,matches:r,...n}){let a=Yr(),{future:l,manifest:u,routeModules:d}=hf(),{basename:p}=df(),{loaderData:m,matches:y}=Yg(),w=R.useMemo(()=>ph(s,r,y,u,a,"data"),[s,r,y,u,a]),g=R.useMemo(()=>ph(s,r,y,u,a,"assets"),[s,r,y,u,a]),_=R.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let P=new Set,k=!1;if(r.forEach(U=>{let j=u.routes[U.route.id];!j||!j.hasLoader||(!w.some(N=>N.route.id===U.route.id)&&U.route.id in m&&d[U.route.id]?.shouldRevalidate||j.hasClientLoader?k=!0:P.add(U.route.id))}),P.size===0)return[];let A=qg(s,p,l.unstable_trailingSlashAwareDataRequests,"data");return k&&P.size>0&&A.searchParams.set("_routes",r.filter(U=>P.has(U.route.id)).map(U=>U.route.id).join(",")),[A.pathname+A.search]},[p,l.unstable_trailingSlashAwareDataRequests,m,a,u,w,r,s,d]),b=R.useMemo(()=>Kg(g,u),[g,u]),C=ey(g);return R.createElement(R.Fragment,null,_.map(P=>R.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),b.map(P=>R.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),C.map(({key:P,link:k})=>R.createElement("link",{key:P,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function ry(...s){return r=>{s.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var ny=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ny&&(window.__reactRouterVersion="7.13.0")}catch{}function sy({basename:s,children:r,unstable_useTransitions:n,window:a}){let l=R.useRef();l.current==null&&(l.current=Um({window:a,v5Compat:!0}));let u=l.current,[d,p]=R.useState({action:u.action,location:u.location}),m=R.useCallback(y=>{n===!1?p(y):R.startTransition(()=>p(y))},[n]);return R.useLayoutEffect(()=>u.listen(m),[u,m]),R.createElement(Ag,{basename:s,children:r,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var ff=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pf=R.forwardRef(function({onClick:r,discover:n="render",prefetch:a="none",relative:l,reloadDocument:u,replace:d,state:p,target:m,to:y,preventScrollReset:w,viewTransition:g,unstable_defaultShouldRevalidate:_,...b},C){let{basename:P,unstable_useTransitions:k}=R.useContext(Rt),A=typeof y=="string"&&ff.test(y),U=ef(y,P);y=U.to;let j=vg(y,{relative:l}),[N,F,$]=Xg(a,b),D=ly(y,{replace:d,state:p,target:m,preventScrollReset:w,relative:l,viewTransition:g,unstable_defaultShouldRevalidate:_,unstable_useTransitions:k});function K(ie){r&&r(ie),ie.defaultPrevented||D(ie)}let G=R.createElement("a",{...b,...$,href:U.absoluteURL||j,onClick:U.isExternal||u?r:K,ref:ry(C,F),target:m,"data-discover":!A&&n==="render"?"true":void 0});return N&&!A?R.createElement(R.Fragment,null,G,R.createElement(Zg,{page:j})):G});pf.displayName="Link";var iy=R.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:a="",end:l=!1,style:u,to:d,viewTransition:p,children:m,...y},w){let g=pi(d,{relative:y.relative}),_=Yr(),b=R.useContext(Wa),{navigator:C,basename:P}=R.useContext(Rt),k=b!=null&&fy(g)&&p===!0,A=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,U=_.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(U=U.toLowerCase(),j=j?j.toLowerCase():null,A=A.toLowerCase()),j&&P&&(j=xr(j,P)||j);const N=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let F=U===A||!l&&U.startsWith(A)&&U.charAt(N)==="/",$=j!=null&&(j===A||!l&&j.startsWith(A)&&j.charAt(A.length)==="/"),D={isActive:F,isPending:$,isTransitioning:k},K=F?r:void 0,G;typeof a=="function"?G=a(D):G=[a,F?"active":null,$?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ie=typeof u=="function"?u(D):u;return R.createElement(pf,{...y,"aria-current":K,className:G,ref:w,style:ie,to:d,viewTransition:p},typeof m=="function"?m(D):m)});iy.displayName="NavLink";var ay=R.forwardRef(({discover:s="render",fetcherKey:r,navigate:n,reloadDocument:a,replace:l,state:u,method:d=Da,action:p,onSubmit:m,relative:y,preventScrollReset:w,viewTransition:g,unstable_defaultShouldRevalidate:_,...b},C)=>{let{unstable_useTransitions:P}=R.useContext(Rt),k=dy(),A=hy(p,{relative:y}),U=d.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&ff.test(p),N=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let $=F.nativeEvent.submitter,D=$?.getAttribute("formmethod")||d,K=()=>k($||F.currentTarget,{fetcherKey:r,method:D,navigate:n,replace:l,state:u,relative:y,preventScrollReset:w,viewTransition:g,unstable_defaultShouldRevalidate:_});P&&n!==!1?R.startTransition(()=>K()):K()};return R.createElement("form",{ref:C,method:U,action:A,onSubmit:a?m:N,...b,"data-discover":!j&&s==="render"?"true":void 0})});ay.displayName="Form";function oy(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mf(s){let r=R.useContext(ls);return Ae(r,oy(s)),r}function ly(s,{target:r,replace:n,state:a,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=Xr(),w=Yr(),g=pi(s,{relative:u});return R.useCallback(_=>{if(Mg(_,r)){_.preventDefault();let b=n!==void 0?n:ii(w)===ii(g),C=()=>y(s,{replace:b,state:a,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});m?R.startTransition(()=>C()):C()}},[w,y,g,n,a,r,s,l,u,d,p,m])}var uy=0,cy=()=>`__${String(++uy)}__`;function dy(){let{router:s}=mf("useSubmit"),{basename:r}=R.useContext(Rt),n=Tg(),a=s.fetch,l=s.navigate;return R.useCallback(async(u,d={})=>{let{action:p,method:m,encType:y,formData:w,body:g}=zg(u,r);if(d.navigate===!1){let _=d.fetcherKey||cy();await a(_,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:g,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await l(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:g,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,l,r,n])}function hy(s,{relative:r}={}){let{basename:n}=R.useContext(Rt),a=R.useContext(Xt);Ae(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...pi(s||".",{relative:r})},d=Yr();if(s==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(w=>w==="")){p.delete("index"),m.filter(g=>g).forEach(g=>p.append("index",g));let w=p.toString();u.search=w?`?${w}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:wr([n,u.pathname])),ii(u)}function fy(s,{relative:r}={}){let n=R.useContext(rf);Ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=mf("useViewTransitionState"),l=pi(s,{relative:r});if(!n.isTransitioning)return!1;let u=xr(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=xr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Ma(l.pathname,d)!=null||Ma(l.pathname,u)!=null}var py=Jh();const my=Gh(py);function gy(s){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.appendChild(n),n.styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s))}const yy=s=>{switch(s){case"success":return xy;case"info":return by;case"warning":return _y;case"error":return ky;default:return null}},vy=Array(12).fill(0),wy=({visible:s,className:r})=>Q.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":s},Q.createElement("div",{className:"sonner-spinner"},vy.map((n,a)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),xy=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_y=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),by=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ky=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Sy=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ey=()=>{const[s,r]=Q.useState(document.hidden);return Q.useEffect(()=>{const n=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),s};let Xl=1;class jy{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const n=this.subscribers.indexOf(r);this.subscribers.splice(n,1)}),this.publish=r=>{this.subscribers.forEach(n=>n(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var n;const{message:a,...l}=r,u=typeof r?.id=="number"||((n=r.id)==null?void 0:n.length)>0?r.id:Xl++,d=this.toasts.find(m=>m.id===u),p=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(m=>m.id===u?(this.publish({...m,...r,id:u,title:a}),{...m,...r,id:u,dismissible:p,title:a}):m):this.addToast({title:a,...l,dismissible:p,id:u}),u},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:r,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),r),this.message=(r,n)=>this.create({...n,message:r}),this.error=(r,n)=>this.create({...n,message:r,type:"error"}),this.success=(r,n)=>this.create({...n,type:"success",message:r}),this.info=(r,n)=>this.create({...n,type:"info",message:r}),this.warning=(r,n)=>this.create({...n,type:"warning",message:r}),this.loading=(r,n)=>this.create({...n,type:"loading",message:r}),this.promise=(r,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:r,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const l=Promise.resolve(r instanceof Function?r():r);let u=a!==void 0,d;const p=l.then(async y=>{if(d=["resolve",y],Q.isValidElement(y))u=!1,this.create({id:a,type:"default",message:y});else if(Cy(y)&&!y.ok){u=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${y.status}`):n.error,_=typeof n.description=="function"?await n.description(`HTTP error! status: ${y.status}`):n.description,C=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:_,...C})}else if(y instanceof Error){u=!1;const g=typeof n.error=="function"?await n.error(y):n.error,_=typeof n.description=="function"?await n.description(y):n.description,C=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:_,...C})}else if(n.success!==void 0){u=!1;const g=typeof n.success=="function"?await n.success(y):n.success,_=typeof n.description=="function"?await n.description(y):n.description,C=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:a,type:"success",description:_,...C})}}).catch(async y=>{if(d=["reject",y],n.error!==void 0){u=!1;const w=typeof n.error=="function"?await n.error(y):n.error,g=typeof n.description=="function"?await n.description(y):n.description,b=typeof w=="object"&&!Q.isValidElement(w)?w:{message:w};this.create({id:a,type:"error",description:g,...b})}}).finally(()=>{u&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((y,w)=>p.then(()=>d[0]==="reject"?w(d[1]):y(d[1])).catch(w));return typeof a!="string"&&typeof a!="number"?{unwrap:m}:Object.assign(a,{unwrap:m})},this.custom=(r,n)=>{const a=n?.id||Xl++;return this.create({jsx:r(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const _t=new jy,Ny=(s,r)=>{const n=r?.id||Xl++;return _t.addToast({title:s,...r,id:n}),n},Cy=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",Ty=Ny,Ry=()=>_t.toasts,Py=()=>_t.getActiveToasts(),xt=Object.assign(Ty,{success:_t.success,info:_t.info,warning:_t.warning,error:_t.error,custom:_t.custom,message:_t.message,promise:_t.promise,dismiss:_t.dismiss,loading:_t.loading},{getHistory:Ry,getToasts:Py});gy("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ta(s){return s.label!==void 0}const Oy=3,Ay="24px",Iy="16px",mh=4e3,Ly=356,$y=14,Dy=45,Uy=200;function sr(...s){return s.filter(Boolean).join(" ")}function My(s){const[r,n]=s.split("-"),a=[];return r&&a.push(r),n&&a.push(n),a}const By=s=>{var r,n,a,l,u,d,p,m,y;const{invert:w,toast:g,unstyled:_,interacting:b,setHeights:C,visibleToasts:P,heights:k,index:A,toasts:U,expanded:j,removeToast:N,defaultRichColors:F,closeButton:$,style:D,cancelButtonStyle:K,actionButtonStyle:G,className:ie="",descriptionClassName:ye="",duration:Se,position:xe,gap:He,expandByDefault:Je,classNames:ge,icons:pe,closeButtonAriaLabel:J="Close toast"}=s,[O,B]=Q.useState(null),[T,z]=Q.useState(null),[Y,ne]=Q.useState(!1),[ae,fe]=Q.useState(!1),[_e,oe]=Q.useState(!1),[Ee,Qe]=Q.useState(!1),[ir,ar]=Q.useState(!1),[En,Zr]=Q.useState(0),[gi,hs]=Q.useState(0),or=Q.useRef(g.duration||Se||mh),fs=Q.useRef(null),bt=Q.useRef(null),en=A===0,br=A+1<=P,tt=g.type,lr=g.dismissible!==!1,yi=g.className||"",vi=g.descriptionClassName||"",tn=Q.useMemo(()=>k.findIndex(me=>me.toastId===g.id)||0,[k,g.id]),ps=Q.useMemo(()=>{var me;return(me=g.closeButton)!=null?me:$},[g.closeButton,$]),rn=Q.useMemo(()=>g.duration||Se||mh,[g.duration,Se]),jn=Q.useRef(0),Pt=Q.useRef(0),kr=Q.useRef(0),Sr=Q.useRef(null),[wi,xi]=xe.split("-"),_i=Q.useMemo(()=>k.reduce((me,Ue,We)=>We>=tn?me:me+Ue.height,0),[k,tn]),Nn=Ey(),ms=g.invert||w,nn=tt==="loading";Pt.current=Q.useMemo(()=>tn*He+_i,[tn,_i]),Q.useEffect(()=>{or.current=rn},[rn]),Q.useEffect(()=>{ne(!0)},[]),Q.useEffect(()=>{const me=bt.current;if(me){const Ue=me.getBoundingClientRect().height;return hs(Ue),C(We=>[{toastId:g.id,height:Ue,position:g.position},...We]),()=>C(We=>We.filter(ot=>ot.toastId!==g.id))}},[C,g.id]),Q.useLayoutEffect(()=>{if(!Y)return;const me=bt.current,Ue=me.style.height;me.style.height="auto";const We=me.getBoundingClientRect().height;me.style.height=Ue,hs(We),C(ot=>ot.find(Fe=>Fe.toastId===g.id)?ot.map(Fe=>Fe.toastId===g.id?{...Fe,height:We}:Fe):[{toastId:g.id,height:We,position:g.position},...ot])},[Y,g.title,g.description,C,g.id,g.jsx,g.action,g.cancel]);const Ot=Q.useCallback(()=>{fe(!0),Zr(Pt.current),C(me=>me.filter(Ue=>Ue.toastId!==g.id)),setTimeout(()=>{N(g)},Uy)},[g,N,C,Pt]);Q.useEffect(()=>{if(g.promise&&tt==="loading"||g.duration===1/0||g.type==="loading")return;let me;return j||b||Nn?(()=>{if(kr.current<jn.current){const ot=new Date().getTime()-jn.current;or.current=or.current-ot}kr.current=new Date().getTime()})():(()=>{or.current!==1/0&&(jn.current=new Date().getTime(),me=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Ot()},or.current))})(),()=>clearTimeout(me)},[j,b,g,tt,Nn,Ot]),Q.useEffect(()=>{g.delete&&(Ot(),g.onDismiss==null||g.onDismiss.call(g,g))},[Ot,g.delete]);function gs(){var me;if(pe?.loading){var Ue;return Q.createElement("div",{className:sr(ge?.loader,g==null||(Ue=g.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":tt==="loading"},pe.loading)}return Q.createElement(wy,{className:sr(ge?.loader,g==null||(me=g.classNames)==null?void 0:me.loader),visible:tt==="loading"})}const Er=g.icon||pe?.[tt]||yy(tt);var ur,ys;return Q.createElement("li",{tabIndex:0,ref:bt,className:sr(ie,yi,ge?.toast,g==null||(r=g.classNames)==null?void 0:r.toast,ge?.default,ge?.[tt],g==null||(n=g.classNames)==null?void 0:n[tt]),"data-sonner-toast":"","data-rich-colors":(ur=g.richColors)!=null?ur:F,"data-styled":!(g.jsx||g.unstyled||_),"data-mounted":Y,"data-promise":!!g.promise,"data-swiped":ir,"data-removed":ae,"data-visible":br,"data-y-position":wi,"data-x-position":xi,"data-index":A,"data-front":en,"data-swiping":_e,"data-dismissible":lr,"data-type":tt,"data-invert":ms,"data-swipe-out":Ee,"data-swipe-direction":T,"data-expanded":!!(j||Je&&Y),"data-testid":g.testId,style:{"--index":A,"--toasts-before":A,"--z-index":U.length-A,"--offset":`${ae?En:Pt.current}px`,"--initial-height":Je?"auto":`${gi}px`,...D,...g.style},onDragEnd:()=>{oe(!1),B(null),Sr.current=null},onPointerDown:me=>{me.button!==2&&(nn||!lr||(fs.current=new Date,Zr(Pt.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(oe(!0),Sr.current={x:me.clientX,y:me.clientY})))},onPointerUp:()=>{var me,Ue,We;if(Ee||!lr)return;Sr.current=null;const ot=Number(((me=bt.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jr=Number(((Ue=bt.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fe=new Date().getTime()-((We=fs.current)==null?void 0:We.getTime()),Ye=O==="x"?ot:jr,Nr=Math.abs(Ye)/Fe;if(Math.abs(Ye)>=Dy||Nr>.11){Zr(Pt.current),g.onDismiss==null||g.onDismiss.call(g,g),z(O==="x"?ot>0?"right":"left":jr>0?"down":"up"),Ot(),Qe(!0);return}else{var rt,kt;(rt=bt.current)==null||rt.style.setProperty("--swipe-amount-x","0px"),(kt=bt.current)==null||kt.style.setProperty("--swipe-amount-y","0px")}ar(!1),oe(!1),B(null)},onPointerMove:me=>{var Ue,We,ot;if(!Sr.current||!lr||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;const Fe=me.clientY-Sr.current.y,Ye=me.clientX-Sr.current.x;var Nr;const rt=(Nr=s.swipeDirections)!=null?Nr:My(xe);!O&&(Math.abs(Ye)>1||Math.abs(Fe)>1)&&B(Math.abs(Ye)>Math.abs(Fe)?"x":"y");let kt={x:0,y:0};const Cr=At=>1/(1.5+Math.abs(At)/20);if(O==="y"){if(rt.includes("top")||rt.includes("bottom"))if(rt.includes("top")&&Fe<0||rt.includes("bottom")&&Fe>0)kt.y=Fe;else{const At=Fe*Cr(Fe);kt.y=Math.abs(At)<Math.abs(Fe)?At:Fe}}else if(O==="x"&&(rt.includes("left")||rt.includes("right")))if(rt.includes("left")&&Ye<0||rt.includes("right")&&Ye>0)kt.x=Ye;else{const At=Ye*Cr(Ye);kt.x=Math.abs(At)<Math.abs(Ye)?At:Ye}(Math.abs(kt.x)>0||Math.abs(kt.y)>0)&&ar(!0),(We=bt.current)==null||We.style.setProperty("--swipe-amount-x",`${kt.x}px`),(ot=bt.current)==null||ot.style.setProperty("--swipe-amount-y",`${kt.y}px`)}},ps&&!g.jsx&&tt!=="loading"?Q.createElement("button",{"aria-label":J,"data-disabled":nn,"data-close-button":!0,onClick:nn||!lr?()=>{}:()=>{Ot(),g.onDismiss==null||g.onDismiss.call(g,g)},className:sr(ge?.closeButton,g==null||(a=g.classNames)==null?void 0:a.closeButton)},(ys=pe?.close)!=null?ys:Sy):null,(tt||g.icon||g.promise)&&g.icon!==null&&(pe?.[tt]!==null||g.icon)?Q.createElement("div",{"data-icon":"",className:sr(ge?.icon,g==null||(l=g.classNames)==null?void 0:l.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||gs():null,g.type!=="loading"?Er:null):null,Q.createElement("div",{"data-content":"",className:sr(ge?.content,g==null||(u=g.classNames)==null?void 0:u.content)},Q.createElement("div",{"data-title":"",className:sr(ge?.title,g==null||(d=g.classNames)==null?void 0:d.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?Q.createElement("div",{"data-description":"",className:sr(ye,vi,ge?.description,g==null||(p=g.classNames)==null?void 0:p.description)},typeof g.description=="function"?g.description():g.description):null),Q.isValidElement(g.cancel)?g.cancel:g.cancel&&Ta(g.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||K,onClick:me=>{Ta(g.cancel)&&lr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,me),Ot())},className:sr(ge?.cancelButton,g==null||(m=g.classNames)==null?void 0:m.cancelButton)},g.cancel.label):null,Q.isValidElement(g.action)?g.action:g.action&&Ta(g.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||G,onClick:me=>{Ta(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,me),!me.defaultPrevented&&Ot())},className:sr(ge?.actionButton,g==null||(y=g.classNames)==null?void 0:y.actionButton)},g.action.label):null)};function gh(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function Fy(s,r){const n={};return[s,r].forEach((a,l)=>{const u=l===1,d=u?"--mobile-offset":"--offset",p=u?Iy:Ay;function m(y){["top","right","bottom","left"].forEach(w=>{n[`${d}-${w}`]=typeof y=="number"?`${y}px`:y})}typeof a=="number"||typeof a=="string"?m(a):typeof a=="object"?["top","right","bottom","left"].forEach(y=>{a[y]===void 0?n[`${d}-${y}`]=p:n[`${d}-${y}`]=typeof a[y]=="number"?`${a[y]}px`:a[y]}):m(p)}),n}const zy=Q.forwardRef(function(r,n){const{id:a,invert:l,position:u="bottom-right",hotkey:d=["altKey","KeyT"],expand:p,closeButton:m,className:y,offset:w,mobileOffset:g,theme:_="light",richColors:b,duration:C,style:P,visibleToasts:k=Oy,toastOptions:A,dir:U=gh(),gap:j=$y,icons:N,containerAriaLabel:F="Notifications"}=r,[$,D]=Q.useState([]),K=Q.useMemo(()=>a?$.filter(Y=>Y.toasterId===a):$.filter(Y=>!Y.toasterId),[$,a]),G=Q.useMemo(()=>Array.from(new Set([u].concat(K.filter(Y=>Y.position).map(Y=>Y.position)))),[K,u]),[ie,ye]=Q.useState([]),[Se,xe]=Q.useState(!1),[He,Je]=Q.useState(!1),[ge,pe]=Q.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Q.useRef(null),O=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=Q.useRef(null),T=Q.useRef(!1),z=Q.useCallback(Y=>{D(ne=>{var ae;return(ae=ne.find(fe=>fe.id===Y.id))!=null&&ae.delete||_t.dismiss(Y.id),ne.filter(({id:fe})=>fe!==Y.id)})},[]);return Q.useEffect(()=>_t.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{D(ne=>ne.map(ae=>ae.id===Y.id?{...ae,delete:!0}:ae))});return}setTimeout(()=>{my.flushSync(()=>{D(ne=>{const ae=ne.findIndex(fe=>fe.id===Y.id);return ae!==-1?[...ne.slice(0,ae),{...ne[ae],...Y},...ne.slice(ae+1)]:[Y,...ne]})})})}),[$]),Q.useEffect(()=>{if(_!=="system"){pe(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:ne})=>{pe(ne?"dark":"light")})}catch{Y.addListener(({matches:ae})=>{try{pe(ae?"dark":"light")}catch(fe){console.error(fe)}})}},[_]),Q.useEffect(()=>{$.length<=1&&xe(!1)},[$]),Q.useEffect(()=>{const Y=ne=>{var ae;if(d.every(oe=>ne[oe]||ne.code===oe)){var _e;xe(!0),(_e=J.current)==null||_e.focus()}ne.code==="Escape"&&(document.activeElement===J.current||(ae=J.current)!=null&&ae.contains(document.activeElement))&&xe(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[d]),Q.useEffect(()=>{if(J.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,T.current=!1)}},[J.current]),Q.createElement("section",{ref:n,"aria-label":`${F} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},G.map((Y,ne)=>{var ae;const[fe,_e]=Y.split("-");return K.length?Q.createElement("ol",{key:Y,dir:U==="auto"?gh():U,tabIndex:-1,ref:J,className:y,"data-sonner-toaster":!0,"data-sonner-theme":ge,"data-y-position":fe,"data-x-position":_e,style:{"--front-toast-height":`${((ae=ie[0])==null?void 0:ae.height)||0}px`,"--width":`${Ly}px`,"--gap":`${j}px`,...P,...Fy(w,g)},onBlur:oe=>{T.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(T.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||T.current||(T.current=!0,B.current=oe.relatedTarget)},onMouseEnter:()=>xe(!0),onMouseMove:()=>xe(!0),onMouseLeave:()=>{He||xe(!1)},onDragEnd:()=>xe(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||Je(!0)},onPointerUp:()=>Je(!1)},K.filter(oe=>!oe.position&&ne===0||oe.position===Y).map((oe,Ee)=>{var Qe,ir;return Q.createElement(By,{key:oe.id,icons:N,index:Ee,toast:oe,defaultRichColors:b,duration:(Qe=A?.duration)!=null?Qe:C,className:A?.className,descriptionClassName:A?.descriptionClassName,invert:l,visibleToasts:k,closeButton:(ir=A?.closeButton)!=null?ir:m,interacting:He,position:Y,style:A?.style,unstyled:A?.unstyled,classNames:A?.classNames,cancelButtonStyle:A?.cancelButtonStyle,actionButtonStyle:A?.actionButtonStyle,closeButtonAriaLabel:A?.closeButtonAriaLabel,removeToast:z,toasts:K.filter(ar=>ar.position==oe.position),heights:ie.filter(ar=>ar.position==oe.position),setHeights:ye,expandByDefault:p,gap:j,expanded:Se,swipeDirections:r.swipeDirections})})):null}))});function Ka(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function qy(s,r,n,a){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function p(w){try{y(a.next(w))}catch(g){d(g)}}function m(w){try{y(a.throw(w))}catch(g){d(g)}}function y(w){w.done?u(w.value):l(w.value).then(p,m)}y((a=a.apply(s,r||[])).next())})}const Hy=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class wu extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class Wy extends wu{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class yh extends wu{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class vh extends wu{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Zl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Zl||(Zl={}));class Vy{constructor(r,{headers:n={},customFetch:a,region:l=Zl.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Hy(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return qy(this,arguments,void 0,function*(n,a={}){var l;let u,d;try{const{headers:p,method:m,body:y,signal:w,timeout:g}=a;let _={},{region:b}=a;b||(b=this.region);const C=new URL(`${this.url}/${n}`);b&&b!=="any"&&(_["x-region"]=b,C.searchParams.set("forceFunctionRegion",b));let P;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",P=y):typeof y=="string"?(_["Content-Type"]="text/plain",P=y):typeof FormData<"u"&&y instanceof FormData?P=y:(_["Content-Type"]="application/json",P=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?P=JSON.stringify(y):P=y;let k=w;g&&(d=new AbortController,u=setTimeout(()=>d.abort(),g),w?(k=d.signal,w.addEventListener("abort",()=>d.abort())):k=d.signal);const A=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:P,signal:k}).catch(F=>{throw new Wy(F)}),U=A.headers.get("x-relay-error");if(U&&U==="true")throw new yh(A);if(!A.ok)throw new vh(A);let j=((l=A.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),N;return j==="application/json"?N=yield A.json():j==="application/octet-stream"||j==="application/pdf"?N=yield A.blob():j==="text/event-stream"?N=A:j==="multipart/form-data"?N=yield A.formData():N=yield A.text(),{data:N,error:null,response:A}}catch(p){return{data:null,error:p,response:p instanceof vh||p instanceof yh?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var Ky=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Gy=class{constructor(s){var r,n,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(a=s.urlLengthLimit)!==null&&a!==void 0?a:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,p=null,m=null,y=u.status,w=u.statusText;if(u.ok){var g,_;if(n.method!=="HEAD"){var b;const A=await u.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?p=A:p=JSON.parse(A))}const P=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");P&&k&&k.length>1&&(m=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var C;const P=await u.text();try{d=JSON.parse(P),Array.isArray(d)&&u.status===404&&(p=[],d=null,y=200,w="OK")}catch{u.status===404&&P===""?(y=204,w="No Content"):d={message:P}}if(d&&n.isMaybeSingle&&(!(d==null||(C=d.details)===null||C===void 0)&&C.includes("0 rows"))&&(d=null,y=200,w="OK"),d&&n.shouldThrowOnError)throw new Ky(d)}return{error:d,data:p,count:m,status:y,statusText:w}});return this.shouldThrowOnError||(l=l.catch(u=>{var d;let p="",m="",y="";const w=u?.cause;if(w){var g,_,b,C;const A=(g=w?.message)!==null&&g!==void 0?g:"",U=(_=w?.code)!==null&&_!==void 0?_:"";p=`${(b=u?.name)!==null&&b!==void 0?b:"FetchError"}: ${u?.message}`,p+=`

Caused by: ${(C=w?.name)!==null&&C!==void 0?C:"Error"}: ${A}`,U&&(p+=` (${U})`),w?.stack&&(p+=`
${w.stack}`)}else{var P;p=(P=u?.stack)!==null&&P!==void 0?P:""}const k=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(y="",m="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(w?.name==="HeadersOverflowError"||w?.code==="UND_ERR_HEADERS_OVERFLOW")&&(y="",m="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(m+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:p,hint:m,code:y},data:null,count:null,status:0,statusText:""}})),l.then(s,r)}returns(){return this}overrideTypes(){return this}},Jy=class extends Gy{select(s){let r=!1;const n=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:a=n}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const p=[s?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const wh=new RegExp("[,()]");var rs=class extends Jy{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&wh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&wh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${l}fts${u}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}},Qy=class{constructor(s,{headers:r={},schema:n,fetch:a,urlLengthLimit:l=8e3}){this.url=s,this.headers=new Headers(r),this.schema=n,this.fetch=a,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,r){const{head:n=!1,count:a}=r??{},l=n?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(y=>/\s/.test(y)&&!u?"":(y==='"'&&(u=!u),y)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",d),a&&m.append("Prefer",`count=${a}`),new rs({method:l,url:p,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:r,defaultToNull:n=!0}={}){var a;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(r&&d.append("Prefer",`count=${r}`),n||d.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);u.searchParams.set("columns",m.join(","))}}return new rs({method:l,url:u,headers:d,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&p.searchParams.set("on_conflict",r),a&&m.append("Prefer",`count=${a}`),l||m.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((w,g)=>w.concat(Object.keys(g)),[]);if(y.length>0){const w=[...new Set(y)].map(g=>`"${g}"`);p.searchParams.set("columns",w.join(","))}}return new rs({method:d,url:p,headers:m,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:r}={}){var n;const a="PATCH",{url:l,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new rs({method:a,url:l,headers:u,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var r;const n="DELETE",{url:a,headers:l}=this.cloneRequestState();return s&&l.append("Prefer",`count=${s}`),new rs({method:n,url:a,headers:l,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};function ai(s){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ai(s)}function Yy(s,r){if(ai(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(ai(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Xy(s){var r=Yy(s,"string");return ai(r)=="symbol"?r:r+""}function Zy(s,r,n){return(r=Xy(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function xh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function Ra(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xh(Object(n),!0).forEach(function(a){Zy(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var e0=class gf{constructor(r,{headers:n={},schema:a,fetch:l,timeout:u,urlLengthLimit:d=8e3}={}){this.url=r,this.headers=new Headers(n),this.schemaName=a,this.urlLengthLimit=d;const p=l??globalThis.fetch;u!==void 0&&u>0?this.fetch=(m,y)=>{const w=new AbortController,g=setTimeout(()=>w.abort(),u),_=y?.signal;if(_){if(_.aborted)return clearTimeout(g),p(m,y);const b=()=>{clearTimeout(g),w.abort()};return _.addEventListener("abort",b,{once:!0}),p(m,Ra(Ra({},y),{},{signal:w.signal})).finally(()=>{clearTimeout(g),_.removeEventListener("abort",b)})}return p(m,Ra(Ra({},y),{},{signal:w.signal})).finally(()=>clearTimeout(g))}:this.fetch=p}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qy(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(r){return new gf(this.url,{headers:this.headers,schema:r,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(r,n={},{head:a=!1,get:l=!1,count:u}={}){var d;let p;const m=new URL(`${this.url}/rpc/${r}`);let y;const w=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(w)),g=a&&Object.values(n).some(w);g?(p="POST",y=n):a||l?(p=a?"HEAD":"GET",Object.entries(n).filter(([b,C])=>C!==void 0).map(([b,C])=>[b,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([b,C])=>{m.searchParams.append(b,C)})):(p="POST",y=n);const _=new Headers(this.headers);return g?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new rs({method:p,url:m,headers:_,schema:this.schemaName,body:y,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class t0{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const l=a.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const r0="2.95.3",n0=`realtime-js/${r0}`,s0="1.0.0",yf="2.0.0",_h=yf,eu=1e4,i0=1e3,a0=100;var Jr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Jr||(Jr={}));var Ge;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ge||(Ge={}));var Qt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Qt||(Qt={}));var tu;(function(s){s.websocket="websocket"})(tu||(tu={}));var _n;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(_n||(_n={}));class o0{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,a;const l=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,a;const l=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,n,a){var l,u;const d=r.topic,p=(l=r.ref)!==null&&l!==void 0?l:"",m=(u=r.join_ref)!==null&&u!==void 0?u:"",y=r.payload.event,w=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},g=Object.keys(w).length===0?"":JSON.stringify(w);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+d.length+y.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+_);let C=new DataView(b),P=0;C.setUint8(P++,this.KINDS.userBroadcastPush),C.setUint8(P++,m.length),C.setUint8(P++,p.length),C.setUint8(P++,d.length),C.setUint8(P++,y.length),C.setUint8(P++,g.length),C.setUint8(P++,n),Array.from(m,A=>C.setUint8(P++,A.charCodeAt(0))),Array.from(p,A=>C.setUint8(P++,A.charCodeAt(0))),Array.from(d,A=>C.setUint8(P++,A.charCodeAt(0))),Array.from(y,A=>C.setUint8(P++,A.charCodeAt(0))),Array.from(g,A=>C.setUint8(P++,A.charCodeAt(0)));var k=new Uint8Array(b.byteLength+a.byteLength);return k.set(new Uint8Array(b),0),k.set(new Uint8Array(a),b.byteLength),k.buffer}decode(r,n){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return n(a)}if(typeof r=="string"){const a=JSON.parse(r),[l,u,d,p,m]=a;return n({join_ref:l,ref:u,topic:d,event:p,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),a=n.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,a){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const y=a.decode(r.slice(m,m+l));m=m+l;const w=a.decode(r.slice(m,m+u));m=m+u;const g=a.decode(r.slice(m,m+d));m=m+d;const _=r.slice(m,r.byteLength),b=p===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,C={type:this.BROADCAST_EVENT,event:w,payload:b};return d>0&&(C.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>n.includes(a)))}}class vf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ce||(Ce={}));const bh=(s,r,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=l0(d,s,r,l),u),{}):{}},l0=(s,r,n,a)=>{const l=r.find(p=>p.name===s),u=l?.type,d=n[s];return u&&!a.includes(u)?wf(u,d):ru(d)},wf=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return h0(r,n)}switch(s){case Ce.bool:return u0(r);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return c0(r);case Ce.json:case Ce.jsonb:return d0(r);case Ce.timestamp:return f0(r);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return ru(r);default:return ru(r)}},ru=s=>s,u0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},c0=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},d0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},h0=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let u;const d=s.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(p=>wf(r,p))}return s},f0=s=>typeof s=="string"?s.replace(" ","T"):s,xf=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Fl{constructor(r,n,a={},l=eu){this.channel=r,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var kh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(kh||(kh={}));class ni{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=ni.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ni.syncDiff(this.state,l,u,d),p())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,l){const u=this.cloneDeep(r),d=this.transformState(n),p={},m={};return this.map(u,(y,w)=>{d[y]||(m[y]=w)}),this.map(d,(y,w)=>{const g=u[y];if(g){const _=w.map(k=>k.presence_ref),b=g.map(k=>k.presence_ref),C=w.filter(k=>b.indexOf(k.presence_ref)<0),P=g.filter(k=>_.indexOf(k.presence_ref)<0);C.length>0&&(p[y]=C),P.length>0&&(m[y]=P)}else p[y]=w}),this.syncDiff(u,{joins:p,leaves:m},a,l)}static syncDiff(r,n,a,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var y;const w=(y=r[p])!==null&&y!==void 0?y:[];if(r[p]=this.cloneDeep(m),w.length>0){const g=r[p].map(b=>b.presence_ref),_=w.filter(b=>g.indexOf(b.presence_ref)<0);r[p].unshift(..._)}a(p,w,m)}),this.map(d,(p,m)=>{let y=r[p];if(!y)return;const w=m.map(g=>g.presence_ref);y=y.filter(g=>w.indexOf(g.presence_ref)<0),r[p]=y,l(p,y,m),y.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const l=r[a];return"metas"in l?n[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[a]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sh;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Sh||(Sh={}));var si;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(si||(si={}));var vr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class is{constructor(r,n={config:{}},a){var l,u;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fl(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new vf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new ni(this),this.broadcastEndpointURL=xf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:d,presence:p,private:m}}=this.params,y=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&l!==void 0?l:[],w=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,g={},_={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:w}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>r?.(vr.CHANNEL_ERROR,b)),this._onClose(()=>r?.(vr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){r?.(vr.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,k=(C=P?.length)!==null&&C!==void 0?C:0,A=[];for(let U=0;U<k;U++){const j=P[U],{filter:{event:N,schema:F,table:$,filter:D}}=j,K=b&&b[U];if(K&&K.event===N&&is.isFilterValueEqual(K.schema,F)&&is.isFilterValueEqual(K.table,$)&&is.isFilterValueEqual(K.filter,D))A.push(Object.assign(Object.assign({},j),{id:K.id}));else{this.unsubscribe(),this.state=Ge.errored,r?.(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r(vr.SUBSCRIBED);return}}).receive("error",b=>{this.state=Ge.errored,r?.(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r?.(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===Ge.joined&&r===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const y=await p.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var a,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,p,m;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ge.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new Fl(this,Qt.leave,{},r),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Fl(this,r,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>a0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var l,u;const d=r.toLocaleLowerCase(),{close:p,error:m,leave:y,join:w}=Qt;if(a&&[p,m,y,w].indexOf(d)>=0&&a!==this._joinRef())return;let _=this._onMessage(d,n,a);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var C,P,k;return((C=b.filter)===null||C===void 0?void 0:C.event)==="*"||((k=(P=b.filter)===null||P===void 0?void 0:P.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(b=>b.callback(_,a)):(u=this.bindings[d])===null||u===void 0||u.filter(b=>{var C,P,k,A,U,j;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const N=b.id,F=(C=b.filter)===null||C===void 0?void 0:C.event;return N&&((P=n.ids)===null||P===void 0?void 0:P.includes(N))&&(F==="*"||F?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const N=(U=(A=b?.filter)===null||A===void 0?void 0:A.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return N==="*"||N===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:P,table:k,commit_timestamp:A,type:U,errors:j}=C;_=Object.assign(Object.assign({},{schema:P,table:k,commit_timestamp:A,eventType:U,new:{},old:{},errors:j}),this._getPayloadRecords(C))}b.callback(_,a)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&is.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Qt.close,{},r)}_onError(r){this._on(Qt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=bh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=bh(r.columns,r.old_record)),n}}const zl=()=>{},Pa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p0=[1e3,2e3,5e3,1e4],m0=1e4,g0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y0{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eu,this.transport=null,this.heartbeatIntervalMs=Pa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zl,this.ref=0,this.reconnectTimer=null,this.vsn=_h,this.logger=zl,this.conn=null,this.sendBuffer=[],this.serializer=new o0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${tu.websocket}`,this.httpEndpoint=xf(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t0.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return n==="ok"&&this._remove(r),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Jr.connecting:return _n.Connecting;case Jr.open:return _n.Open;case Jr.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new is(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:a,payload:l,ref:u}=r,d=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${a} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(i0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pa.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",y)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:l,payload:u,ref:d}=n,p=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${a} ${l} ${p}`.trim(),u),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Jr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Jr.open||this.conn.readyState===Jr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(Qt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${a}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([g0],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,a=!1;if(r)n=r,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const u={access_token:n,version:n0};n&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Qt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new vf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,l,u,d,p,m,y,w,g,_,b;switch(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r?.timeout)!==null&&a!==void 0?a:eu,this.heartbeatIntervalMs=(l=r?.heartbeatIntervalMs)!==null&&l!==void 0?l:Pa.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:zl,this.vsn=(m=r?.vsn)!==null&&m!==void 0?m:_h,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r?.reconnectAfterMs)!==null&&y!==void 0?y:(C=>p0[C-1]||m0),this.vsn){case s0:this.encode=(w=r?.encode)!==null&&w!==void 0?w:((C,P)=>P(JSON.stringify(C))),this.decode=(g=r?.decode)!==null&&g!==void 0?g:((C,P)=>P(JSON.parse(C)));break;case yf:this.encode=(_=r?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(b=r?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}var oi=class extends Error{constructor(s,r){super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function v0(s,r,n){const a=new URL(r,s);if(n)for(const[l,u]of Object.entries(n))u!==void 0&&a.searchParams.set(l,u);return a.toString()}async function w0(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function x0(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:l,body:u,headers:d}){const p=v0(s.baseUrl,a,l),m=await w0(s.auth),y=await r(p,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...m,...d},body:u?JSON.stringify(u):void 0}),w=await y.text(),g=(y.headers.get("content-type")||"").includes("application/json"),_=g&&w?JSON.parse(w):w;if(!y.ok){const b=g?_:void 0,C=b?.error;throw new oi(C?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:C?.type,icebergCode:C?.code,details:b})}return{status:y.status,headers:y.headers,data:_}}}}function Oa(s){return s.join("")}var _0=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:Oa(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Oa(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oa(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Oa(s.namespace)}`}),!0}catch(r){if(r instanceof oi&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof oi&&n.status===409)return;throw n}}};function Qn(s){return s.join("")}var b0=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qn(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qn(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qn(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qn(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qn(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qn(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof oi&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof oi&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},k0=class{constructor(s){let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=x0({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new _0(this.client,r),this.tableOps=new b0(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},Ga=class extends Error{constructor(s,r="storage",n,a){super(s),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function Ja(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Aa=class extends Ga{constructor(s,r,n,a="storage"){super(s,a,r,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_f=class extends Ga{constructor(s,r,n="storage"){super(s,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const S0=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),E0=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},nu=s=>{if(Array.isArray(s))return s.map(n=>nu(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=nu(a)}),r},j0=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function li(s){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},li(s)}function N0(s,r){if(li(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(li(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function C0(s){var r=N0(s,"string");return li(r)=="symbol"?r:r+""}function T0(s,r,n){return(r=C0(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Eh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function de(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Eh(Object(n),!0).forEach(function(a){T0(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}const jh=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},R0=async(s,r,n,a)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!n?.noResolveJson){const l=s,u=l.status||500;if(typeof l.json=="function")l.json().then(d=>{const p=d?.statusCode||d?.code||u+"";r(new Aa(jh(d),u,p,a))}).catch(()=>{if(a==="vectors"){const d=u+"";r(new Aa(l.statusText||`HTTP ${u} error`,u,d,a))}else{const d=u+"";r(new Aa(l.statusText||`HTTP ${u} error`,u,d,a))}});else{const d=u+"";r(new Aa(l.statusText||`HTTP ${u} error`,u,d,a))}}else r(new _f(jh(s),s,a))},P0=(s,r,n,a)=>{const l={method:s,headers:r?.headers||{}};return s==="GET"||s==="HEAD"||!a?de(de({},l),n):(E0(a)?(l.headers=de({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(a)):l.body=a,r?.duplex&&(l.duplex=r.duplex),de(de({},l),n))};async function ei(s,r,n,a,l,u,d){return new Promise((p,m)=>{s(n,P0(r,a,l,u)).then(y=>{if(!y.ok)throw y;if(a?.noResolveJson)return y;if(d==="vectors"){const w=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!w||!w.includes("application/json"))return{}}return y.json()}).then(y=>p(y)).catch(y=>R0(y,m,a,d))})}function bf(s="storage"){return{get:async(r,n,a,l)=>ei(r,"GET",n,a,l,void 0,s),post:async(r,n,a,l,u)=>ei(r,"POST",n,l,u,a,s),put:async(r,n,a,l,u)=>ei(r,"PUT",n,l,u,a,s),head:async(r,n,a,l)=>ei(r,"HEAD",n,de(de({},a),{},{noResolveJson:!0}),l,void 0,s),remove:async(r,n,a,l,u)=>ei(r,"DELETE",n,l,u,a,s)}}const O0=bf("storage"),{get:ui,post:Jt,put:su,head:A0,remove:xu}=O0,Tt=bf("vectors");var cs=class{constructor(s,r={},n,a="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.fetch=S0(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var r=this;try{return{data:await s(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ja(n))return{data:null,error:n};throw n}}},I0=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ja(r))return{data:null,error:r};throw r}}};let kf;kf=Symbol.toStringTag;var L0=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[kf]="BlobDownloadBuilder",this.promise=null}asStream(){return new I0(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ja(r))return{data:null,error:r};throw r}}};const $0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var D0=class extends cs{constructor(s,r={},n,a){super(s,r,a,"storage"),this.bucketId=n}async uploadOrUpdate(s,r,n,a){var l=this;return l.handleOperation(async()=>{let u;const d=de(de({},Nh),a);let p=de(de({},l.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",l.encodeMetadata(m)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(m))):(u=n,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,m&&(p["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),a?.headers&&(p=de(de({},p),a.headers));const y=l._removeEmptyFolders(r),w=l._getFinalPath(y),g=await(s=="PUT"?su:Jt)(l.fetch,`${l.url}/object/${w}`,u,de({headers:p},d?.duplex?{duplex:d.duplex}:{}));return{path:y,id:g.Id,fullPath:g.Key}})}async upload(s,r,n){return this.uploadOrUpdate("POST",s,r,n)}async uploadToSignedUrl(s,r,n,a){var l=this;const u=l._removeEmptyFolders(s),d=l._getFinalPath(u),p=new URL(l.url+`/object/upload/sign/${d}`);return p.searchParams.set("token",r),l.handleOperation(async()=>{let m;const y=de({upsert:Nh.upsert},a),w=de(de({},l.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",y.cacheControl)):(m=n,w["cache-control"]=`max-age=${y.cacheControl}`,w["content-type"]=y.contentType),{path:u,fullPath:(await su(l.fetch,p.toString(),m,{headers:w})).Key}})}async createSignedUploadUrl(s,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(s);const l=de({},n.headers);r?.upsert&&(l["x-upsert"]="true");const u=await Jt(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(n.url+u.url),p=d.searchParams.get("token");if(!p)throw new Ga("No token returned by API");return{signedUrl:d.toString(),path:s,token:p}})}async update(s,r,n){return this.uploadOrUpdate("PUT",s,r,n)}async move(s,r,n){var a=this;return a.handleOperation(async()=>await Jt(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:a.headers}))}async copy(s,r,n){var a=this;return a.handleOperation(async()=>({path:(await Jt(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(s,r,n){var a=this;return a.handleOperation(async()=>{let l=a._getFinalPath(s),u=await Jt(a.fetch,`${a.url}/object/sign/${l}`,de({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const d=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${u.signedURL}${d}`)}})}async createSignedUrls(s,r,n){var a=this;return a.handleOperation(async()=>{const l=await Jt(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:r,paths:s},{headers:a.headers}),u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l.map(d=>de(de({},d),{},{signedUrl:d.signedURL?encodeURI(`${a.url}${d.signedURL}${u}`):null}))})}download(s,r,n){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(s),p=()=>ui(this.fetch,`${this.url}/${a}/${d}${u}`,{headers:this.headers,noResolveJson:!0},n);return new L0(p,this.shouldThrowOnError)}async info(s){var r=this;const n=r._getFinalPath(s);return r.handleOperation(async()=>nu(await ui(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})))}async exists(s){var r=this;const n=r._getFinalPath(s);try{return await A0(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ja(a)&&a instanceof _f){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}}getPublicUrl(s,r){const n=this._getFinalPath(s),a=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&a.push(l);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${p}`)}}}async remove(s){var r=this;return r.handleOperation(async()=>await xu(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}))}async list(s,r,n){var a=this;return a.handleOperation(async()=>{const l=de(de(de({},$0),r),{},{prefix:s||""});return await Jt(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},n)})}async listV2(s,r){var n=this;return n.handleOperation(async()=>{const a=de({},s);return await Jt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},r)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const U0="2.95.3",mi={"X-Client-Info":`storage-js/${U0}`};var M0=class extends cs{constructor(s,r={},n,a){const l=new URL(s);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const u=l.href.replace(/\/$/,""),d=de(de({},mi),r);super(u,d,n,"storage")}async listBuckets(s){var r=this;return r.handleOperation(async()=>{const n=r.listBucketOptionsToQueryString(s);return await ui(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers})})}async getBucket(s){var r=this;return r.handleOperation(async()=>await ui(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}))}async createBucket(s,r={public:!1}){var n=this;return n.handleOperation(async()=>await Jt(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}))}async updateBucket(s,r){var n=this;return n.handleOperation(async()=>await su(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(s){var r=this;return r.handleOperation(async()=>await Jt(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}))}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await xu(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},B0=class extends cs{constructor(s,r={},n){const a=s.replace(/\/$/,""),l=de(de({},mi),r);super(a,l,n,"storage")}async createBucket(s){var r=this;return r.handleOperation(async()=>await Jt(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}))}async listBuckets(s){var r=this;return r.handleOperation(async()=>{const n=new URLSearchParams;s?.limit!==void 0&&n.set("limit",s.limit.toString()),s?.offset!==void 0&&n.set("offset",s.offset.toString()),s?.sortColumn&&n.set("sortColumn",s.sortColumn),s?.sortOrder&&n.set("sortOrder",s.sortOrder),s?.search&&n.set("search",s.search);const a=n.toString(),l=a?`${r.url}/bucket?${a}`:`${r.url}/bucket`;return await ui(r.fetch,l,{headers:r.headers})})}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await xu(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}))}from(s){var r=this;if(!j0(s))throw new Ga("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new k0({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(l,u){const d=l[u];return typeof d!="function"?d:async(...p)=>{try{return{data:await d.apply(l,p),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}}}})}},F0=class extends cs{constructor(s,r={},n){const a=s.replace(/\/$/,""),l=de(de({},mi),{},{"Content-Type":"application/json"},r);super(a,l,n,"vectors")}async createIndex(s){var r=this;return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{})}async getIndex(s,r){var n=this;return n.handleOperation(async()=>await Tt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers}))}async listIndexes(s){var r=this;return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}))}async deleteIndex(s,r){var n=this;return n.handleOperation(async()=>await Tt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers})||{})}},z0=class extends cs{constructor(s,r={},n){const a=s.replace(/\/$/,""),l=de(de({},mi),{},{"Content-Type":"application/json"},r);super(a,l,n,"vectors")}async putVectors(s){var r=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{})}async getVectors(s){var r=this;return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}))}async listVectors(s){var r=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}))}async queryVectors(s){var r=this;return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}))}async deleteVectors(s){var r=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{})}},q0=class extends cs{constructor(s,r={},n){const a=s.replace(/\/$/,""),l=de(de({},mi),{},{"Content-Type":"application/json"},r);super(a,l,n,"vectors")}async createBucket(s){var r=this;return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{})}async getBucket(s){var r=this;return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}))}async listBuckets(s={}){var r=this;return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}))}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await Tt.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{})}},H0=class extends q0{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new W0(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,n=this;return r().call(n,s)}async getBucket(s){var r=()=>super.getBucket,n=this;return r().call(n,s)}async listBuckets(s={}){var r=()=>super.listBuckets,n=this;return r().call(n,s)}async deleteBucket(s){var r=()=>super.deleteBucket,n=this;return r().call(n,s)}},W0=class extends F0{constructor(s,r,n,a){super(s,r,a),this.vectorBucketName=n}async createIndex(s){var r=()=>super.createIndex,n=this;return r().call(n,de(de({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,n=this;return r().call(n,de(de({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,s)}index(s){return new V0(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},V0=class extends z0{constructor(s,r,n,a,l){super(s,r,l),this.vectorBucketName=n,this.indexName=a}async putVectors(s){var r=()=>super.putVectors,n=this;return r().call(n,de(de({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var r=()=>super.getVectors,n=this;return r().call(n,de(de({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,n=this;return r().call(n,de(de({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,n=this;return r().call(n,de(de({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,n=this;return r().call(n,de(de({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},K0=class extends M0{constructor(s,r={},n,a){super(s,r,n,a)}from(s){return new D0(this.url,this.headers,s,this.fetch)}get vectors(){return new H0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new B0(this.url+"/iceberg",this.headers,this.fetch)}};const Sf="2.95.3",ns=30*1e3,iu=3,ql=iu*ns,G0="http://localhost:9999",J0="supabase.auth.token",Q0={"X-Client-Info":`gotrue-js/${Sf}`},au="X-Supabase-Api-Version",Ef={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X0=600*1e3;class ci extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function se(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Z0 extends ci{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function ev(s){return se(s)&&s.name==="AuthApiError"}class bn extends ci{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class _r extends ci{constructor(r,n,a,l){super(r,a,l),this.name=n,this.status=a}}class Ct extends _r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hl(s){return se(s)&&s.name==="AuthSessionMissingError"}class Yn extends _r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ia extends _r{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class La extends _r{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tv(s){return se(s)&&s.name==="AuthImplicitGrantRedirectError"}class Ch extends _r{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rv extends _r{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ou extends _r{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Wl(s){return se(s)&&s.name==="AuthRetryableFetchError"}class Th extends _r{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class lu extends _r{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rh=` 	
\r=`.split(""),nv=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Rh.length;r+=1)s[Rh[r].charCodeAt(0)]=-2;for(let r=0;r<Ba.length;r+=1)s[Ba[r].charCodeAt(0)]=r;return s})();function Ph(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Ba[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Ba[a]),r.queuedBits-=6}}function jf(s,r,n){const a=nv[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Oh(s){const r=[],n=d=>{r.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{av(d,a,n)};for(let d=0;d<s.length;d+=1)jf(s.charCodeAt(d),l,u);return r.join("")}function sv(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function iv(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}sv(a,r)}}function av(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function as(s){const r=[],n={queue:0,queuedBits:0},a=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)jf(s.charCodeAt(l),n,a);return new Uint8Array(r)}function ov(s){const r=[];return iv(s,n=>r.push(n)),new Uint8Array(r)}function kn(s){const r=[],n={queue:0,queuedBits:0},a=l=>{r.push(l)};return s.forEach(l=>Ph(l,n,a)),Ph(null,n,a),r.join("")}function lv(s){return Math.round(Date.now()/1e3)+s}function uv(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",vn={tested:!1,writable:!1},Nf=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vn.tested)return vn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),vn.tested=!0,vn.writable=!0}catch{vn.tested=!0,vn.writable=!1}return vn.writable};function cv(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((a,l)=>{r[l]=a}),r}const Cf=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),dv=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ss=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},wn=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},it=async(s,r)=>{await s.removeItem(r)};class Qa{constructor(){this.promise=new Qa.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Qa.promiseConstructor=Promise;function $a(s){const r=s.split(".");if(r.length!==3)throw new lu("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!Y0.test(r[a]))throw new lu("JWT not in base64url format");return{header:JSON.parse(Oh(r[0])),payload:JSON.parse(Oh(r[1])),signature:as(r[2]),raw:{header:r[0],payload:r[1]}}}async function hv(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function fv(s,r){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await s(u);if(!r(u,null,d)){a(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function pv(s){return("0"+s.toString(16)).substr(-2)}function mv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(r),Array.from(r,pv).join("")}async function gv(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function yv(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await gv(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xn(s,r,n=!1){const a=mv();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await ss(s,`${r}-code-verifier`,l);const u=await yv(a);return[u,a===u?"plain":"s256"]}const vv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wv(s){const r=s.headers.get(au);if(!r||!r.match(vv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function xv(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function _v(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zn(s){if(!bv.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vl(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kv(s,r){return new Proxy(s,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,l)}})}function Ah(s){return JSON.parse(JSON.stringify(s))}const xn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Sv=[502,503,504];async function Ih(s){var r;if(!dv(s))throw new ou(xn(s),0);if(Sv.includes(s.status))throw new ou(xn(s),s.status);let n;try{n=await s.json()}catch(u){throw new bn(xn(u),u)}let a;const l=wv(s);if(l&&l.getTime()>=Ef["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Th(xn(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new Ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Th(xn(n),s.status,n.weak_password.reasons);throw new Z0(xn(n),s.status||500,a)}const Ev=(s,r,n,a)=>{const l={method:s,headers:r?.headers||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function ce(s,r,n,a){var l;const u=Object.assign({},a?.headers);u[au]||(u[au]=Ef["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const d=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(d.redirect_to=a.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await jv(s,r,n+p,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(m):{data:Object.assign({},m),error:null}}async function jv(s,r,n,a,l,u){const d=Ev(r,a,l,u);let p;try{p=await s(n,Object.assign({},d))}catch(m){throw console.error(m),new ou(xn(m),0)}if(p.ok||await Ih(p),a?.noResolveJson)return p;try{return await p.json()}catch(m){await Ih(m)}}function Gt(s){var r;let n=null;Tv(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=lv(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function Lh(s){const r=Gt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Qr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Nv(s){return{data:s,error:null}}function Cv(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:l,verification_type:u}=s,d=Ka(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:a,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:p,user:m},error:null}}function $h(s){return s}function Tv(s){return s.access_token&&s.refresh_token&&s.expires_in}const Kl=["global","local","others"];class Rv{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=Cf(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Kl[0]){if(Kl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kl.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qr})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=Ka(r,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Cv,redirectTo:n?.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Qr})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,l,u,d,p,m;try{const y={nextPage:null,lastPage:0,total:0},w=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:$h});if(w.error)throw w.error;const g=await w.json(),_=(d=w.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(p=w.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(C.split(";")[1].split("=")[1]);y[`${k}Page`]=P}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},g),y),error:null}}catch(y){if(se(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Zn(r);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Qr})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Zn(r);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Qr})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){Zn(r);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qr})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){Zn(r.userId);try{const{data:n,error:a}=await ce(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Zn(r.userId),Zn(r.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,l,u,d,p,m;try{const y={nextPage:null,lastPage:0,total:0},w=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:$h});if(w.error)throw w.error;const g=await w.json(),_=(d=w.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(p=w.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(C.split(";")[1].split("=")[1]);y[`${k}Page`]=P}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},g),y),error:null}}catch(y){if(se(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(se(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}}function Dh(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const es={debug:!!(globalThis&&Nf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Pv extends Tf{}async function Ov(s,r,n){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Pv(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(es.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Av(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rf(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Iv(s){return parseInt(s,16)}function Lv(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function $v(s){var r;const{chainId:n,domain:a,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:p,requestId:m,resources:y,scheme:w,uri:g,version:_}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const b=Rf(s.address),C=w?`${w}://${a}`:a,P=s.statement?`${s.statement}
`:"",k=`${C} wants you to sign in with your Ethereum account:
${b}

${P}`;let A=`URI: ${g}
Version: ${_}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(A+=`
Expiration Time: ${l.toISOString()}`),p&&(A+=`
Not Before: ${p.toISOString()}`),m&&(A+=`
Request ID: ${m}`),y){let U=`
Resources:`;for(const j of y){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);U+=`
- ${j}`}A+=U}return`${k}
${A}`}class qe extends Error{constructor({message:r,code:n,cause:a,name:l}){var u;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=l??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class Fa extends qe{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Dv({error:s,options:r}){var n,a,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new qe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(Pf(d)){if(u.rp.id!==d)return new qe({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Uv({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new qe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(Pf(a)){if(n.rpId!==a)return new qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Mv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Bv=new Mv;function Fv(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:a}=s,l=Ka(s,["challenge","user","excludeCredentials"]),u=as(r).buffer,d=Object.assign(Object.assign({},n),{id:as(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:d});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const y=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:as(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function zv(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,a=Ka(s,["challenge","allowCredentials"]),l=as(r).buffer,u=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},p),{id:as(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function qv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:kn(new Uint8Array(s.response.attestationObject)),clientDataJSON:kn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Hv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,a=s.getClientExtensionResults(),l=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:kn(new Uint8Array(l.authenticatorData)),clientDataJSON:kn(new Uint8Array(l.clientDataJSON)),signature:kn(new Uint8Array(l.signature)),userHandle:l.userHandle?kn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Pf(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Uh(){var s,r;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Wv(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Fa("Browser returned unexpected credential type",r)}:{data:null,error:new Fa("Empty credential response",r)}}catch(r){return{data:null,error:Dv({error:r,options:s})}}}async function Vv(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Fa("Browser returned unexpected credential type",r)}:{data:null,error:new Fa("Empty credential response",r)}}catch(r){return{data:null,error:Uv({error:r,options:s})}}}const Kv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Gv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function za(...s){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of s)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))a[u]=d;else if(n(d))a[u]=d;else if(r(d)){const p=a[u];r(p)?a[u]=za(p,d):a[u]=za(d)}else a[u]=d}return a}function Jv(s,r){return za(Kv,s,r||{})}function Qv(s,r){return za(Gv,s,r||{})}class Yv{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:l},u){var d;try{const{data:p,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!p)return{data:null,error:m};const y=l??Bv.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:w}=p.webauthn.credential_options.publicKey;if(!w.name){const g=a;if(g)w.name=`${w.id}:${g}`;else{const b=(await this.client.getUser()).data.user,C=((d=b?.user_metadata)===null||d===void 0?void 0:d.name)||b?.email||b?.id||"User";w.name=`${w.id}:${C}`}}w.displayName||(w.displayName=w.name)}switch(p.webauthn.type){case"create":{const w=Jv(p.webauthn.credential_options.publicKey,u?.create),{data:g,error:_}=await Wv({publicKey:w,signal:y});return g?{data:{factorId:r,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}case"request":{const w=Qv(p.webauthn.credential_options.publicKey,u?.request),{data:g,error:_}=await Vv(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:w,signal:y}));return g?{data:{factorId:r,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}}}catch(p){return se(p)?{data:null,error:p}:{data:null,error:new bn("Unexpected error in challenge",p)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new ci("rpId is required for WebAuthn authentication")};try{if(!Uh())return{data:null,error:new bn("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:u});if(!d)return{data:null,error:p};const{webauthn:m}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:a,credential_response:m.credential_response}})}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new bn("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new ci("rpId is required for WebAuthn registration")};try{if(!Uh())return{data:null,error:new bn("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(w=>{var g;return(g=w.data)===null||g===void 0?void 0:g.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:p};const{data:m,error:y}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new bn("Unexpected error in register",d)}}}}Av();const Xv={url:G0,storageKey:J0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mh(s,r,n){return await n()}const ts={};class di{get jwks(){var r,n;return(n=(r=ts[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=ts[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{cachedAt:r})}constructor(r){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Xv),r);if(this.storageKey=u.storageKey,this.instanceID=(n=di.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,di.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&at()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Rv({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Cf(u.fetch),this.lock=u.lock||Mh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&at()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=Ov:this.lock=Mh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Nf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Dh(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},a="none";if(at()&&(n=cv(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),at()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),tv(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?this._returnResult({error:n}):this._returnResult({error:new bn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,l;try{const u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=r?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Gt}),{data:d,error:p}=u;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,a,l;try{let u;if("email"in r){const{email:w,password:g,options:_}=r;let b=null,C=null;this.flowType==="pkce"&&([b,C]=await Xn(this.storage,this.storageKey)),u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:w,password:g,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:b,code_challenge_method:C},xform:Gt})}else if("phone"in r){const{phone:w,password:g,options:_}=r;u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:g,data:(a=_?.data)!==null&&a!==void 0?a:{},channel:(l=_?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Gt})}else throw new Ia("You must provide either an email or phone number and a password");const{data:d,error:p}=u;if(p||!d)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(u){if(await it(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:p}=r;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Lh})}else if("phone"in r){const{phone:u,password:d,options:p}=r;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Lh})}else throw new Ia("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const u=new Yn;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,a,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,l,u,d,p,m,y,w,g,_;let b,C;if("message"in r)b=r.message,C=r.signature;else{const{chain:P,wallet:k,statement:A,options:U}=r;let j;if(at())if(typeof k=="object")j=k;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")j=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=k}const N=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href),F=await j.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=Rf(F[0]);let D=(a=U?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!D){const G=await j.request({method:"eth_chainId"});D=Iv(G)}const K={domain:N.host,address:$,statement:A,uri:N.href,version:"1",chainId:D,nonce:(l=U?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=U?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=U?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=U?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(w=U?.signInWithEthereum)===null||w===void 0?void 0:w.resources};b=$v(K),C=await j.request({method:"personal_sign",params:[Lv(b),$]})}try{const{data:P,error:k}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:C},!((g=r.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Gt});if(k)throw k;if(!P||!P.session||!P.user){const A=new Yn;return this._returnResult({data:{user:null,session:null},error:A})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:k})}catch(P){if(se(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(r){var n,a,l,u,d,p,m,y,w,g,_,b;let C,P;if("message"in r)C=r.message,P=r.signature;else{const{chain:k,wallet:A,statement:U,options:j}=r;let N;if(at())if(typeof A=="object")N=A;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))N=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=A}const F=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const $=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),U?{statement:U}:null));let D;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")D=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)D=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)C=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),P=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${F.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(l=(a=j?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=j?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((p=j?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((y=j?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((g=(w=j?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||g===void 0)&&g.length?["Resources",...j.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const $=await N.signMessage(new TextEncoder().encode(C),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=$}}try{const{data:k,error:A}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:kn(P)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Gt});if(A)throw A;if(!k||!k.session||!k.user){const U=new Yn;return this._returnResult({data:{user:null,session:null},error:U})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:A})}catch(k){if(se(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(r){const n=await wn(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new rv;const{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Gt});if(await it(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const p=new Yn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(await it(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:a,token:l,access_token:u,nonce:d}=r,p=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Gt}),{data:m,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const w=new Yn;return this._returnResult({data:{user:null,session:null},error:w})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,a,l,u,d;try{if("email"in r){const{email:p,options:m}=r;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Xn(this.storage,this.storageKey));const{error:g}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(a=m?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:w},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in r){const{phone:p,options:m}=r,{data:y,error:w}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:w})}throw new Ia("You must provide either an email or phone number.")}catch(p){if(await it(this.storage,`${this.storageKey}-code-verifier`),se(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var n,a;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:p}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Gt});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,y=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,a,l,u,d;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Xn(this.storage,this.storageKey));const y=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=r?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:Nv});return!((u=y.data)===null||u===void 0)&&u.url&&at()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await it(this.storage,`${this.storageKey}-code-verifier`),se(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new Ct;const{error:l}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:l,options:u}=r,{error:d}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:a,type:l,options:u}=r,{data:d,error:p}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new Ia("You must provide either an email or phone number and a type")}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<ql:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const d=await wn(this.userStorage,this.storageKey+"-user");d?.user?r.user=d.user:r.user=Vl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=kv(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Qr}):await this._useSession(async n=>{var a,l,u;const{data:d,error:p}=n;if(p)throw p;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Qr})})}catch(n){if(se(n))return Hl(n)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new Ct;const d=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await Xn(this.storage,this.storageKey));const{data:y,error:w}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:d.access_token,xform:Qr});if(w)throw w;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await it(this.storage,`${this.storageKey}-code-verifier`),se(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Ct;const n=Date.now()/1e3;let a=n,l=!0,u=null;const{payload:d}=$a(r.access_token);if(d.exp&&(a=d.exp,l=a<=n),l){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:d,error:p}=n;if(p)throw p;r=(a=d.session)!==null&&a!==void 0?a:void 0}if(!r?.refresh_token)throw new Ct;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!at())throw new La("No browser detected.");if(r.error||r.error_description||r.error_code)throw new La(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ch("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new La("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ch("No code detected.");const{data:U,error:j}=await this._exchangeCodeForSession(r.code);if(j)throw j;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:p,expires_at:m,token_type:y}=r;if(!u||!p||!d||!y)throw new La("No session defined in URL");const w=Math.round(Date.now()/1e3),g=parseInt(p);let _=w+g;m&&(_=parseInt(m));const b=_-w;b*1e3<=ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const C=_-g;w-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,w):w-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,w);const{data:P,error:k}=await this._getUser(u);if(k)throw k;const A={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:g,expires_at:_,refresh_token:d,token_type:y,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:r.type},error:null})}catch(a){if(se(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await wn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:u}=n;if(u&&!Hl(u))return this._returnResult({error:u});const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:p}=await this.admin.signOut(d,r);if(p&&!(ev(p)&&(p.status===404||p.status===401||p.status===403)||Hl(p)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=uv(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Xn(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await it(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:l}=await this._useSession(async u=>{var d,p,m,y,w;const{data:g,error:_}=u;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",b,{headers:this.headers,jwt:(w=(y=g.session)===null||y===void 0?void 0:y.access_token)!==null&&w!==void 0?w:void 0})});if(l)throw l;return at()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:r.provider,url:a?.url},error:null})}catch(a){if(se(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:p,token:m,access_token:y,nonce:w}=r,g=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:y,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Gt}),{data:_,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Yn}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:b}))}catch(l){if(await it(this.storage,`${this.storageKey}-code-verifier`),se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,l;const{data:u,error:d}=n;if(d)throw d;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await fv(async l=>(l>0&&await hv(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Gt})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Wl(u)&&Date.now()+d-a<ns})}catch(a){if(this._debug(n,"error",a),se(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),at()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await wn(this.storage,this.storageKey);if(l&&this.userStorage){let d=await wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await ss(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d?.user)!==null&&r!==void 0?r:Vl()}else if(l&&!l.user&&!l.user){const d=await wn(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await it(this.storage,this.storageKey+"-user"),await ss(this.storage,this.storageKey,l)):l.user=Vl()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ql;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${ql}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Wl(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(l.access_token);!p&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Qa;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new Ct;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),se(u)){const d={data:null,error:u};return Wl(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,a=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await ss(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=Ah(l);await ss(this.storage,this.storageKey,u)}else{const l=Ah(n);await ss(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ns);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-r)/ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${ns}ms, refresh threshold is ${iu} ticks`),l<=iu&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Tf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,d]=await Xn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(p.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await ce(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:y}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?qv(r.webauthn.credential_response):Hv(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await ce(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await ce(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Fv(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:zv(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n?.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(r){var n,a,l,u;if(r)try{const{payload:b}=$a(r);let C=null;b.aal&&(C=b.aal);let P=C;const{data:{user:k},error:A}=await this.getUser(r);if(A)return this._returnResult({data:null,error:A});((a=(n=k?.factors)===null||n===void 0?void 0:n.filter(N=>N.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(P="aal2");const j=b.amr||[];return{data:{currentLevel:C,nextLevel:P,currentAuthenticationMethods:j},error:null}}catch(b){if(se(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:d},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=$a(d.access_token);let y=null;m.aal&&(y=m.aal);let w=y;((u=(l=d.user.factors)===null||l===void 0?void 0:l.filter(b=>b.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(w="aal2");const _=m.amr||[];return{data:{currentLevel:y,nextLevel:w,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Ct});const d=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&at()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Ct});const d=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&at()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(p=>p.kid===r);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+X0>l)return a;const{data:u,error:d}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:b,error:C}=await this.getSession();if(C||!b.session)return this._returnResult({data:null,error:C});a=b.session.access_token}const{header:l,payload:u,signature:d,raw:{header:p,payload:m}}=$a(a);n?.allowExpired||xv(u.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!y){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:u,header:l,signature:d},error:null}}const w=_v(l.alg),g=await crypto.subtle.importKey("jwk",y,w,!0,["verify"]);if(!await crypto.subtle.verify(w,g,d,ov(`${p}.${m}`)))throw new lu("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}}di.nextInstanceID={};const Zv=di,ew="2.95.3";let ri="";typeof Deno<"u"?ri="deno":typeof document<"u"?ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ri="react-native":ri="node";const tw={"X-Client-Info":`supabase-js-${ri}/${ew}`},rw={headers:tw},nw={schema:"public"},sw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iw={};function hi(s){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hi(s)}function aw(s,r){if(hi(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(hi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function ow(s){var r=aw(s,"string");return hi(r)=="symbol"?r:r+""}function lw(s,r,n){return(r=ow(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Bh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,a)}return n}function De(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Bh(Object(n),!0).forEach(function(a){lw(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}const uw=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),cw=()=>Headers,dw=(s,r,n)=>{const a=uw(n),l=cw();return async(u,d)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:s;let y=new l(d?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),a(u,De(De({},d),{},{headers:y}))}};function hw(s){return s.endsWith("/")?s:s+"/"}function fw(s,r){var n,a;const{db:l,auth:u,realtime:d,global:p}=s,{db:m,auth:y,realtime:w,global:g}=r,_={db:De(De({},m),l),auth:De(De({},y),u),realtime:De(De({},w),d),storage:{},global:De(De(De({},g),p),{},{headers:De(De({},(n=g?.headers)!==null&&n!==void 0?n:{}),(a=p?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function pw(s){const r=s?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hw(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mw=class extends Zv{constructor(s){super(s)}},gw=class{constructor(s,r,n){var a,l;this.supabaseUrl=s,this.supabaseKey=r;const u=pw(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:nw,realtime:iw,auth:De(De({},sw),{},{storageKey:d}),global:rw},m=fw(n??{},p);if(this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(w,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=m.auth)!==null&&y!==void 0?y:{},this.headers,m.global.fetch)}this.fetch=dw(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(De({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new e0(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new K0(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Vy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,n;if(s.accessToken)return await s.accessToken();const{data:a}=await s.auth.getSession();return(r=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:l,storageKey:u,flowType:d,lock:p,debug:m,throwOnError:y},w,g){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mw({url:this.authUrl.href,headers:De(De({},_),w),storageKey:u,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:l,flowType:d,lock:p,debug:m,throwOnError:y,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new y0(this.realtimeUrl.href,De(De({},s),{},{params:De(De({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yw=(s,r,n)=>new gw(s,r,n);function vw(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const r=s.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}vw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ww="sb_publishable_QHRfGNW8kXkGIA9tSN6FSQ_u7-EvK-k",xw="https://cpoqycbsgufjjcoopbyn.supabase.co",ve=yw(xw,ww),Of=R.createContext(void 0);class _w{memoryStorage={};useLocalStorage=!1;constructor(){try{const r="__test__";localStorage.setItem(r,"test"),localStorage.removeItem(r),this.useLocalStorage=!0}catch{console.log("localStorage not available, using memory storage"),this.useLocalStorage=!1}}getItem(r){if(this.useLocalStorage)try{return localStorage.getItem(r)}catch{return this.memoryStorage[r]||null}return this.memoryStorage[r]||null}setItem(r,n){if(this.useLocalStorage)try{localStorage.setItem(r,n);return}catch{this.memoryStorage[r]=n}this.memoryStorage[r]=n}removeItem(r){if(this.useLocalStorage)try{localStorage.removeItem(r);return}catch{delete this.memoryStorage[r]}delete this.memoryStorage[r]}}const Gl=new _w;function bw({children:s}){const[r,n]=R.useState(null),[a,l]=R.useState(!0);R.useEffect(()=>{(async()=>{const{data:{session:w}}=await ve.auth.getSession();w?.user&&n({id:w.user.id,email:w.user.email||"",name:w.user.user_metadata?.name||"User",role:w.user.user_metadata?.role||"customer"}),l(!1)})();const{data:{subscription:y}}=ve.auth.onAuthStateChange((w,g)=>{g?.user?(n({id:g.user.id,email:g.user.email||"",name:g.user.user_metadata?.name||"User",role:g.user.user_metadata?.role||"customer"}),Gl.setItem("user",JSON.stringify({id:g.user.id,email:g.user.email||"",name:g.user.user_metadata?.name||"User",role:g.user.user_metadata?.role||"customer"}))):(n(null),Gl.removeItem("user"))});return()=>y.unsubscribe()},[]);const u=async(m,y)=>{const{data:w,error:g}=await ve.auth.signInWithPassword({email:m,password:y});if(g)throw console.error("Supabase login error:",g),new Error(g.message)},d=async()=>{await ve.auth.signOut(),n(null),Gl.removeItem("user"),sessionStorage.removeItem("user")},p=()=>{const m={id:"guest-"+Date.now(),email:"guest@example.com",name:"Guest",role:"customer"};n(m),sessionStorage.setItem("user",JSON.stringify(m))};return f.jsx(Of.Provider,{value:{user:r,loading:a,login:u,logout:d,guestLogin:p},children:s})}function ds(){const s=R.useContext(Of);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,a)=>a?a.toUpperCase():n.toLowerCase()),Fh=s=>{const r=Sw(s);return r.charAt(0).toUpperCase()+r.slice(1)},Af=(...s)=>s.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ew={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=R.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...p},m)=>R.createElement("svg",{ref:m,...Ew,width:r,height:r,stroke:s,strokeWidth:a?Number(n)*24/Number(r):n,className:Af("lucide",l),...p},[...d.map(([y,w])=>R.createElement(y,w)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(s,r)=>{const n=R.forwardRef(({className:a,...l},u)=>R.createElement(jw,{ref:u,iconNode:r,className:Af(`lucide-${kw(Fh(s))}`,`lucide-${s}`,a),...l}));return n.displayName=Fh(s),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_u=Pe("arrow-left",Nw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zh=Pe("check",Cw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],uu=Pe("chef-hat",Tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pw=Pe("circle-check-big",Rw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qh=Pe("circle-check",Ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hh=Pe("circle",Aw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],cu=Pe("clock",Iw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Wh=Pe("credit-card",Lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Dw=Pe("eye-off",$w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mw=Pe("eye",Uw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],qa=Pe("log-out",Bw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M5 12h14",key:"1ays0h"}]],bu=Pe("minus",Fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yt=Pe("plus",zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Hw=Pe("printer",qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Vw=Pe("qr-code",Ww);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],If=Pe("refresh-cw",Kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Jw=Pe("search",Gw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yw=Pe("shield",Qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vh=Pe("shopping-cart",Xw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ex=Pe("square-pen",Zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],os=Pe("trash-2",tx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nx=Pe("user",rx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Lf=Pe("users",sx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],ax=Pe("utensils-crossed",ix);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ha=Pe("x",ox),Kh=["Appetizers","Main Courses","Desserts","Beverages"];function lx(){const[s,r]=R.useState([]),[n,a]=R.useState(!0),[l,u]=R.useState(!1),[d,p]=R.useState(null),[m,y]=R.useState(!1),[w,g]=R.useState({name:"",category:"",price:"",description:"",image:""});R.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:N,error:F}=await ve.from("menu_items").select("*");if(F)throw F;N&&r(N)}catch(N){console.error("Error fetching menu:",N)}finally{a(!1)}},b=async()=>{try{const{error:N}=await ve.from("menu_items").insert([{name:w.name,category:w.category,price:parseFloat(w.price),description:w.description,image:w.image,available:!0}]);N?(console.error(N),alert("Failed to add menu item")):(await _(),u(!1),g({name:"",category:"",price:"",description:"",image:""}))}catch(N){console.error("Error adding menu item:",N),alert("Error adding menu item")}},C=async N=>{try{const{error:F}=await ve.from("menu_items").update({name:w.name,category:w.category,price:parseFloat(w.price),description:w.description,image:w.image}).eq("id",N);F?(console.error(F),alert("Failed to update menu item")):(await _(),p(null),g({name:"",category:"",price:"",description:"",image:""}))}catch(F){console.error("Error updating menu item:",F),alert("Error updating menu item")}},P=async N=>{if(confirm("Are you sure you want to delete this item?"))try{const{error:F}=await ve.from("menu_items").delete().eq("id",N);F?(console.error(F),alert("Failed to delete menu item")):await _()}catch(F){console.error("Error deleting menu item:",F),alert("Error deleting menu item")}},k=async(N,F)=>{try{const{error:$}=await ve.from("menu_items").update({available:!F}).eq("id",N);$?console.error($):await _()}catch($){console.error("Error toggling availability:",$)}},A=N=>{p(N.id),y(!Kh.includes(N.category)),g({name:N.name,category:N.category,price:N.price.toString(),description:N.description,image:N.image})},U=()=>{p(null),u(!1),y(!1),g({name:"",category:"",price:"",description:"",image:""})},j=Array.from(new Set([...Kh,...s.map(N=>N.category)]));return n?f.jsx("div",{className:"text-center py-8",children:"Loading menu..."}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Menu Management"}),!l&&f.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Yt,{className:"w-4 h-4"}),"Add New Item"]})]}),l&&f.jsxs("div",{className:"bg-white border-2 border-blue-500 rounded-lg p-6 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Add New Menu Item"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"Item Name",value:w.name,onChange:N=>g({...w,name:N.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("select",{value:m?"Custom":w.category,onChange:N=>{N.target.value==="Custom"?(y(!0),g({...w,category:""})):(y(!1),g({...w,category:N.target.value}))},className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Select Category"}),j.map(N=>f.jsx("option",{value:N,children:N},N)),f.jsx("option",{value:"Custom",children:"Custom..."})]}),m&&f.jsx("input",{type:"text",placeholder:"Enter custom category",value:w.category,onChange:N=>g({...w,category:N.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsx("input",{type:"number",step:"0.01",placeholder:"Price ()",value:w.price,onChange:N=>g({...w,price:N.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f.jsx("input",{type:"text",placeholder:"Image URL",value:w.image,onChange:N=>g({...w,image:N.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsx("textarea",{placeholder:"Description",value:w.description,onChange:N=>g({...w,description:N.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[f.jsx(zh,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:[f.jsx(Ha,{className:"w-4 h-4"}),"Cancel"]})]})]}),j.map(N=>{const F=s.filter($=>$.category===N);return F.length===0?null:f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 border-b pb-2",children:N}),f.jsx("div",{className:"grid gap-4",children:F.map($=>f.jsx("div",{className:"bg-white rounded-lg border p-4",children:d===$.id?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",value:w.name,onChange:D=>g({...w,name:D.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("select",{value:m?"Custom":w.category,onChange:D=>{D.target.value==="Custom"?(y(!0),g({...w,category:""})):(y(!1),g({...w,category:D.target.value}))},className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[j.map(D=>f.jsx("option",{value:D,children:D},D)),f.jsx("option",{value:"Custom",children:"Custom..."})]}),m&&f.jsx("input",{type:"text",placeholder:"Enter custom category",value:w.category,onChange:D=>g({...w,category:D.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),f.jsx("input",{type:"number",step:"0.01",value:w.price,onChange:D=>g({...w,price:D.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),f.jsx("input",{type:"text",value:w.image,onChange:D=>g({...w,image:D.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),f.jsx("textarea",{value:w.description,onChange:D=>g({...w,description:D.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>C($.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[f.jsx(zh,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:[f.jsx(Ha,{className:"w-4 h-4"}),"Cancel"]})]})]}):f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("img",{src:$.image,alt:$.name,className:"w-20 h-20 object-cover rounded"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-semibold text-lg",children:$.name}),f.jsx("p",{className:"text-gray-600 text-sm",children:$.description}),f.jsxs("p",{className:"text-green-600 font-bold mt-1",children:["",$.price.toFixed(2)]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>k($.id,$.available),className:`p-2 rounded-lg transition ${$.available?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:$.available?"Available":"Unavailable",children:$.available?f.jsx(Mw,{className:"w-5 h-5"}):f.jsx(Dw,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>A($),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition",children:f.jsx(ex,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>P($.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition",children:f.jsx(os,{className:"w-5 h-5"})})]})]})},$.id))})]},N)})]})}function $f({table:s,isOpen:r,onClose:n,isAdmin:a=!1}){const[l,u]=R.useState(null),[d,p]=R.useState([]),[m,y]=R.useState(!1),[w,g]=R.useState("All"),[_,b]=R.useState(!0);R.useEffect(()=>{r&&s&&(C(),P())},[r,s]);const C=async()=>{if(!(!s||!s.sessionId))try{const{data:$,error:D}=await ve.from("orders").select(`
          *,
          items:order_items(
            id,
            menu_item_id,
            quantity,
            price_at_time,
            status,
            notes,
            menu_item:menu_items(name)
          )
        `).eq("session_id",s.sessionId).single();if(D)throw D;if($){const K={...$,items:$.items.map(G=>({...G,name:G.menu_item?.name}))};u(K)}}catch($){console.error("Error fetching session details:",$)}finally{b(!1)}},P=async()=>{try{const{data:$,error:D}=await ve.from("menu_items").select("*").eq("available",!0);if(D)throw D;$&&p($)}catch($){console.error("Error fetching menu items:",$)}},k=async($,D)=>{if(!(D<1))try{const{error:K}=await ve.from("order_items").update({quantity:D}).eq("id",$);K||C()}catch(K){console.error("Error updating quantity:",K)}},A=async $=>{try{const{error:D}=await ve.from("order_items").delete().eq("id",$);D||C()}catch(D){console.error("Error removing item:",D)}},U=async $=>{if(s)try{const K=[...l?.items||[]];let G=l?.id;if(!G){const{data:ye,error:Se}=await ve.from("orders").insert([{session_id:s.sessionId,table_id:s.id,status:"pending"}]).select().single();if(Se)throw Se;G=ye.id}const{error:ie}=await ve.from("order_items").insert([{order_id:G,menu_item_id:$.id,quantity:1,price_at_time:$.price,status:"pending"}]);ie||C()}catch(D){console.error("Error adding item:",D)}},j=["All",...new Set(d.map($=>$.category))],N=w==="All"?d:d.filter($=>$.category===w),F=l?.paymentStatus!=="success";return!r||!s?null:f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold",children:["Table ",s?.number]}),f.jsxs("p",{className:"text-gray-600",children:["Capacity: ",s?.capacity," people"]})]}),f.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition",children:f.jsx(Ha,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:_?f.jsx("div",{className:"text-center py-8",children:"Loading..."}):l?f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Session Status"}),f.jsx("div",{className:"grid grid-cols-1 gap-4 text-sm",children:f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-600",children:"Payment Status"}),f.jsx("p",{className:`font-semibold ${l.paymentStatus==="success"?"text-green-600":"text-yellow-600"}`,children:l.paymentStatus==="success"?"PAID":"PENDING"})]})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"font-semibold text-lg",children:"Ordered Items"}),a&&F&&f.jsxs("button",{onClick:()=>y(!m),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Hw,{className:"w-4 h-4"}),"Add Items"]})]}),l.items?.length===0?f.jsx("p",{className:"text-gray-500 text-center py-8",children:"No items ordered yet"}):f.jsx("div",{className:"space-y-3",children:l.items?.map($=>f.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[f.jsx("img",{src:$.image,alt:$.name,className:"w-16 h-16 object-cover rounded"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-semibold",children:$.name}),f.jsxs("p",{className:"text-gray-600",children:["",$.price.toFixed(2)]}),$.status&&f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",$.status]})]}),F&&!a?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>k($.id,$.quantity-1),className:"p-1 hover:bg-gray-200 rounded",children:f.jsx(bu,{className:"w-4 h-4"})}),f.jsx("span",{className:"w-8 text-center font-semibold",children:$.quantity}),f.jsx("button",{onClick:()=>k($.id,$.quantity+1),className:"p-1 hover:bg-gray-200 rounded",children:f.jsx(Yt,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>A($.id),className:"p-1 ml-2 hover:bg-red-100 text-red-600 rounded",children:f.jsx(os,{className:"w-4 h-4"})})]}):f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"font-semibold",children:["Qty: ",$.quantity]}),f.jsxs("p",{className:"text-sm text-gray-600",children:["",($.price*$.quantity).toFixed(2)]})]})]},$.id))}),f.jsx("div",{className:"mt-6 pt-4 border-t",children:f.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[f.jsx("span",{children:"Total Amount:"}),f.jsxs("span",{className:"text-green-600",children:["",l.totalAmount?.toFixed(2)||"0.00"]})]})})]}),a&&m&&F&&f.jsxs("div",{className:"border-t pt-6",children:[f.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Add Items to Order"}),f.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:j.map($=>f.jsx("button",{onClick:()=>g($),className:`px-4 py-2 rounded-lg whitespace-nowrap transition ${w===$?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:$},$))}),f.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-64 overflow-y-auto",children:N.map($=>f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition",children:[f.jsx("img",{src:$.image,alt:$.name,className:"w-12 h-12 object-cover rounded"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-semibold text-sm",children:$.name}),f.jsxs("p",{className:"text-gray-600 text-sm",children:["",$.price.toFixed(2)]})]}),f.jsx("button",{onClick:()=>U($),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition",children:f.jsx(Yt,{className:"w-4 h-4"})})]},$.id))})]})]}):f.jsx("div",{className:"text-center py-8 text-gray-500",children:"No active session for this table"})}),f.jsx("div",{className:"p-6 border-t bg-gray-50",children:f.jsx("button",{onClick:n,className:"w-full px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-semibold",children:"Close"})})]})})}function ux(){const{user:s,logout:r}=ds(),n=Xr(),[a,l]=R.useState([]),[u,d]=R.useState(!0),[p,m]=R.useState(!1),[y,w]=R.useState(null),[g,_]=R.useState(!1),[b,C]=R.useState("floor"),[P,k]=R.useState(!1),[A,U]=R.useState(""),[j,N]=R.useState(""),[F,$]=R.useState(!1),D=async()=>{try{const{data:O,error:B}=await ve.from("tables").select("*").order("number",{ascending:!0});if(B)throw B;if(O){const T=O.map(z=>({id:z.id,number:z.number,status:z.status,capacity:z.capacity,sessionId:z.session_id||z.sessionId}));l(T)}}catch(O){console.error("Error fetching tables:",O),xt.error("Failed to fetch tables from database")}finally{d(!1),m(!1)}};R.useEffect(()=>{D();const O=setInterval(D,2e3);return()=>clearInterval(O)},[]);const K=()=>{m(!0),D()},G=async O=>{try{const{error:B}=await ve.from("tables").update({status:"empty",session_id:null}).eq("id",O);B?alert("Failed to complete session"):D()}catch(B){console.error("Error completing session:",B),alert("Error completing session")}},ie=async O=>{try{const B=`sess_${Date.now()}`,{error:T}=await ve.from("tables").update({status:"occupied",session_id:B}).eq("id",O);T?alert("Failed to initialize table session"):n(`/menu/${O}`)}catch(B){console.error("Error initializing session:",B)}},ye=(O,B)=>{n(`/order/${B}`)},Se=async O=>{try{const{error:B}=await ve.from("tables").update({status:"reserved"}).eq("id",O);B?alert("Failed to reserve table"):D()}catch(B){console.error("Error reserving table:",B),alert("Error reserving table")}},xe=async O=>{try{const{error:B}=await ve.from("tables").update({status:"empty"}).eq("id",O);if(!B)D(),xt.success("Table status updated");else{console.log("Unreserve failed, trying fallback...");const{error:T}=await ve.from("tables").update({status:"empty",session_id:null}).eq("id",O);T?alert("Failed to reset table status."):(D(),xt.success("Table status reset (fallback)"))}}catch(B){console.error("Error unreserving table:",B),alert("Error unreserving table")}},He=O=>{O.sessionId?(w(O),_(!0)):O.status==="reserved"&&confirm(`Start session for reserved Table ${O.number}?`)&&ie(O.id)},Je=async O=>{O.preventDefault(),$(!0);try{const{error:B}=await ve.from("tables").insert([{number:parseInt(A),capacity:parseInt(j),status:"empty"}]);B?alert(`Failed to add table: ${B.message}`):(U(""),N(""),k(!1),D(),alert("Table added successfully!"))}catch(B){console.error("Error adding table:",B),alert("Error adding table")}finally{$(!1)}},ge=async O=>{if(confirm("Are you sure you want to remove this table?"))try{const{error:B}=await ve.from("tables").delete().eq("id",O);B?alert(`Failed to remove table: ${B.message}`):(D(),alert("Table removed successfully!"))}catch(B){console.error("Error removing table:",B),alert("Error removing table")}},pe=O=>{switch(O){case"empty":return"bg-green-500";case"occupied":return"bg-red-500";case"payment_confirmed":return"bg-yellow-500";case"payment_pending":case"payment-pending":return"bg-orange-500";case"reserved":return"bg-blue-500";default:return"bg-gray-500"}},J=O=>{switch(O){case"empty":return"Available";case"occupied":return"Occupied";case"payment_confirmed":return"Payment Done";case"payment_pending":case"payment-pending":return"Payment Pending";case"reserved":return"Reserved";default:return O}};return u?f.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:f.jsx("div",{className:"text-xl text-gray-600",children:"Loading dashboard..."})}):f.jsxs("div",{className:"min-h-screen bg-gray-100",children:[f.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[f.jsxs("div",{className:"w-full md:w-auto text-center md:text-left",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",s?.name||s?.email]})]}),f.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 w-full md:w-auto",children:[f.jsxs("button",{onClick:K,disabled:p,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50",children:[f.jsx(If,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Refresh"]}),f.jsxs("button",{onClick:()=>n("/kitchen"),className:"flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors",children:[f.jsx(uu,{className:"w-4 h-4"}),"Kitchen View"]}),f.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[f.jsx(qa,{className:"w-4 h-4"}),"Logout"]})]})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:f.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Available"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(O=>O.status==="empty").length})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:f.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Occupied"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(O=>O.status==="occupied").length})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:f.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Payment Done"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(O=>O.status==="payment_confirmed").length})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:f.jsx(Lf,{className:"w-6 h-6 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Total Tables"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]})]})})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6 gap-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 w-full md:w-auto",children:[f.jsx("button",{onClick:()=>C("floor"),className:`px-4 py-2 rounded-lg ${b==="floor"?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:"Floor Plan"}),f.jsx("button",{onClick:()=>C("menu"),className:`px-4 py-2 rounded-lg ${b==="menu"?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:"Menu Management"}),f.jsx("button",{onClick:()=>C("orders"),className:`px-4 py-2 rounded-lg ${b==="orders"?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:"Orders"}),f.jsx("button",{onClick:()=>C("tables"),className:`px-4 py-2 rounded-lg ${b==="tables"?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:"Manage Tables"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:()=>n("/kitchen"),className:"flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors",children:[f.jsx(uu,{className:"w-4 h-4"}),"Kitchen View"]}),f.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[f.jsx(qa,{className:"w-4 h-4"}),"Logout"]})]})]}),b==="floor"&&f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:a.map(O=>f.jsxs("div",{className:"relative border-2 border-gray-200 rounded-lg p-4 hover:shadow-lg transition-all",onClick:()=>He(O),children:[f.jsx("div",{className:`absolute top-2 right-2 w-3 h-3 ${pe(O.status)} rounded-full`}),f.jsxs("div",{className:"text-center mb-3",children:[f.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["T",O.number]}),f.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Capacity: ",O.capacity]})]}),f.jsx("div",{className:`text-xs font-bold text-center py-1.5 px-3 rounded-full shadow-sm ${O.status==="empty"?"bg-green-100 text-green-700 ring-1 ring-green-600/20":O.status==="occupied"?"bg-red-100 text-red-700 ring-1 ring-red-600/20":["payment_pending","payment-pending"].includes(O.status)?"bg-orange-100 text-orange-700 ring-1 ring-orange-600/20":"bg-yellow-100 text-yellow-800 ring-1 ring-yellow-600/20"}`,children:J(O.status)}),f.jsxs("div",{className:"mt-3 space-y-2",children:[O.status==="empty"&&f.jsxs("button",{onClick:B=>{B.stopPropagation(),ie(O.id)},className:"w-full flex items-center justify-center gap-1 px-3 py-2 bg-blue-500 text-white text-xs rounded-xl hover:bg-blue-600 transition-colors shadow-sm",children:[f.jsx(Yt,{className:"w-3 h-3"}),"Start Session"]}),(O.status==="occupied"||["payment_pending","payment-pending"].includes(O.status))&&O.sessionId&&f.jsx("button",{onClick:B=>{B.stopPropagation(),ye(O.id,O.sessionId)},className:`w-full px-3 py-2 text-white text-xs rounded-xl transition-colors shadow-sm font-medium ${["payment_pending","payment-pending"].includes(O.status)?"bg-blue-500 hover:bg-blue-600":"bg-purple-500 hover:bg-purple-600"}`,children:["payment_pending","payment-pending"].includes(O.status)?"Take Payment":"View Order"}),(O.status==="occupied"||["payment_pending","payment-pending"].includes(O.status))&&!O.sessionId&&f.jsx("button",{onClick:B=>{B.stopPropagation(),confirm("This table appears to be in an invalid state (missing session). Reset it to available?")&&xe(O.id)},className:"w-full px-3 py-2 bg-red-500 text-white text-xs rounded-xl hover:bg-red-600 transition-colors shadow-sm font-medium",children:"Reset Invalid Table"}),(O.status==="payment_confirmed"||O.status==="occupied")&&f.jsx("button",{onClick:B=>{B.stopPropagation(),G(O.id)},className:"w-full px-3 py-2 bg-gray-700 text-white text-xs rounded-xl hover:bg-gray-800 transition-colors shadow-sm font-medium",children:"Complete Session"}),O.status==="empty"&&f.jsx("button",{onClick:B=>{B.stopPropagation(),Se(O.id)},className:"w-full px-3 py-2 bg-blue-500 text-white text-xs rounded-xl hover:bg-blue-600 transition-colors shadow-sm font-medium",children:"Reserve Table"}),O.status==="reserved"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:B=>{B.stopPropagation(),ie(O.id)},className:"w-full flex items-center justify-center gap-1 px-3 py-2 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 transition-colors",children:[f.jsx(Yt,{className:"w-3 h-3"}),"Start Session"]}),f.jsx("button",{onClick:B=>{B.stopPropagation(),xe(O.id)},className:"w-full px-3 py-2 bg-gray-700 text-white text-xs rounded hover:bg-gray-800 transition-colors",children:"Unreserve Table"})]})]})]},O.id))}),b==="menu"&&f.jsx(lx,{}),b==="orders"&&f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.filter(O=>O.status==="occupied"||O.status==="payment_confirmed"||O.status==="payment_pending").map(O=>f.jsxs("div",{className:"relative border-2 border-gray-200 rounded-lg p-4 hover:shadow-lg transition-all",onClick:()=>He(O),children:[f.jsx("div",{className:`absolute top-2 right-2 w-3 h-3 ${pe(O.status)} rounded-full`}),f.jsxs("div",{className:"text-center mb-3",children:[f.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["T",O.number]}),f.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Capacity: ",O.capacity]})]}),f.jsx("div",{className:`text-xs font-semibold text-center py-1 px-2 rounded ${O.status==="empty"?"bg-green-100 text-green-700":O.status==="occupied"?"bg-red-100 text-red-700":O.status==="payment_pending"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:J(O.status)}),f.jsxs("div",{className:"mt-3 space-y-2",children:[(O.status==="occupied"||O.status==="payment_pending")&&O.sessionId&&f.jsx("button",{onClick:()=>ye(O.id,O.sessionId),className:`w-full px-3 py-2 text-white text-xs rounded transition-colors ${O.status==="payment_pending"?"bg-orange-500 hover:bg-orange-600":"bg-purple-500 hover:bg-purple-600"}`,children:O.status==="payment_pending"?"Process Payment":"View Order"}),(O.status==="payment_confirmed"||O.status==="occupied")&&f.jsx("button",{onClick:()=>G(O.id),className:"w-full px-3 py-2 bg-gray-700 text-white text-xs rounded hover:bg-gray-800 transition-colors",children:"Complete Session"})]})]},O.id))}),b==="tables"&&f.jsxs("div",{children:[f.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Table"}),f.jsxs("button",{onClick:()=>k(!P),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[f.jsx(Yt,{className:"w-4 h-4"}),"Add Table"]})]}),P&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Table Number"}),f.jsx("input",{type:"number",value:A,onChange:O=>U(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter table number",min:"1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),f.jsx("input",{type:"number",value:j,onChange:O=>N(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter capacity",min:"1",max:"12"})]}),f.jsxs("div",{className:"flex items-end gap-2",children:[f.jsxs("button",{onClick:Je,disabled:F,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:[f.jsx(Yt,{className:"w-4 h-4"}),F?"Adding...":"Add Table"]}),f.jsx("button",{onClick:()=>{k(!1),U(""),N("")},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:a.map(O=>f.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 hover:shadow-lg transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["Table ",O.number]}),f.jsxs("div",{className:"text-sm text-gray-500",children:["Capacity: ",O.capacity," people"]})]}),f.jsx("div",{className:`w-3 h-3 ${pe(O.status)} rounded-full`})]}),f.jsx("div",{className:`text-xs font-semibold text-center py-1 px-2 rounded mb-3 ${O.status==="empty"?"bg-green-100 text-green-700":O.status==="occupied"?"bg-red-100 text-red-700":O.status==="reserved"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:J(O.status)}),f.jsxs("div",{className:"space-y-2",children:[O.status==="empty"&&f.jsxs("button",{onClick:()=>ge(O.id),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors",children:[f.jsx(os,{className:"w-3 h-3"}),"Remove Table"]}),O.status!=="empty"&&f.jsx("div",{className:"text-xs text-gray-500 text-center py-2",children:"Cannot remove table while in use"})]})]},O.id))}),a.length===0&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"No tables configured"}),f.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors mx-auto",children:[f.jsx(Yt,{className:"w-5 h-5"}),"Add Your First Table"]})]})]})]})]}),f.jsx($f,{isOpen:g,onClose:()=>_(!1),table:y})]})}function cx(){const{user:s,logout:r}=ds(),n=Xr(),[a,l]=R.useState([]),[u,d]=R.useState(!0),[p,m]=R.useState(null),[y,w]=R.useState(!1),g=async()=>{try{const{data:k,error:A}=await ve.from("tables").select("*").order("number",{ascending:!0});if(A)throw A;if(k){const U=k.map(j=>({id:j.id,number:j.number,status:j.status,capacity:j.capacity,sessionId:j.session_id}));l(U)}}catch(k){console.error("Error fetching tables:",k)}finally{d(!1)}};R.useEffect(()=>{g();const k=setInterval(g,3e3);return()=>clearInterval(k)},[]);const _=async k=>{const A=s?.role==="waiter"||s?.role==="admin"||s?.email==="waiter@restaurant.com";if(k.status!=="empty"&&!A&&k.sessionId){alert("Only staff can access occupied tables");return}k.status==="empty"?n(`/menu/${k.id}`):k.sessionId?n(`/order/${k.sessionId}`):k.status==="reserved"&&(m(k),w(!0))},b=k=>{if(k==="payment_confirmed"&&s?.email==="guest@example.com")return"border-red-500 bg-red-50";switch(k){case"empty":return"border-green-500 bg-green-50";case"occupied":return"border-red-500 bg-red-50";case"payment_confirmed":return"border-yellow-500 bg-yellow-50";case"payment_pending":case"payment-pending":return"border-orange-500 bg-orange-100";case"reserved":return"border-blue-500 bg-blue-50";default:return"border-gray-300 bg-gray-50"}},C=k=>{if(k==="payment_confirmed"&&s?.email==="guest@example.com")return"text-red-800";switch(k){case"empty":return"text-green-800";case"occupied":return"text-red-800";case"payment_confirmed":return"text-yellow-800";case"payment_pending":case"payment-pending":return"text-orange-800";case"reserved":return"text-blue-800";default:return"text-gray-800"}},P=k=>{if(k==="payment_confirmed"&&s?.email==="guest@example.com")return f.jsx("span",{className:"px-3 py-1.5 bg-red-500 text-white text-xs font-bold rounded-full shadow-sm",children:"Occupied"});switch(k){case"empty":return f.jsx("span",{className:"px-3 py-1.5 bg-green-100 text-green-700 text-xs font-bold rounded-full shadow-sm ring-1 ring-green-600/20",children:"Available"});case"occupied":return f.jsx("span",{className:"px-3 py-1.5 bg-red-100 text-red-700 text-xs font-bold rounded-full shadow-sm ring-1 ring-red-600/20",children:"Occupied"});case"payment_confirmed":return f.jsx("span",{className:"px-3 py-1.5 bg-yellow-100 text-yellow-800 text-xs font-bold rounded-full shadow-sm ring-1 ring-yellow-600/20",children:"Payment Done"});case"payment_pending":case"payment-pending":return f.jsx("span",{className:"px-3 py-1.5 bg-orange-100 text-orange-700 text-xs font-bold rounded-full shadow-sm ring-1 ring-orange-600/20",children:"Payment Pending"});case"reserved":return f.jsx("span",{className:"px-3 py-1.5 bg-blue-100 text-blue-700 text-xs font-bold rounded-full shadow-sm ring-1 ring-blue-600/20",children:"Reserved"});default:return null}};return u?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:f.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[f.jsx("header",{className:"bg-white shadow-sm",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[f.jsxs("div",{className:"text-center sm:text-left",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Select a Table"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",s?.name||"Guest"]})]}),s?.email!=="guest@example.com"&&f.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[f.jsx(qa,{className:"w-4 h-4"}),"Logout"]})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:a.map(k=>f.jsxs("button",{onClick:()=>_(k),className:`relative border-4 rounded-2xl p-6 hover:shadow-xl transition-all transform hover:scale-105 ${b(k.status)}`,children:[f.jsx("div",{className:"absolute top-3 right-3",children:P(k.status)}),f.jsxs("div",{className:"text-center mt-4",children:[f.jsx("div",{className:`text-4xl font-bold mb-2 ${C(k.status)}`,children:k.number}),f.jsxs("div",{className:"text-sm font-medium text-gray-500 flex items-center justify-center gap-1",children:[f.jsx("span",{className:"text-lg",children:""}),k.capacity," seats"]})]}),s?.role==="admin"&&k.sessionId&&f.jsx("div",{className:"absolute bottom-2 left-0 right-0 text-center",children:f.jsxs("span",{className:"text-[10px] bg-white/50 px-2 py-1 rounded-full text-gray-600",children:["ID: ",k.sessionId.slice(0,4)]})})]},k.id))})}),f.jsx($f,{isOpen:y,onClose:()=>w(!1),table:p})]})}function dx(){const s=Xr(),{user:r,logout:n}=ds(),[a,l]=R.useState([]),[u,d]=R.useState(!0),[p,m]=R.useState(!1),y=R.useRef(!1),w=[...a].sort((D,K)=>new Date(D.createdAt).getTime()-new Date(K.createdAt).getTime()).reduce((D,K)=>{const G=D.find(ie=>ie.sessionId===K.sessionId);if(G){const ie=K.items.map(Se=>({...Se,originalOrderId:K.id})),ye=new Set(G.items.map(Se=>Se.id));ie.forEach(Se=>{ye.has(Se.id)||G.items.push(Se)}),G.originalOrderIds.includes(K.id)||G.originalOrderIds.push(K.id),new Date(K.createdAt)<new Date(G.createdAt)&&(G.createdAt=K.createdAt)}else D.push({...K,items:K.items.map(ie=>({...ie,originalOrderId:K.id})),originalOrderIds:[K.id]});return D},[]),g=async()=>{if(!y.current)try{const{data:D,error:K}=await ve.from("orders").select(`
          id,
          session_id,
          created_at,
          status,
          total_amount,
          table:tables!inner(number),
          items:order_items(
            id,
            quantity,
            status,
            notes,
            menu_item:menu_items!inner(id, name)
          )
        `).order("created_at",{ascending:!0});if(K)throw K;if(D&&!y.current){const G=D.map(ie=>({orderId:ie.id,orderTime:new Date(ie.created_at),tableNumber:ie.table.number,sessionId:ie.session_id,status:ie.status,items:ie.items.map(ye=>({id:ye.id,menuItemId:ye.menu_item.id,name:ye.menu_item.name,quantity:ye.quantity,status:ye.status,notes:ye.notes}))}));l(G)}}catch(D){console.error("Error fetching kitchen orders:",D)}finally{d(!1),m(!1)}},_=async()=>{};R.useEffect(()=>{g(),_();const D=setInterval(()=>{y.current||g()},1500);return()=>clearInterval(D)},[]);const b=()=>{m(!0),g()},C=async(D,K,G)=>{y.current=!0,l(ie=>ie.map(ye=>ye.items.some(xe=>xe.id===K)?{...ye,items:ye.items.map(xe=>xe.id===K?{...xe,status:G}:xe)}:ye));try{const{error:ie}=await ve.from("order_items").update({status:G}).eq("id",K);ie||await g()}catch(ie){console.error("Error updating item status:",ie),g()}finally{y.current=!1}},P=async(D,K,G)=>{y.current=!0,l(ie=>ie.map(ye=>ye.sessionId===K?{...ye,items:ye.items.map(Se=>({...Se,status:G}))}:ye));try{const{error:ie}=await ve.from("order_items").update({status:G}).eq("order_id",D);ie||(await new Promise(ye=>setTimeout(ye,100)),y.current=!1,await g())}catch(ie){console.error("Error updating all items status:",ie),y.current=!1,g()}finally{y.current&&(y.current=!1)}},k=async(D,K)=>{if(window.confirm("Are you sure you want to delete this completed order?")){y.current=!0,l(G=>G.filter(ie=>ie.sessionId!==K));try{const{error:G}=await ve.from("orders").update({status:"completed"}).eq("session_id",K),{error:ie}=await ve.from("orders").delete().eq("session_id",K);ie||await g()}catch(G){console.error("Error deleting order:",G),g()}finally{y.current=!1}}},A=async()=>{if(window.confirm("Are you sure you want to delete ALL completed orders?")){y.current=!0,l(D=>D.filter(K=>!K.items.every(G=>G.status==="ready")));try{const{error:D}=await ve.from("orders").delete().eq("status","completed");D||await g()}catch(D){console.error("Error deleting all completed orders:",D),g()}finally{y.current=!1}}},U=D=>{switch(D){case"pending":return f.jsx(Hh,{className:"w-5 h-5 text-gray-400"});case"in-progress":return f.jsx(cu,{className:"w-5 h-5 text-yellow-500 animate-pulse"});case"ready":return f.jsx(qh,{className:"w-5 h-5 text-green-500"});default:return f.jsx(Hh,{className:"w-5 h-5 text-gray-400"})}},j=D=>{switch(D){case"pending":return"bg-gray-100 text-gray-700 border-gray-300";case"in-progress":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"ready":return"bg-green-100 text-green-700 border-green-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},N=w.filter(D=>!D.items.every(K=>K.status==="ready")),F=w.filter(D=>D.items.every(K=>K.status==="ready")),$=(D,K)=>f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 overflow-hidden relative",children:[f.jsxs("div",{className:"absolute top-0 center-1/2 -translate-x-1/2 bg-yellow-500 text-yellow-900 font-bold px-4 py-1 rounded-b-lg z-10 shadow-md",children:["#",K+1]}),f.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-4 pt-8",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-2xl font-bold text-white",children:["Table ",D.tableNumber]}),f.jsx("p",{className:"text-sm text-purple-100",children:new Date(D.createdAt).toLocaleTimeString()})]}),f.jsxs("div",{className:"text-center mr-5",children:[f.jsx("div",{className:"text-xs text-purple-100 font-semibold uppercase",children:"Items"}),f.jsx("div",{className:"text-2xl font-bold text-white leading-none",children:D.items.length})]})]})}),f.jsx("div",{className:"p-4 space-y-3",children:D.items.map(G=>f.jsxs("div",{className:`border-2 rounded-lg p-3 ${j(G.status)}`,children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-semibold text-sm",children:G.name}),f.jsxs("div",{className:"text-xs opacity-75",children:["Quantity: ",G.quantity]}),G.notes&&f.jsxs("div",{className:"text-xs mt-1 italic",children:["Note: ",G.notes]})]}),f.jsx("div",{children:U(G.status)})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[f.jsx("button",{onClick:()=>C(G.originalOrderId||D.id,G.id,"pending"),disabled:G.status==="pending",className:`px-2 py-1 text-xs rounded transition-colors ${G.status==="pending"?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Pending"}),f.jsx("button",{onClick:()=>C(G.originalOrderId||D.id,G.id,"in-progress"),disabled:G.status==="in-progress",className:`px-2 py-1 text-xs rounded transition-colors ${G.status==="in-progress"?"bg-yellow-600 text-white":"bg-gray-700 text-gray-300 hover:bg-yellow-600"}`,children:"Cooking"}),f.jsx("button",{onClick:()=>C(G.originalOrderId||D.id,G.id,"ready"),disabled:G.status==="ready",className:`px-2 py-1 text-xs rounded transition-colors ${G.status==="ready"?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-green-600"}`,children:"Ready"})]})]},G.id))}),f.jsx("div",{className:"bg-gray-700 px-4 py-3",children:D.items.every(G=>G.status==="ready")?f.jsxs("button",{onClick:()=>k(D.id,D.sessionId),className:"w-full flex items-center justify-center gap-2 px-4 py-2 font-bold rounded shadow-md transition-all text-sm bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border border-red-500",children:[f.jsx(os,{className:"w-4 h-4"}),"Delete Order"]}):f.jsx("button",{onClick:()=>P(D.id,D.sessionId,"ready"),className:"w-full px-4 py-2 font-bold rounded shadow-md transition-all text-sm bg-green-600 text-white hover:bg-green-700",children:"Ready All Items"})})]},D.sessionId);return u?f.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:f.jsx("div",{className:"text-xl text-white",children:"Loading kitchen display..."})}):f.jsxs("div",{className:"min-h-screen bg-gray-900",children:[f.jsx("header",{className:"bg-gray-800 border-b border-gray-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-4",children:[r?.role==="admin"&&f.jsx("button",{onClick:()=>s("/admin"),className:"p-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",title:"Back to Dashboard",children:f.jsx(_u,{className:"w-5 h-5"})}),f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Kitchen Display System"})]}),f.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Active Orders: ",w.length]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:b,disabled:p,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:[f.jsx(If,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Refresh"]}),f.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[f.jsx(qa,{className:"w-4 h-4"}),"Logout"]})]})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2 pb-2 border-b border-gray-700",children:[f.jsx(cu,{className:"w-6 h-6 text-yellow-500"}),"Pending Orders (",N.length,")"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:N.length===0?f.jsx("div",{className:"col-span-full text-center",children:f.jsx("p",{className:"text-gray-500 italic",children:"No pending orders"})}):N.map((D,K)=>$(D,K))})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[f.jsx(qh,{className:"w-6 h-6 text-green-500"}),"Completed Orders (",F.length,")"]}),F.length>0&&f.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:[f.jsx(os,{className:"w-3 h-3"}),"Delete All"]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:F.length===0?f.jsx("div",{className:"col-span-full text-center",children:f.jsx("p",{className:"text-gray-500 italic",children:"No completed orders"})}):F.map((D,K)=>$(D,K))})]})]})})]})}function hx(){const[s,r]=R.useState(""),[n,a]=R.useState(""),[l,u]=R.useState(""),[d,p]=R.useState(!1),{login:m,user:y,guestLogin:w}=ds(),g=Xr();R.useEffect(()=>{y&&(console.log("User logged in:",y),y.role==="admin"?g("/admin",{replace:!0}):y.role==="kitchen"?g("/kitchen",{replace:!0}):g("/customer",{replace:!0}))},[y,g]);const _=async C=>{C.preventDefault(),u(""),p(!0);try{await m(s,n)}catch(P){console.error("Login failed:",P),u(P.message||"Login failed. Please try again."),p(!1)}},b=async C=>{if(C==="customer"){w();return}const k={admin:{email:"admin@restaurant.com",password:"admin123"},kitchen:{email:"kitchen@restaurant.com",password:"kitchen123"},waiter:{email:"waiter@restaurant.com",password:"waiter123"}}[C];r(k.email),a(k.password),u(""),p(!0),console.log("Quick login attempt:",k.email);try{await m(k.email,k.password)}catch(A){console.error("Quick login failed:",A),A.message.includes("Email not confirmed")?u("This demo account exists but the email address needs to be confirmed in the database dashboard (or 'Confirm Email' disabled in settings)."):A.message.includes("Invalid login credentials")?u("Demo account does not exist in the database. Please create a user with email "+k.email+" and password "+k.password+" in your Supabase project."):u(A.message||"Login failed"),p(!1)}};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl mb-4",children:f.jsx(ax,{className:"w-10 h-10 text-white"})}),f.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Restaurant Hub"}),f.jsx("p",{className:"text-purple-200",children:"Real-Time Management System"})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-2xl border border-white/20",children:[f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),f.jsx("input",{id:"email",type:"email",value:s,onChange:C=>r(C.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your email",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),f.jsx("input",{id:"password",type:"password",value:n,onChange:C=>a(C.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your password",required:!0})]}),l&&f.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-200 text-sm",children:l}),f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50",children:d?"Logging in...":"Sign In"})]}),f.jsxs("div",{className:"mt-8",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-white/20"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-4 bg-transparent text-purple-200",children:"Quick Login (Demo)"})})]}),f.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>b("admin"),className:"flex flex-col items-center gap-2 p-3 bg-white/5 hover:bg-white/10 border border-white/20 rounded-lg transition-all",children:[f.jsx(Yw,{className:"w-6 h-6 text-purple-400"}),f.jsx("span",{className:"text-xs text-white",children:"Admin"})]}),f.jsxs("button",{onClick:()=>b("kitchen"),className:"flex flex-col items-center gap-2 p-3 bg-white/5 hover:bg-white/10 border border-white/20 rounded-lg transition-all",children:[f.jsx(uu,{className:"w-6 h-6 text-pink-400"}),f.jsx("span",{className:"text-xs text-white",children:"Kitchen"})]}),f.jsxs("button",{onClick:()=>b("waiter"),className:"flex flex-col items-center gap-2 p-3 bg-white/5 hover:bg-white/10 border border-white/20 rounded-lg transition-all",children:[f.jsx(Lf,{className:"w-6 h-6 text-blue-400"}),f.jsx("span",{className:"text-xs text-white",children:"Waiter"})]}),f.jsxs("button",{onClick:()=>b("customer"),className:"flex flex-col items-center gap-2 p-3 bg-white/5 hover:bg-white/10 border border-white/20 rounded-lg transition-all",children:[f.jsx(nx,{className:"w-6 h-6 text-green-400"}),f.jsx("span",{className:"text-xs text-white",children:"Guest Entry"})]})]})]})]}),f.jsxs("div",{className:"mt-6 text-center text-purple-200 text-sm",children:[f.jsx("p",{children:"Demo Credentials:"}),f.jsxs("p",{className:"text-xs text-purple-300 mt-1",children:["Admin: admin@restaurant.com / admin123",f.jsx("br",{}),"Kitchen: kitchen@restaurant.com / kitchen123",f.jsx("br",{}),"Waiter: waiter@restaurant.com / waiter123"]})]})]})})}function fx(){const{tableId:s}=of(),r=Xr(),[n,a]=R.useState([]),[l,u]=R.useState([]),[d,p]=R.useState("All"),[m,y]=R.useState(""),[w,g]=R.useState(!0);R.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:j,error:N}=await ve.from("menu_items").select("*").eq("available",!0);if(N)throw N;j&&a(j)}catch(j){console.error("Error fetching menu:",j)}finally{g(!1)}},b=["All",...new Set(n.map(j=>j.category))],C=n.filter(j=>{const N=d==="All"||j.category===d,F=j.name.toLowerCase().includes(m.toLowerCase())||j.description.toLowerCase().includes(m.toLowerCase());return N&&F&&j.available}),P=j=>{const N=l.find(F=>F.id===j.id);u(N?l.map(F=>F.id===j.id?{...F,quantity:F.quantity+1}:F):[...l,{...j,quantity:1}])},k=j=>{const N=l.find(F=>F.id===j);N&&N.quantity>1?u(l.map(F=>F.id===j?{...F,quantity:F.quantity-1}:F)):u(l.filter(F=>F.id!==j))},A=()=>l.reduce((j,N)=>j+N.price*N.quantity,0),U=async()=>{if(l.length===0){alert("Please add items to your cart");return}try{const{data:j,error:N}=await ve.from("tables").select("session_id").eq("id",s).single();if(N)throw N;let F=j?.session_id;F||(F=`sess_${Date.now()}`,await ve.from("tables").update({session_id:F,status:"occupied"}).eq("id",s));const{data:$,error:D}=await ve.from("orders").insert([{session_id:F,table_id:s,status:"pending",total_amount:calculateTotal(),payment_status:"pending"}]).select().single();if(D)throw D;const K=$.id,G=l.map(ye=>({order_id:K,menu_item_id:ye.id,quantity:ye.quantity,price_at_time:ye.price,status:"pending",notes:ye.notes})),{error:ie}=await ve.from("order_items").insert(G);if(ie)throw ie;r(`/order/${F}`)}catch(j){console.error("Error creating order:",j),alert("Error creating order")}};return w?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"text-xl text-gray-600",children:"Loading menu..."})}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>r(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(_u,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Menu"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Select items to order"})]})]}),f.jsxs("button",{onClick:U,disabled:l.length===0,className:"hidden md:flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(Vh,{className:"w-5 h-5"}),f.jsx("span",{children:l.length>0?`${l.length} items - ${A().toFixed(2)}`:"Cart Empty"})]})]}),f.jsx("div",{className:"mt-4",children:f.jsxs("div",{className:"relative",children:[f.jsx(Jw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Search menu items...",value:m,onChange:j=>y(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),f.jsx("div",{className:"mt-4 flex gap-2 overflow-x-auto pb-2",children:b.map(j=>f.jsx("button",{onClick:()=>{p(j),window.scrollTo({top:0,behavior:"smooth"})},className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${d===j?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j},j))})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map(j=>{const F=l.find($=>$.id===j.id)?.quantity||0;return f.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow",children:[f.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[f.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover"}),f.jsxs("div",{className:"absolute top-2 right-2 px-3 py-1 bg-white rounded-full font-semibold text-blue-600",children:["",j.price.toFixed(2)]})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),f.jsx("p",{className:"text-xs text-gray-500",children:j.category})]}),f.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:j.description}),F===0?f.jsxs("button",{onClick:()=>P(j),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Yt,{className:"w-4 h-4"}),"Add to Cart"]}):f.jsxs("div",{className:"flex items-center justify-between bg-blue-50 rounded-lg p-2",children:[f.jsx("button",{onClick:()=>k(j.id),className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",children:f.jsx(bu,{className:"w-4 h-4 text-blue-600"})}),f.jsx("span",{className:"text-lg font-semibold text-blue-600",children:F}),f.jsx("button",{onClick:()=>P(j),className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",children:f.jsx(Yt,{className:"w-4 h-4 text-blue-600"})})]})]})]},j.id)})}),C.length===0&&f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-gray-500",children:"No items found"})})]}),l.length>0&&f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg md:hidden",children:f.jsx("div",{className:"p-4",children:f.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Vh,{className:"w-5 h-5"}),f.jsxs("span",{children:[l.length," items - ",A().toFixed(2)]})]})})})]})}function px(){const{sessionId:s}=of(),r=Xr(),{user:n}=ds(),[a,l]=R.useState(null),[u,d]=R.useState(!0),[p,m]=R.useState(!1),[y,w]=R.useState(!1),g=async()=>{try{const{data:N,error:F}=await ve.from("orders").select("*, table:tables!table_id ( number ), order_items ( id, menu_item_id, quantity, price_at_time, status, notes, menu_item:menu_items ( name ) )").eq("session_id",s).single();if(F)throw F;if(N){const $=N.order_items.map(D=>({id:D.id,menuItemId:D.menu_item_id,name:D.menu_item?.name||"Unknown Item",quantity:D.quantity,price:D.price_at_time,status:D.status,notes:D.notes}));l({id:N.session_id,tableId:N.table_id,tableNumber:N.table?.number||0,items:$,totalAmount:N.total_amount,paymentStatus:N.payment_status||"pending",createdAt:N.created_at,orderSent:N.status!=="pending"})}}catch(N){console.error("Error fetching session:",N)}finally{d(!1)}};R.useEffect(()=>{g();const N=setInterval(g,2e3);return()=>clearInterval(N)},[s]);const _=async(N,F)=>{if(a?.paymentStatus==="success"){xt.error("Cannot modify order after payment");return}if(!(F<1))try{const{error:$}=await ve.from("order_items").update({quantity:F}).eq("id",N);$?xt.error("Failed to update quantity"):g()}catch($){console.error("Error updating item:",$)}},b=async N=>{if(a?.paymentStatus==="success"){xt.error("Cannot modify order after payment");return}if(window.confirm("Are you sure you want to remove this item?"))try{const{error:F}=await ve.from("order_items").delete().eq("id",N);F?xt.error("Failed to remove item"):(g(),xt.success("Item removed from order"))}catch(F){console.error("Error removing item:",F),xt.error("Error removing item")}},C=async()=>{if(a&&window.confirm("Confirm send order to kitchen with 'Pay Later' status?"))try{const{error:N}=await ve.from("orders").update({status:"cooking"}).eq("session_id",s),{error:F}=await ve.from("order_items").update({status:"in-progress"}).eq("order_id",a.id);if(N)throw new Error(`Failed to confirm order: ${N.message}`);xt.success("Order sent to kitchen! Payment pending."),n?.role==="admin"?r("/admin"):r("/customer")}catch(N){console.error("Order confirmation error:",N),xt.error(N.message||"Failed to confirm order")}},P=async()=>{a&&window.confirm(`Confirm cash payment of ${a.totalAmount.toFixed(2)}?`)&&await A("cash")},k=async()=>{if(a){if(n?.role==="waiter"||n?.role==="admin"||n?.email==="waiter@restaurant.com"){w(!0);return}window.confirm(`Are you sure you want to pay ${a.totalAmount.toFixed(2)}?`)&&await A()}},A=async(N="card")=>{if(!a)return;m(!0);const F=xt.loading("Processing payment...");try{const{error:$}=await ve.from("orders").update({payment_status:"success",payment_method:N}).eq("session_id",s);if($)throw new Error("Payment failed. Please try again.");if(a.tableId){const{error:D}=await ve.from("tables").update({status:"payment_confirmed"}).eq("id",a.tableId)}await g(),xt.success("Payment successful! Order sent to kitchen.",{id:F})}catch($){console.error("Payment error:",$),xt.error($.message||"Payment failed",{id:F})}finally{m(!1)}},U=N=>({pending:f.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:"Pending"}),"in-progress":f.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Cooking"}),ready:f.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Ready"})})[N]||null;if(u)return f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"text-xl text-gray-600",children:"Loading order..."})});if(!a)return f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Order not found"}),f.jsx("button",{onClick:()=>r("/customer"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Tables"})]})});const j=a.paymentStatus==="success";return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white shadow-sm",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>{n?.role==="admin"?r("/admin"):r("/customer")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Back",children:f.jsx(_u,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Table ",a.tableNumber]}),f.jsx("p",{className:"text-sm text-gray-600",children:j?"Order placed - Check status below":a.orderSent?"Order sent to kitchen  Payment Pending":"Review your order"})]})]}),a.orderSent&&!j&&f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-orange-100 text-orange-700 rounded-lg w-full sm:w-auto justify-center sm:justify-start",children:[f.jsx(cu,{className:"w-5 h-5"}),f.jsx("span",{className:"font-semibold",children:"Payment Pending"})]}),j&&f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg w-full sm:w-auto justify-center sm:justify-start",children:[f.jsx(Pw,{className:"w-5 h-5"}),f.jsx("span",{className:"font-semibold",children:"Paid"})]})]})})}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[f.jsx("div",{className:"p-6 border-b border-gray-200",children:f.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Items"})}),f.jsx("div",{className:"divide-y divide-gray-200",children:a.items.length===0?f.jsxs("div",{className:"p-8 text-center text-gray-500",children:[f.jsx("p",{children:"No items in order"}),f.jsx("button",{onClick:()=>r(`/menu/${a.tableId}`),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Items"})]}):a.items.map(N=>f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.name}),j&&U(N.status)]}),f.jsxs("p",{className:"text-sm text-gray-600",children:["",N.price.toFixed(2)," each"]}),N.notes&&f.jsxs("p",{className:"text-sm text-gray-500 italic mt-1",children:["Note: ",N.notes]})]}),f.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[!j&&f.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[f.jsx("button",{onClick:()=>_(N.id,N.quantity-1),className:"p-1 hover:bg-white rounded transition-colors",children:f.jsx(bu,{className:"w-4 h-4"})}),f.jsx("span",{className:"px-3 font-semibold",children:N.quantity}),f.jsx("button",{onClick:()=>_(N.id,N.quantity+1),className:"p-1 hover:bg-white rounded transition-colors",children:f.jsx(Yt,{className:"w-4 h-4"})})]}),j&&f.jsxs("span",{className:"px-3 font-semibold text-gray-700",children:["Qty: ",N.quantity]}),f.jsx("div",{className:"w-24 text-right",children:f.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",(N.price*N.quantity).toFixed(2)]})}),!j&&f.jsx("button",{onClick:()=>b(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:f.jsx(os,{className:"w-5 h-5"})})]})]})},N.id))}),a.items.length>0&&f.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-4",children:[f.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount"}),f.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",a.totalAmount.toFixed(2)]})]}),!j&&f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:()=>r(`/menu/${a.tableId}`),className:"w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Add More Items"}),n?.role==="waiter"||n?.role==="admin"||n?.email==="waiter@restaurant.com"?f.jsx("div",{className:"flex flex-col gap-3",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[!a.orderSent&&f.jsx("button",{onClick:C,className:"flex-1 px-4 py-3 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors font-semibold shadow-sm text-sm",children:"Pay Later"}),f.jsxs("button",{onClick:P,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm text-sm font-semibold",children:[f.jsx(Wh,{className:"w-4 h-4"}),"Cash Pay"]}),f.jsxs("button",{onClick:k,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 shadow-sm text-sm font-semibold",children:[f.jsx(Vw,{className:"w-4 h-4"}),"Online"]})]})}):f.jsxs("button",{onClick:k,disabled:p,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[f.jsx(Wh,{className:"w-5 h-5"}),p?"Processing...":`Pay ${a.totalAmount.toFixed(2)}`]})]}),j&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[f.jsx("p",{className:"text-green-700 font-semibold",children:"Payment confirmed!"}),f.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Order is being prepared."})]}),f.jsxs("button",{onClick:()=>{n?.role==="admin"?r("/admin"):r("/customer")},className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Return to ",n?.role==="admin"?"Dashboard":"Home"]})]})]})]})}),y&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 relative shadow-2xl animate-in fade-in zoom-in duration-200",children:[f.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Ha,{className:"w-6 h-6 text-gray-500"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Scan to Pay"}),f.jsxs("p",{className:"text-gray-600 mb-6",children:["Total Amount: ",a?.totalAmount.toFixed(2)]}),f.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-dashed border-gray-300 inline-block mb-6",children:f.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=restaurant@upi&pn=Restaurant&am=${a?.totalAmount}&cu=INR`,alt:"Payment QR Code",className:"w-48 h-48"})}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Ask customer to scan to pay using any UPI app"}),f.jsx("button",{onClick:()=>{A(),w(!1)},disabled:p,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors shadow-sm",children:p?"Confirming Payment...":"Confirm Payment Received"})]})]})]})})]})}function ti({children:s,allowedRoles:r}){const{user:n,loading:a}=ds();return a?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})}):n?r.includes(n.role)?f.jsx(f.Fragment,{children:s}):f.jsx(Ql,{to:"/login",replace:!0}):f.jsx(Ql,{to:"/login",replace:!0})}function mx(){return f.jsxs(bw,{children:[f.jsx(zy,{position:"top-center",richColors:!0}),f.jsxs(Ig,{children:[f.jsx(Gr,{path:"/login",element:f.jsx(hx,{})}),f.jsx(Gr,{path:"/admin",element:f.jsx(ti,{allowedRoles:["admin"],children:f.jsx(ux,{})})}),f.jsx(Gr,{path:"/kitchen",element:f.jsx(ti,{allowedRoles:["kitchen","admin"],children:f.jsx(dx,{})})}),f.jsx(Gr,{path:"/customer",element:f.jsx(ti,{allowedRoles:["customer","waiter","admin"],children:f.jsx(cx,{})})}),f.jsx(Gr,{path:"/menu/:tableId",element:f.jsx(ti,{allowedRoles:["customer","waiter","admin"],children:f.jsx(fx,{})})}),f.jsx(Gr,{path:"/order/:sessionId",element:f.jsx(ti,{allowedRoles:["customer","waiter","admin"],children:f.jsx(px,{})})}),f.jsx(Gr,{path:"/",element:f.jsx(Ql,{to:"/login",replace:!0})})]})]})}Dm.createRoot(document.getElementById("root")).render(f.jsx(sy,{children:f.jsx(mx,{})}));
